function BP(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Sj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nj={exports:{}},_d={},Cj={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),UP=Symbol.for("react.portal"),zP=Symbol.for("react.fragment"),WP=Symbol.for("react.strict_mode"),HP=Symbol.for("react.profiler"),GP=Symbol.for("react.provider"),QP=Symbol.for("react.context"),YP=Symbol.for("react.forward_ref"),KP=Symbol.for("react.suspense"),XP=Symbol.for("react.memo"),JP=Symbol.for("react.lazy"),bx=Symbol.iterator;function ZP(e){return e===null||typeof e!="object"?null:(e=bx&&e[bx]||e["@@iterator"],typeof e=="function"?e:null)}var kj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pj=Object.assign,Dj={};function bo(e,t,n){this.props=e,this.context=t,this.refs=Dj,this.updater=n||kj}bo.prototype.isReactComponent={};bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tj(){}Tj.prototype=bo.prototype;function Xf(e,t,n){this.props=e,this.context=t,this.refs=Dj,this.updater=n||kj}var Jf=Xf.prototype=new Tj;Jf.constructor=Xf;Pj(Jf,bo.prototype);Jf.isPureReactComponent=!0;var Sx=Array.isArray,Mj=Object.prototype.hasOwnProperty,Zf={current:null},Ej={key:!0,ref:!0,__self:!0,__source:!0};function Aj(e,t,n){var s,i={},o=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Mj.call(t,s)&&!Ej.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:sl,type:e,key:o,ref:a,props:i,_owner:Zf.current}}function eD(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ep(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function tD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nx=/\/+/g;function _u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tD(""+e.key):t.toString(36)}function cc(e,t,n,s,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sl:case UP:a=!0}}if(a)return a=e,i=i(a),e=s===""?"."+_u(a,0):s,Sx(i)?(n="",e!=null&&(n=e.replace(Nx,"$&/")+"/"),cc(i,t,n,"",function(d){return d})):i!=null&&(ep(i)&&(i=eD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Nx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,s=s===""?".":s+":",Sx(e))for(var l=0;l<e.length;l++){o=e[l];var c=s+_u(o,l);a+=cc(o,t,n,c,i)}else if(c=ZP(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=s+_u(o,l++),a+=cc(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Dl(e,t,n){if(e==null)return e;var s=[],i=0;return cc(e,s,"","",function(o){return t.call(n,o,i++)}),s}function nD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},dc={transition:null},rD={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:dc,ReactCurrentOwner:Zf};function Rj(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Dl,forEach:function(e,t,n){Dl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Dl(e,function(){t++}),t},toArray:function(e){return Dl(e,function(t){return t})||[]},only:function(e){if(!ep(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=bo;Te.Fragment=zP;Te.Profiler=HP;Te.PureComponent=Xf;Te.StrictMode=WP;Te.Suspense=KP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rD;Te.act=Rj;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Pj({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Zf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mj.call(t,c)&&!Ej.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:sl,type:e.type,key:i,ref:o,props:s,_owner:a}};Te.createContext=function(e){return e={$$typeof:QP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GP,_context:e},e.Consumer=e};Te.createElement=Aj;Te.createFactory=function(e){var t=Aj.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:YP,render:e}};Te.isValidElement=ep;Te.lazy=function(e){return{$$typeof:JP,_payload:{_status:-1,_result:e},_init:nD}};Te.memo=function(e,t){return{$$typeof:XP,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=dc.transition;dc.transition={};try{e()}finally{dc.transition=t}};Te.unstable_act=Rj;Te.useCallback=function(e,t){return Wt.current.useCallback(e,t)};Te.useContext=function(e){return Wt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Wt.current.useEffect(e,t)};Te.useId=function(){return Wt.current.useId()};Te.useImperativeHandle=function(e,t,n){return Wt.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Wt.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return Wt.current.useReducer(e,t,n)};Te.useRef=function(e){return Wt.current.useRef(e)};Te.useState=function(e){return Wt.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return Wt.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return Wt.current.useTransition()};Te.version="18.3.1";Cj.exports=Te;var f=Cj.exports;const ce=Sj(f),tp=BP({__proto__:null,default:ce},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sD=f,iD=Symbol.for("react.element"),oD=Symbol.for("react.fragment"),aD=Object.prototype.hasOwnProperty,lD=sD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cD={key:!0,ref:!0,__self:!0,__source:!0};function Ij(e,t,n){var s,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)aD.call(t,s)&&!cD.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:iD,type:e,key:o,ref:a,props:i,_owner:lD.current}}_d.Fragment=oD;_d.jsx=Ij;_d.jsxs=Ij;Nj.exports=_d;var r=Nj.exports,hm={},Oj={exports:{}},pn={},Lj={exports:{}},Fj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,F){var J=A.length;A.push(F);e:for(;0<J;){var H=J-1>>>1,re=A[H];if(0<i(re,F))A[H]=F,A[J]=re,J=H;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var F=A[0],J=A.pop();if(J!==F){A[0]=J;e:for(var H=0,re=A.length,he=re>>>1;H<he;){var q=2*(H+1)-1,me=A[q],oe=q+1,ae=A[oe];if(0>i(me,J))oe<re&&0>i(ae,me)?(A[H]=ae,A[oe]=J,H=oe):(A[H]=me,A[q]=J,H=q);else if(oe<re&&0>i(ae,J))A[H]=ae,A[oe]=J,H=oe;else break e}}return F}function i(A,F){var J=A.sortIndex-F.sortIndex;return J!==0?J:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,u=null,m=3,p=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var F=n(d);F!==null;){if(F.callback===null)s(d);else if(F.startTime<=A)s(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(d)}}function b(A){if(g=!1,x(A),!v)if(n(c)!==null)v=!0,L(N);else{var F=n(d);F!==null&&V(b,F.startTime-A)}}function N(A,F){v=!1,g&&(g=!1,j(k),k=-1),p=!0;var J=m;try{for(x(F),u=n(c);u!==null&&(!(u.expirationTime>F)||A&&!D());){var H=u.callback;if(typeof H=="function"){u.callback=null,m=u.priorityLevel;var re=H(u.expirationTime<=F);F=e.unstable_now(),typeof re=="function"?u.callback=re:u===n(c)&&s(c),x(F)}else s(c);u=n(c)}if(u!==null)var he=!0;else{var q=n(d);q!==null&&V(b,q.startTime-F),he=!1}return he}finally{u=null,m=J,p=!1}}var M=!1,S=null,k=-1,R=5,P=-1;function D(){return!(e.unstable_now()-P<R)}function C(){if(S!==null){var A=e.unstable_now();P=A;var F=!0;try{F=S(!0,A)}finally{F?T():(M=!1,S=null)}}else M=!1}var T;if(typeof y=="function")T=function(){y(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=C,T=function(){W.postMessage(null)}}else T=function(){w(C,0)};function L(A){S=A,M||(M=!0,T())}function V(A,F){k=w(function(){A(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,L(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var J=m;m=F;try{return A()}finally{m=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var J=m;m=A;try{return F()}finally{m=J}},e.unstable_scheduleCallback=function(A,F,J){var H=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?H+J:H):J=H,A){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=J+re,A={id:h++,callback:F,priorityLevel:A,startTime:J,expirationTime:re,sortIndex:-1},J>H?(A.sortIndex=J,t(d,A),n(c)===null&&A===n(d)&&(g?(j(k),k=-1):g=!0,V(b,J-H))):(A.sortIndex=re,t(c,A),v||p||(v=!0,L(N))),A},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(A){var F=m;return function(){var J=m;m=F;try{return A.apply(this,arguments)}finally{m=J}}}})(Fj);Lj.exports=Fj;var dD=Lj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD=f,hn=dD;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _j=new Set,ba={};function mi(e,t){to(e,t),to(e+"Capture",t)}function to(e,t){for(ba[e]=t,e=0;e<t.length;e++)_j.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,hD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cx={},kx={};function mD(e){return mm.call(kx,e)?!0:mm.call(Cx,e)?!1:hD.test(e)?kx[e]=!0:(Cx[e]=!0,!1)}function fD(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pD(e,t,n,s){if(t===null||typeof t>"u"||fD(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,n,s,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var np=/[\-:]([a-z])/g;function rp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(np,rp);kt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(np,rp);kt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(np,rp);kt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function sp(e,t,n,s){var i=kt.hasOwnProperty(t)?kt[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pD(t,n,i,s)&&(n=null),s||i===null?mD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var _r=uD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),ip=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),$j=Symbol.for("react.provider"),Vj=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),gm=Symbol.for("react.suspense_list"),ap=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),qj=Symbol.for("react.offscreen"),Px=Symbol.iterator;function Oo(e){return e===null||typeof e!="object"?null:(e=Px&&e[Px]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,$u;function Jo(e){if($u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$u=t&&t[1]||""}return`
`+$u+e}var Vu=!1;function qu(e,t){if(!e||Vu)return"";Vu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=s.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Vu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jo(e):""}function gD(e){switch(e.tag){case 5:return Jo(e.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return e=qu(e.type,!1),e;case 11:return e=qu(e.type.render,!1),e;case 1:return e=qu(e.type,!0),e;default:return""}}function xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mi:return"Fragment";case Ti:return"Portal";case fm:return"Profiler";case ip:return"StrictMode";case pm:return"Suspense";case gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vj:return(e.displayName||"Context")+".Consumer";case $j:return(e._context.displayName||"Context")+".Provider";case op:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ap:return t=e.displayName||null,t!==null?t:xm(e.type)||"Memo";case Yr:t=e._payload,e=e._init;try{return xm(e(t))}catch{}}return null}function xD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xm(t);case 8:return t===ip?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vD(e){var t=Bj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){s=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ml(e){e._valueTracker||(e._valueTracker=vD(e))}function Uj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Bj(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vm(e,t){var n=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dx(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=ps(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zj(e,t){t=t.checked,t!=null&&sp(e,"checked",t,!1)}function ym(e,t){zj(e,t);var n=ps(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jm(e,t.type,n):t.hasOwnProperty("defaultValue")&&jm(e,t.type,ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jm(e,t,n){(t!=="number"||Mc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zo=Array.isArray;function Hi(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ps(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function wm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(Zo(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ps(n)}}function Wj(e,t){var n=ps(t.value),s=ps(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Ex(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,Gj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yD=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(e){yD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),aa[t]=aa[e]})});function Qj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||aa.hasOwnProperty(e)&&aa[e]?(""+t).trim():t+"px"}function Yj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Qj(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var jD=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(e,t){if(t){if(jD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Nm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=null;function lp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,Gi=null,Qi=null;function Ax(e){if(e=al(e)){if(typeof km!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Ud(t),km(e.stateNode,e.type,t))}}function Kj(e){Gi?Qi?Qi.push(e):Qi=[e]:Gi=e}function Xj(){if(Gi){var e=Gi,t=Qi;if(Qi=Gi=null,Ax(e),t)for(e=0;e<t.length;e++)Ax(t[e])}}function Jj(e,t){return e(t)}function Zj(){}var Bu=!1;function ew(e,t,n){if(Bu)return e(t,n);Bu=!0;try{return Jj(e,t,n)}finally{Bu=!1,(Gi!==null||Qi!==null)&&(Zj(),Xj())}}function Na(e,t){var n=e.stateNode;if(n===null)return null;var s=Ud(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Pm=!1;if(Tr)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Pm=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Pm=!1}function wD(e,t,n,s,i,o,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var la=!1,Ec=null,Ac=!1,Dm=null,bD={onError:function(e){la=!0,Ec=e}};function SD(e,t,n,s,i,o,a,l,c){la=!1,Ec=null,wD.apply(bD,arguments)}function ND(e,t,n,s,i,o,a,l,c){if(SD.apply(this,arguments),la){if(la){var d=Ec;la=!1,Ec=null}else throw Error(X(198));Ac||(Ac=!0,Dm=d)}}function fi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rx(e){if(fi(e)!==e)throw Error(X(188))}function CD(e){var t=e.alternate;if(!t){if(t=fi(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Rx(i),e;if(o===s)return Rx(i),t;o=o.sibling}throw Error(X(188))}if(n.return!==s.return)n=i,s=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,s=o;break}if(l===s){a=!0,s=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,s=i;break}if(l===s){a=!0,s=o,n=i;break}l=l.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==s)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function nw(e){return e=CD(e),e!==null?rw(e):null}function rw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rw(e);if(t!==null)return t;e=e.sibling}return null}var sw=hn.unstable_scheduleCallback,Ix=hn.unstable_cancelCallback,kD=hn.unstable_shouldYield,PD=hn.unstable_requestPaint,dt=hn.unstable_now,DD=hn.unstable_getCurrentPriorityLevel,cp=hn.unstable_ImmediatePriority,iw=hn.unstable_UserBlockingPriority,Rc=hn.unstable_NormalPriority,TD=hn.unstable_LowPriority,ow=hn.unstable_IdlePriority,$d=null,ir=null;function MD(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot($d,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:RD,ED=Math.log,AD=Math.LN2;function RD(e){return e>>>=0,e===0?32:31-(ED(e)/AD|0)|0}var Al=64,Rl=4194304;function ea(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ic(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?s=ea(l):(o&=a,o!==0&&(s=ea(o)))}else a=n&~i,a!==0?s=ea(a):o!==0&&(s=ea(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-_n(t),i=1<<n,s|=e[n],t&=~i;return s}function ID(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OD(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-_n(o),l=1<<a,c=i[a];c===-1?(!(l&n)||l&s)&&(i[a]=ID(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Tm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aw(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function Uu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function il(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=n}function LD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_n(n),o=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~o}}function dp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-_n(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var Ve=0;function lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cw,up,dw,uw,hw,Mm=!1,Il=[],rs=null,ss=null,is=null,Ca=new Map,ka=new Map,Jr=[],FD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ox(e,t){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(t.pointerId)}}function Fo(e,t,n,s,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[i]},t!==null&&(t=al(t),t!==null&&up(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _D(e,t,n,s,i){switch(t){case"focusin":return rs=Fo(rs,e,t,n,s,i),!0;case"dragenter":return ss=Fo(ss,e,t,n,s,i),!0;case"mouseover":return is=Fo(is,e,t,n,s,i),!0;case"pointerover":var o=i.pointerId;return Ca.set(o,Fo(Ca.get(o)||null,e,t,n,s,i)),!0;case"gotpointercapture":return o=i.pointerId,ka.set(o,Fo(ka.get(o)||null,e,t,n,s,i)),!0}return!1}function mw(e){var t=Ws(e.target);if(t!==null){var n=fi(t);if(n!==null){if(t=n.tag,t===13){if(t=tw(n),t!==null){e.blockedOn=t,hw(e.priority,function(){dw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Cm=s,n.target.dispatchEvent(s),Cm=null}else return t=al(n),t!==null&&up(t),e.blockedOn=n,!1;t.shift()}return!0}function Lx(e,t,n){uc(e)&&n.delete(t)}function $D(){Mm=!1,rs!==null&&uc(rs)&&(rs=null),ss!==null&&uc(ss)&&(ss=null),is!==null&&uc(is)&&(is=null),Ca.forEach(Lx),ka.forEach(Lx)}function _o(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,$D)))}function Pa(e){function t(i){return _o(i,e)}if(0<Il.length){_o(Il[0],e);for(var n=1;n<Il.length;n++){var s=Il[n];s.blockedOn===e&&(s.blockedOn=null)}}for(rs!==null&&_o(rs,e),ss!==null&&_o(ss,e),is!==null&&_o(is,e),Ca.forEach(t),ka.forEach(t),n=0;n<Jr.length;n++)s=Jr[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)mw(n),n.blockedOn===null&&Jr.shift()}var Yi=_r.ReactCurrentBatchConfig,Oc=!0;function VD(e,t,n,s){var i=Ve,o=Yi.transition;Yi.transition=null;try{Ve=1,hp(e,t,n,s)}finally{Ve=i,Yi.transition=o}}function qD(e,t,n,s){var i=Ve,o=Yi.transition;Yi.transition=null;try{Ve=4,hp(e,t,n,s)}finally{Ve=i,Yi.transition=o}}function hp(e,t,n,s){if(Oc){var i=Em(e,t,n,s);if(i===null)Zu(e,t,s,Lc,n),Ox(e,s);else if(_D(i,e,t,n,s))s.stopPropagation();else if(Ox(e,s),t&4&&-1<FD.indexOf(e)){for(;i!==null;){var o=al(i);if(o!==null&&cw(o),o=Em(e,t,n,s),o===null&&Zu(e,t,s,Lc,n),o===i)break;i=o}i!==null&&s.stopPropagation()}else Zu(e,t,s,null,n)}}var Lc=null;function Em(e,t,n,s){if(Lc=null,e=lp(s),e=Ws(e),e!==null)if(t=fi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lc=e,null}function fw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DD()){case cp:return 1;case iw:return 4;case Rc:case TD:return 16;case ow:return 536870912;default:return 16}default:return 16}}var es=null,mp=null,hc=null;function pw(){if(hc)return hc;var e,t=mp,n=t.length,s,i="value"in es?es.value:es.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===i[o-s];s++);return hc=i.slice(e,1<s?1-s:void 0)}function mc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ol(){return!0}function Fx(){return!1}function gn(e){function t(n,s,i,o,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ol:Fx,this.isPropagationStopped=Fx,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),t}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=gn(So),ol=ot({},So,{view:0,detail:0}),BD=gn(ol),zu,Wu,$o,Vd=ot({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(zu=e.screenX-$o.screenX,Wu=e.screenY-$o.screenY):Wu=zu=0,$o=e),zu)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),_x=gn(Vd),UD=ot({},Vd,{dataTransfer:0}),zD=gn(UD),WD=ot({},ol,{relatedTarget:0}),Hu=gn(WD),HD=ot({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),GD=gn(HD),QD=ot({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YD=gn(QD),KD=ot({},So,{data:0}),$x=gn(KD),XD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZD[e])?!!t[e]:!1}function pp(){return eT}var tT=ot({},ol,{key:function(e){if(e.key){var t=XD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(e){return e.type==="keypress"?mc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nT=gn(tT),rT=ot({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vx=gn(rT),sT=ot({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),iT=gn(sT),oT=ot({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),aT=gn(oT),lT=ot({},Vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cT=gn(lT),dT=[9,13,27,32],gp=Tr&&"CompositionEvent"in window,ca=null;Tr&&"documentMode"in document&&(ca=document.documentMode);var uT=Tr&&"TextEvent"in window&&!ca,gw=Tr&&(!gp||ca&&8<ca&&11>=ca),qx=String.fromCharCode(32),Bx=!1;function xw(e,t){switch(e){case"keyup":return dT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function hT(e,t){switch(e){case"compositionend":return vw(t);case"keypress":return t.which!==32?null:(Bx=!0,qx);case"textInput":return e=t.data,e===qx&&Bx?null:e;default:return null}}function mT(e,t){if(Ei)return e==="compositionend"||!gp&&xw(e,t)?(e=pw(),hc=mp=es=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gw&&t.locale!=="ko"?null:t.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ux(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fT[e.type]:t==="textarea"}function yw(e,t,n,s){Kj(s),t=Fc(t,"onChange"),0<t.length&&(n=new fp("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var da=null,Da=null;function pT(e){Mw(e,0)}function qd(e){var t=Ii(e);if(Uj(t))return e}function gT(e,t){if(e==="change")return t}var jw=!1;if(Tr){var Gu;if(Tr){var Qu="oninput"in document;if(!Qu){var zx=document.createElement("div");zx.setAttribute("oninput","return;"),Qu=typeof zx.oninput=="function"}Gu=Qu}else Gu=!1;jw=Gu&&(!document.documentMode||9<document.documentMode)}function Wx(){da&&(da.detachEvent("onpropertychange",ww),Da=da=null)}function ww(e){if(e.propertyName==="value"&&qd(Da)){var t=[];yw(t,Da,e,lp(e)),ew(pT,t)}}function xT(e,t,n){e==="focusin"?(Wx(),da=t,Da=n,da.attachEvent("onpropertychange",ww)):e==="focusout"&&Wx()}function vT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qd(Da)}function yT(e,t){if(e==="click")return qd(t)}function jT(e,t){if(e==="input"||e==="change")return qd(t)}function wT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:wT;function Ta(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!mm.call(t,i)||!Bn(e[i],t[i]))return!1}return!0}function Hx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gx(e,t){var n=Hx(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hx(n)}}function bw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sw(){for(var e=window,t=Mc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mc(e.document)}return t}function xp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bT(e){var t=Sw(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bw(n.ownerDocument.documentElement,n)){if(s!==null&&xp(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(s.start,i);s=s.end===void 0?o:Math.min(s.end,i),!e.extend&&o>s&&(i=s,s=o,o=i),i=Gx(n,o);var a=Gx(n,s);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ST=Tr&&"documentMode"in document&&11>=document.documentMode,Ai=null,Am=null,ua=null,Rm=!1;function Qx(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rm||Ai==null||Ai!==Mc(s)||(s=Ai,"selectionStart"in s&&xp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ua&&Ta(ua,s)||(ua=s,s=Fc(Am,"onSelect"),0<s.length&&(t=new fp("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ai)))}function Ll(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ri={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},Yu={},Nw={};Tr&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Bd(e){if(Yu[e])return Yu[e];if(!Ri[e])return e;var t=Ri[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nw)return Yu[e]=t[n];return e}var Cw=Bd("animationend"),kw=Bd("animationiteration"),Pw=Bd("animationstart"),Dw=Bd("transitionend"),Tw=new Map,Yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(e,t){Tw.set(e,t),mi(t,[e])}for(var Ku=0;Ku<Yx.length;Ku++){var Xu=Yx[Ku],NT=Xu.toLowerCase(),CT=Xu[0].toUpperCase()+Xu.slice(1);ks(NT,"on"+CT)}ks(Cw,"onAnimationEnd");ks(kw,"onAnimationIteration");ks(Pw,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(Dw,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function Kx(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,ND(s,t,void 0,e),e.currentTarget=null}function Mw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;Kx(i,l,d),o=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;Kx(i,l,d),o=c}}}if(Ac)throw e=Dm,Ac=!1,Dm=null,e}function Ge(e,t){var n=t[_m];n===void 0&&(n=t[_m]=new Set);var s=e+"__bubble";n.has(s)||(Ew(t,e,2,!1),n.add(s))}function Ju(e,t,n){var s=0;t&&(s|=4),Ew(n,e,s,t)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Ma(e){if(!e[Fl]){e[Fl]=!0,_j.forEach(function(n){n!=="selectionchange"&&(kT.has(n)||Ju(n,!1,e),Ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fl]||(t[Fl]=!0,Ju("selectionchange",!1,t))}}function Ew(e,t,n,s){switch(fw(t)){case 1:var i=VD;break;case 4:i=qD;break;default:i=hp}n=i.bind(null,t,n,e),i=void 0,!Pm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zu(e,t,n,s,i){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ws(l),a===null)return;if(c=a.tag,c===5||c===6){s=o=a;continue e}l=l.parentNode}}s=s.return}ew(function(){var d=o,h=lp(n),u=[];e:{var m=Tw.get(e);if(m!==void 0){var p=fp,v=e;switch(e){case"keypress":if(mc(n)===0)break e;case"keydown":case"keyup":p=nT;break;case"focusin":v="focus",p=Hu;break;case"focusout":v="blur",p=Hu;break;case"beforeblur":case"afterblur":p=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iT;break;case Cw:case kw:case Pw:p=GD;break;case Dw:p=aT;break;case"scroll":p=BD;break;case"wheel":p=cT;break;case"copy":case"cut":case"paste":p=YD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vx}var g=(t&4)!==0,w=!g&&e==="scroll",j=g?m!==null?m+"Capture":null:m;g=[];for(var y=d,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,j!==null&&(b=Na(y,j),b!=null&&g.push(Ea(y,b,x)))),w)break;y=y.return}0<g.length&&(m=new p(m,v,null,n,h),u.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Cm&&(v=n.relatedTarget||n.fromElement)&&(Ws(v)||v[Mr]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=d,v=v?Ws(v):null,v!==null&&(w=fi(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=d),p!==v)){if(g=_x,b="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Vx,b="onPointerLeave",j="onPointerEnter",y="pointer"),w=p==null?m:Ii(p),x=v==null?m:Ii(v),m=new g(b,y+"leave",p,n,h),m.target=w,m.relatedTarget=x,b=null,Ws(h)===d&&(g=new g(j,y+"enter",v,n,h),g.target=x,g.relatedTarget=w,b=g),w=b,p&&v)t:{for(g=p,j=v,y=0,x=g;x;x=Si(x))y++;for(x=0,b=j;b;b=Si(b))x++;for(;0<y-x;)g=Si(g),y--;for(;0<x-y;)j=Si(j),x--;for(;y--;){if(g===j||j!==null&&g===j.alternate)break t;g=Si(g),j=Si(j)}g=null}else g=null;p!==null&&Xx(u,m,p,g,!1),v!==null&&w!==null&&Xx(u,w,v,g,!0)}}e:{if(m=d?Ii(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var N=gT;else if(Ux(m))if(jw)N=jT;else{N=vT;var M=xT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=yT);if(N&&(N=N(e,d))){yw(u,N,n,h);break e}M&&M(e,m,d),e==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&jm(m,"number",m.value)}switch(M=d?Ii(d):window,e){case"focusin":(Ux(M)||M.contentEditable==="true")&&(Ai=M,Am=d,ua=null);break;case"focusout":ua=Am=Ai=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,Qx(u,n,h);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":Qx(u,n,h)}var S;if(gp)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ei?xw(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(gw&&n.locale!=="ko"&&(Ei||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ei&&(S=pw()):(es=h,mp="value"in es?es.value:es.textContent,Ei=!0)),M=Fc(d,k),0<M.length&&(k=new $x(k,e,null,n,h),u.push({event:k,listeners:M}),S?k.data=S:(S=vw(n),S!==null&&(k.data=S)))),(S=uT?hT(e,n):mT(e,n))&&(d=Fc(d,"onBeforeInput"),0<d.length&&(h=new $x("onBeforeInput","beforeinput",null,n,h),u.push({event:h,listeners:d}),h.data=S))}Mw(u,t)})}function Ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fc(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Na(e,n),o!=null&&s.unshift(Ea(e,o,i)),o=Na(e,t),o!=null&&s.push(Ea(e,o,i))),e=e.return}return s}function Si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xx(e,t,n,s,i){for(var o=t._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,i?(c=Na(n,o),c!=null&&a.unshift(Ea(n,c,l))):i||(c=Na(n,o),c!=null&&a.push(Ea(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var PT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function Jx(e){return(typeof e=="string"?e:""+e).replace(PT,`
`).replace(DT,"")}function _l(e,t,n){if(t=Jx(t),Jx(e)!==t&&n)throw Error(X(425))}function _c(){}var Im=null,Om=null;function Lm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,Zx=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof Zx<"u"?function(e){return Zx.resolve(null).then(e).catch(ET)}:Fm;function ET(e){setTimeout(function(){throw e})}function eh(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Pa(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Pa(t)}function os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),er="__reactFiber$"+No,Aa="__reactProps$"+No,Mr="__reactContainer$"+No,_m="__reactEvents$"+No,AT="__reactListeners$"+No,RT="__reactHandles$"+No;function Ws(e){var t=e[er];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mr]||n[er]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ev(e);e!==null;){if(n=e[er])return n;e=ev(e)}return t}e=n,n=e.parentNode}return null}function al(e){return e=e[er]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Ud(e){return e[Aa]||null}var $m=[],Oi=-1;function Ps(e){return{current:e}}function Ye(e){0>Oi||(e.current=$m[Oi],$m[Oi]=null,Oi--)}function Be(e,t){Oi++,$m[Oi]=e.current,e.current=t}var gs={},Lt=Ps(gs),Xt=Ps(!1),Zs=gs;function no(e,t){var n=e.type.contextTypes;if(!n)return gs;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function $c(){Ye(Xt),Ye(Lt)}function tv(e,t,n){if(Lt.current!==gs)throw Error(X(168));Be(Lt,t),Be(Xt,n)}function Aw(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(X(108,xD(e)||"Unknown",i));return ot({},n,s)}function Vc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gs,Zs=Lt.current,Be(Lt,e),Be(Xt,Xt.current),!0}function nv(e,t,n){var s=e.stateNode;if(!s)throw Error(X(169));n?(e=Aw(e,t,Zs),s.__reactInternalMemoizedMergedChildContext=e,Ye(Xt),Ye(Lt),Be(Lt,e)):Ye(Xt),Be(Xt,n)}var yr=null,zd=!1,th=!1;function Rw(e){yr===null?yr=[e]:yr.push(e)}function IT(e){zd=!0,Rw(e)}function Ds(){if(!th&&yr!==null){th=!0;var e=0,t=Ve;try{var n=yr;for(Ve=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}yr=null,zd=!1}catch(i){throw yr!==null&&(yr=yr.slice(e+1)),sw(cp,Ds),i}finally{Ve=t,th=!1}}return null}var Li=[],Fi=0,qc=null,Bc=0,bn=[],Sn=0,ei=null,Sr=1,Nr="";function Fs(e,t){Li[Fi++]=Bc,Li[Fi++]=qc,qc=e,Bc=t}function Iw(e,t,n){bn[Sn++]=Sr,bn[Sn++]=Nr,bn[Sn++]=ei,ei=e;var s=Sr;e=Nr;var i=32-_n(s)-1;s&=~(1<<i),n+=1;var o=32-_n(t)+i;if(30<o){var a=i-i%5;o=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Sr=1<<32-_n(t)+i|n<<i|s,Nr=o+e}else Sr=1<<o|n<<i|s,Nr=e}function vp(e){e.return!==null&&(Fs(e,1),Iw(e,1,0))}function yp(e){for(;e===qc;)qc=Li[--Fi],Li[Fi]=null,Bc=Li[--Fi],Li[Fi]=null;for(;e===ei;)ei=bn[--Sn],bn[Sn]=null,Nr=bn[--Sn],bn[Sn]=null,Sr=bn[--Sn],bn[Sn]=null}var dn=null,ln=null,et=!1,Fn=null;function Ow(e,t){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,ln=os(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ei!==null?{id:Sr,overflow:Nr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dn=e,ln=null,!0):!1;default:return!1}}function Vm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qm(e){if(et){var t=ln;if(t){var n=t;if(!rv(e,t)){if(Vm(e))throw Error(X(418));t=os(n.nextSibling);var s=dn;t&&rv(e,t)?Ow(s,n):(e.flags=e.flags&-4097|2,et=!1,dn=e)}}else{if(Vm(e))throw Error(X(418));e.flags=e.flags&-4097|2,et=!1,dn=e}}}function sv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function $l(e){if(e!==dn)return!1;if(!et)return sv(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lm(e.type,e.memoizedProps)),t&&(t=ln)){if(Vm(e))throw Lw(),Error(X(418));for(;t;)Ow(e,t),t=os(t.nextSibling)}if(sv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ln=os(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=dn?os(e.stateNode.nextSibling):null;return!0}function Lw(){for(var e=ln;e;)e=os(e.nextSibling)}function ro(){ln=dn=null,et=!1}function jp(e){Fn===null?Fn=[e]:Fn.push(e)}var OT=_r.ReactCurrentBatchConfig;function Vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var s=n.stateNode}if(!s)throw Error(X(147,e));var i=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function Vl(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iv(e){var t=e._init;return t(e._payload)}function Fw(e){function t(j,y){if(e){var x=j.deletions;x===null?(j.deletions=[y],j.flags|=16):x.push(y)}}function n(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function s(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function i(j,y){return j=ds(j,y),j.index=0,j.sibling=null,j}function o(j,y,x){return j.index=x,e?(x=j.alternate,x!==null?(x=x.index,x<y?(j.flags|=2,y):x):(j.flags|=2,y)):(j.flags|=1048576,y)}function a(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,x,b){return y===null||y.tag!==6?(y=lh(x,j.mode,b),y.return=j,y):(y=i(y,x),y.return=j,y)}function c(j,y,x,b){var N=x.type;return N===Mi?h(j,y,x.props.children,b,x.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yr&&iv(N)===y.type)?(b=i(y,x.props),b.ref=Vo(j,y,x),b.return=j,b):(b=jc(x.type,x.key,x.props,null,j.mode,b),b.ref=Vo(j,y,x),b.return=j,b)}function d(j,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=ch(x,j.mode,b),y.return=j,y):(y=i(y,x.children||[]),y.return=j,y)}function h(j,y,x,b,N){return y===null||y.tag!==7?(y=Xs(x,j.mode,b,N),y.return=j,y):(y=i(y,x),y.return=j,y)}function u(j,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lh(""+y,j.mode,x),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tl:return x=jc(y.type,y.key,y.props,null,j.mode,x),x.ref=Vo(j,null,y),x.return=j,x;case Ti:return y=ch(y,j.mode,x),y.return=j,y;case Yr:var b=y._init;return u(j,b(y._payload),x)}if(Zo(y)||Oo(y))return y=Xs(y,j.mode,x,null),y.return=j,y;Vl(j,y)}return null}function m(j,y,x,b){var N=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(j,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tl:return x.key===N?c(j,y,x,b):null;case Ti:return x.key===N?d(j,y,x,b):null;case Yr:return N=x._init,m(j,y,N(x._payload),b)}if(Zo(x)||Oo(x))return N!==null?null:h(j,y,x,b,null);Vl(j,x)}return null}function p(j,y,x,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(x)||null,l(y,j,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tl:return j=j.get(b.key===null?x:b.key)||null,c(y,j,b,N);case Ti:return j=j.get(b.key===null?x:b.key)||null,d(y,j,b,N);case Yr:var M=b._init;return p(j,y,x,M(b._payload),N)}if(Zo(b)||Oo(b))return j=j.get(x)||null,h(y,j,b,N,null);Vl(y,b)}return null}function v(j,y,x,b){for(var N=null,M=null,S=y,k=y=0,R=null;S!==null&&k<x.length;k++){S.index>k?(R=S,S=null):R=S.sibling;var P=m(j,S,x[k],b);if(P===null){S===null&&(S=R);break}e&&S&&P.alternate===null&&t(j,S),y=o(P,y,k),M===null?N=P:M.sibling=P,M=P,S=R}if(k===x.length)return n(j,S),et&&Fs(j,k),N;if(S===null){for(;k<x.length;k++)S=u(j,x[k],b),S!==null&&(y=o(S,y,k),M===null?N=S:M.sibling=S,M=S);return et&&Fs(j,k),N}for(S=s(j,S);k<x.length;k++)R=p(S,j,k,x[k],b),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?k:R.key),y=o(R,y,k),M===null?N=R:M.sibling=R,M=R);return e&&S.forEach(function(D){return t(j,D)}),et&&Fs(j,k),N}function g(j,y,x,b){var N=Oo(x);if(typeof N!="function")throw Error(X(150));if(x=N.call(x),x==null)throw Error(X(151));for(var M=N=null,S=y,k=y=0,R=null,P=x.next();S!==null&&!P.done;k++,P=x.next()){S.index>k?(R=S,S=null):R=S.sibling;var D=m(j,S,P.value,b);if(D===null){S===null&&(S=R);break}e&&S&&D.alternate===null&&t(j,S),y=o(D,y,k),M===null?N=D:M.sibling=D,M=D,S=R}if(P.done)return n(j,S),et&&Fs(j,k),N;if(S===null){for(;!P.done;k++,P=x.next())P=u(j,P.value,b),P!==null&&(y=o(P,y,k),M===null?N=P:M.sibling=P,M=P);return et&&Fs(j,k),N}for(S=s(j,S);!P.done;k++,P=x.next())P=p(S,j,k,P.value,b),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?k:P.key),y=o(P,y,k),M===null?N=P:M.sibling=P,M=P);return e&&S.forEach(function(C){return t(j,C)}),et&&Fs(j,k),N}function w(j,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Mi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Tl:e:{for(var N=x.key,M=y;M!==null;){if(M.key===N){if(N=x.type,N===Mi){if(M.tag===7){n(j,M.sibling),y=i(M,x.props.children),y.return=j,j=y;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Yr&&iv(N)===M.type){n(j,M.sibling),y=i(M,x.props),y.ref=Vo(j,M,x),y.return=j,j=y;break e}n(j,M);break}else t(j,M);M=M.sibling}x.type===Mi?(y=Xs(x.props.children,j.mode,b,x.key),y.return=j,j=y):(b=jc(x.type,x.key,x.props,null,j.mode,b),b.ref=Vo(j,y,x),b.return=j,j=b)}return a(j);case Ti:e:{for(M=x.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(j,y.sibling),y=i(y,x.children||[]),y.return=j,j=y;break e}else{n(j,y);break}else t(j,y);y=y.sibling}y=ch(x,j.mode,b),y.return=j,j=y}return a(j);case Yr:return M=x._init,w(j,y,M(x._payload),b)}if(Zo(x))return v(j,y,x,b);if(Oo(x))return g(j,y,x,b);Vl(j,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(j,y.sibling),y=i(y,x),y.return=j,j=y):(n(j,y),y=lh(x,j.mode,b),y.return=j,j=y),a(j)):n(j,y)}return w}var so=Fw(!0),_w=Fw(!1),Uc=Ps(null),zc=null,_i=null,wp=null;function bp(){wp=_i=zc=null}function Sp(e){var t=Uc.current;Ye(Uc),e._currentValue=t}function Bm(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ki(e,t){zc=e,wp=_i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yt=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(wp!==e)if(e={context:e,memoizedValue:t,next:null},_i===null){if(zc===null)throw Error(X(308));_i=e,zc.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Hs=null;function Np(e){Hs===null?Hs=[e]:Hs.push(e)}function $w(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,Np(t)):(n.next=i.next,i.next=n),t.interleaved=n,Er(e,s)}function Er(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kr=!1;function Cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function as(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ie&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Er(e,n)}return i=s.interleaved,i===null?(t.next=t,Np(s)):(t.next=i.next,i.next=t),s.interleaved=t,Er(e,n)}function fc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dp(e,n)}}function ov(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wc(e,t,n,s){var i=e.updateQueue;Kr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(o!==null){var u=i.baseState;a=0,h=d=c=null,l=o;do{var m=l.lane,p=l.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(m=t,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){u=v.call(p,u,m);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(p,u,m):v,m==null)break e;u=ot({},u,m);break e;case 2:Kr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=p,c=u):h=h.next=p,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(h===null&&(c=u),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ni|=a,e.lanes=a,e.memoizedState=u}}function av(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(X(191,i));i.call(s)}}}var ll={},or=Ps(ll),Ra=Ps(ll),Ia=Ps(ll);function Gs(e){if(e===ll)throw Error(X(174));return e}function kp(e,t){switch(Be(Ia,t),Be(Ra,e),Be(or,ll),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bm(t,e)}Ye(or),Be(or,t)}function io(){Ye(or),Ye(Ra),Ye(Ia)}function qw(e){Gs(Ia.current);var t=Gs(or.current),n=bm(t,e.type);t!==n&&(Be(Ra,e),Be(or,n))}function Pp(e){Ra.current===e&&(Ye(or),Ye(Ra))}var nt=Ps(0);function Hc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nh=[];function Dp(){for(var e=0;e<nh.length;e++)nh[e]._workInProgressVersionPrimary=null;nh.length=0}var pc=_r.ReactCurrentDispatcher,rh=_r.ReactCurrentBatchConfig,ti=0,it=null,gt=null,bt=null,Gc=!1,ha=!1,Oa=0,LT=0;function Dt(){throw Error(X(321))}function Tp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bn(e[n],t[n]))return!1;return!0}function Mp(e,t,n,s,i,o){if(ti=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pc.current=e===null||e.memoizedState===null?VT:qT,e=n(s,i),ha){o=0;do{if(ha=!1,Oa=0,25<=o)throw Error(X(301));o+=1,bt=gt=null,t.updateQueue=null,pc.current=BT,e=n(s,i)}while(ha)}if(pc.current=Qc,t=gt!==null&&gt.next!==null,ti=0,bt=gt=it=null,Gc=!1,t)throw Error(X(300));return e}function Ep(){var e=Oa!==0;return Oa=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?it.memoizedState=bt=e:bt=bt.next=e,bt}function Mn(){if(gt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=bt===null?it.memoizedState:bt.next;if(t!==null)bt=t,gt=e;else{if(e===null)throw Error(X(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},bt===null?it.memoizedState=bt=e:bt=bt.next=e}return bt}function La(e,t){return typeof t=="function"?t(e):t}function sh(e){var t=Mn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var s=gt,i=s.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}s.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,s=s.baseState;var l=a=null,c=null,d=o;do{var h=d.lane;if((ti&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,a=s):c=c.next=u,it.lanes|=h,ni|=h}d=d.next}while(d!==null&&d!==o);c===null?a=s:c.next=l,Bn(s,t.memoizedState)||(Yt=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do o=i.lane,it.lanes|=o,ni|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ih(e){var t=Mn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Bn(o,t.memoizedState)||(Yt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function Bw(){}function Uw(e,t){var n=it,s=Mn(),i=t(),o=!Bn(s.memoizedState,i);if(o&&(s.memoizedState=i,Yt=!0),s=s.queue,Ap(Hw.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Fa(9,Ww.bind(null,n,s,i,t),void 0,null),St===null)throw Error(X(349));ti&30||zw(n,t,i)}return i}function zw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ww(e,t,n,s){t.value=n,t.getSnapshot=s,Gw(t)&&Qw(e)}function Hw(e,t,n){return n(function(){Gw(t)&&Qw(e)})}function Gw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bn(e,n)}catch{return!0}}function Qw(e){var t=Er(e,1);t!==null&&$n(t,e,1,-1)}function lv(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},t.queue=e,e=e.dispatch=$T.bind(null,it,e),[t.memoizedState,e]}function Fa(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Yw(){return Mn().memoizedState}function gc(e,t,n,s){var i=Jn();it.flags|=e,i.memoizedState=Fa(1|t,n,void 0,s===void 0?null:s)}function Wd(e,t,n,s){var i=Mn();s=s===void 0?null:s;var o=void 0;if(gt!==null){var a=gt.memoizedState;if(o=a.destroy,s!==null&&Tp(s,a.deps)){i.memoizedState=Fa(t,n,o,s);return}}it.flags|=e,i.memoizedState=Fa(1|t,n,o,s)}function cv(e,t){return gc(8390656,8,e,t)}function Ap(e,t){return Wd(2048,8,e,t)}function Kw(e,t){return Wd(4,2,e,t)}function Xw(e,t){return Wd(4,4,e,t)}function Jw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zw(e,t,n){return n=n!=null?n.concat([e]):null,Wd(4,4,Jw.bind(null,t,e),n)}function Rp(){}function e1(e,t){var n=Mn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Tp(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function t1(e,t){var n=Mn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Tp(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function n1(e,t,n){return ti&21?(Bn(n,t)||(n=aw(),it.lanes|=n,ni|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yt=!0),e.memoizedState=n)}function FT(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var s=rh.transition;rh.transition={};try{e(!1),t()}finally{Ve=n,rh.transition=s}}function r1(){return Mn().memoizedState}function _T(e,t,n){var s=cs(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},s1(e))i1(t,n);else if(n=$w(e,t,n,s),n!==null){var i=Ut();$n(n,e,s,i),o1(n,t,s)}}function $T(e,t,n){var s=cs(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(s1(e))i1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,Bn(l,a)){var c=t.interleaved;c===null?(i.next=i,Np(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=$w(e,t,i,s),n!==null&&(i=Ut(),$n(n,e,s,i),o1(n,t,s))}}function s1(e){var t=e.alternate;return e===it||t!==null&&t===it}function i1(e,t){ha=Gc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o1(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dp(e,n)}}var Qc={readContext:Tn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},VT={readContext:Tn,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:cv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gc(4194308,4,Jw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gc(4194308,4,e,t)},useInsertionEffect:function(e,t){return gc(4,2,e,t)},useMemo:function(e,t){var n=Jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Jn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=_T.bind(null,it,e),[s.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:lv,useDebugValue:Rp,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=lv(!1),t=e[0];return e=FT.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=it,i=Jn();if(et){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),St===null)throw Error(X(349));ti&30||zw(s,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,cv(Hw.bind(null,s,o,e),[e]),s.flags|=2048,Fa(9,Ww.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=Jn(),t=St.identifierPrefix;if(et){var n=Nr,s=Sr;n=(s&~(1<<32-_n(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=LT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qT={readContext:Tn,useCallback:e1,useContext:Tn,useEffect:Ap,useImperativeHandle:Zw,useInsertionEffect:Kw,useLayoutEffect:Xw,useMemo:t1,useReducer:sh,useRef:Yw,useState:function(){return sh(La)},useDebugValue:Rp,useDeferredValue:function(e){var t=Mn();return n1(t,gt.memoizedState,e)},useTransition:function(){var e=sh(La)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:Bw,useSyncExternalStore:Uw,useId:r1,unstable_isNewReconciler:!1},BT={readContext:Tn,useCallback:e1,useContext:Tn,useEffect:Ap,useImperativeHandle:Zw,useInsertionEffect:Kw,useLayoutEffect:Xw,useMemo:t1,useReducer:ih,useRef:Yw,useState:function(){return ih(La)},useDebugValue:Rp,useDeferredValue:function(e){var t=Mn();return gt===null?t.memoizedState=e:n1(t,gt.memoizedState,e)},useTransition:function(){var e=ih(La)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:Bw,useSyncExternalStore:Uw,useId:r1,unstable_isNewReconciler:!1};function On(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Um(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hd={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ut(),i=cs(e),o=kr(s,i);o.payload=t,n!=null&&(o.callback=n),t=as(e,o,i),t!==null&&($n(t,e,i,s),fc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ut(),i=cs(e),o=kr(s,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=as(e,o,i),t!==null&&($n(t,e,i,s),fc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),s=cs(e),i=kr(n,s);i.tag=2,t!=null&&(i.callback=t),t=as(e,i,s),t!==null&&($n(t,e,s,n),fc(t,e,s))}};function dv(e,t,n,s,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ta(n,s)||!Ta(i,o):!0}function a1(e,t,n){var s=!1,i=gs,o=t.contextType;return typeof o=="object"&&o!==null?o=Tn(o):(i=Jt(t)?Zs:Lt.current,s=t.contextTypes,o=(s=s!=null)?no(e,i):gs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hd,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function uv(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Hd.enqueueReplaceState(t,t.state,null)}function zm(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Cp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Tn(o):(o=Jt(t)?Zs:Lt.current,i.context=no(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Um(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hd.enqueueReplaceState(i,i.state,null),Wc(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oo(e,t){try{var n="",s=t;do n+=gD(s),s=s.return;while(s);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function oh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var UT=typeof WeakMap=="function"?WeakMap:Map;function l1(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Kc||(Kc=!0,tf=s),Wm(e,t)},n}function c1(e,t,n){n=kr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){Wm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wm(e,t),typeof s!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function hv(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new UT;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=rM.bind(null,e,t,n),t.then(e,e))}function mv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fv(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,as(n,t,1))),n.lanes|=1),e)}var zT=_r.ReactCurrentOwner,Yt=!1;function qt(e,t,n,s){t.child=e===null?_w(t,null,n,s):so(t,e.child,n,s)}function pv(e,t,n,s,i){n=n.render;var o=t.ref;return Ki(t,i),s=Mp(e,t,n,s,o,i),n=Ep(),e!==null&&!Yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(et&&n&&vp(t),t.flags|=1,qt(e,t,s,i),t.child)}function gv(e,t,n,s,i){if(e===null){var o=n.type;return typeof o=="function"&&!qp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,d1(e,t,o,s,i)):(e=jc(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ta,n(a,s)&&e.ref===t.ref)return Ar(e,t,i)}return t.flags|=1,e=ds(o,s),e.ref=t.ref,e.return=t,t.child=e}function d1(e,t,n,s,i){if(e!==null){var o=e.memoizedProps;if(Ta(o,s)&&e.ref===t.ref)if(Yt=!1,t.pendingProps=s=o,(e.lanes&i)!==0)e.flags&131072&&(Yt=!0);else return t.lanes=e.lanes,Ar(e,t,i)}return Hm(e,t,n,s,i)}function u1(e,t,n){var s=t.pendingProps,i=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Vi,sn),sn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(Vi,sn),sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,Be(Vi,sn),sn|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,Be(Vi,sn),sn|=s;return qt(e,t,i,n),t.child}function h1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hm(e,t,n,s,i){var o=Jt(n)?Zs:Lt.current;return o=no(t,o),Ki(t,i),n=Mp(e,t,n,s,o,i),s=Ep(),e!==null&&!Yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ar(e,t,i)):(et&&s&&vp(t),t.flags|=1,qt(e,t,n,i),t.child)}function xv(e,t,n,s,i){if(Jt(n)){var o=!0;Vc(t)}else o=!1;if(Ki(t,i),t.stateNode===null)xc(e,t),a1(t,n,s),zm(t,n,s,i),s=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Tn(d):(d=Jt(n)?Zs:Lt.current,d=no(t,d));var h=n.getDerivedStateFromProps,u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==d)&&uv(t,a,s,d),Kr=!1;var m=t.memoizedState;a.state=m,Wc(t,s,a,i),c=t.memoizedState,l!==s||m!==c||Xt.current||Kr?(typeof h=="function"&&(Um(t,n,h,s),c=t.memoizedState),(l=Kr||dv(t,n,l,s,m,c,d))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=d,s=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Vw(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:On(t.type,l),a.props=d,u=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Tn(c):(c=Jt(n)?Zs:Lt.current,c=no(t,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==u||m!==c)&&uv(t,a,s,c),Kr=!1,m=t.memoizedState,a.state=m,Wc(t,s,a,i);var v=t.memoizedState;l!==u||m!==v||Xt.current||Kr?(typeof p=="function"&&(Um(t,n,p,s),v=t.memoizedState),(d=Kr||dv(t,n,d,s,m,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),a.props=s,a.state=v,a.context=c,s=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Gm(e,t,n,s,o,i)}function Gm(e,t,n,s,i,o){h1(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return i&&nv(t,n,!1),Ar(e,t,o);s=t.stateNode,zT.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=so(t,e.child,null,o),t.child=so(t,null,l,o)):qt(e,t,l,o),t.memoizedState=s.state,i&&nv(t,n,!0),t.child}function m1(e){var t=e.stateNode;t.pendingContext?tv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tv(e,t.context,!1),kp(e,t.containerInfo)}function vv(e,t,n,s,i){return ro(),jp(i),t.flags|=256,qt(e,t,n,s),t.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(e){return{baseLanes:e,cachePool:null,transitions:null}}function f1(e,t,n){var s=t.pendingProps,i=nt.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(nt,i&1),e===null)return qm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,o?(s=t.mode,o=t.child,a={mode:"hidden",children:a},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Yd(a,s,0,null),e=Xs(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ym(n),t.memoizedState=Qm,e):Ip(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return WT(e,t,a,s,l,i,n);if(o){o=s.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=ds(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ds(l,o):(o=Xs(o,a,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,a=e.child.memoizedState,a=a===null?Ym(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Qm,s}return o=e.child,e=o.sibling,s=ds(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ip(e,t){return t=Yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ql(e,t,n,s){return s!==null&&jp(s),so(t,e.child,null,n),e=Ip(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WT(e,t,n,s,i,o,a){if(n)return t.flags&256?(t.flags&=-257,s=oh(Error(X(422))),ql(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,i=t.mode,s=Yd({mode:"visible",children:s.children},i,0,null),o=Xs(o,i,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&so(t,e.child,null,a),t.child.memoizedState=Ym(a),t.memoizedState=Qm,o);if(!(t.mode&1))return ql(e,t,a,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,o=Error(X(419)),s=oh(o,s,void 0),ql(e,t,a,s)}if(l=(a&e.childLanes)!==0,Yt||l){if(s=St,s!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Er(e,i),$n(s,e,i,-1))}return Vp(),s=oh(Error(X(421))),ql(e,t,a,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sM.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ln=os(i.nextSibling),dn=t,et=!0,Fn=null,e!==null&&(bn[Sn++]=Sr,bn[Sn++]=Nr,bn[Sn++]=ei,Sr=e.id,Nr=e.overflow,ei=t),t=Ip(t,s.children),t.flags|=4096,t)}function yv(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Bm(e.return,t,n)}function ah(e,t,n,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i)}function p1(e,t,n){var s=t.pendingProps,i=s.revealOrder,o=s.tail;if(qt(e,t,s.children,n),s=nt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yv(e,n,t);else if(e.tag===19)yv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Be(nt,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Hc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ah(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Hc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ah(t,!0,n,null,o);break;case"together":ah(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=ds(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ds(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function HT(e,t,n){switch(t.tag){case 3:m1(t),ro();break;case 5:qw(t);break;case 1:Jt(t.type)&&Vc(t);break;case 4:kp(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Be(Uc,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Be(nt,nt.current&1),t.flags|=128,null):n&t.child.childLanes?f1(e,t,n):(Be(nt,nt.current&1),e=Ar(e,t,n),e!==null?e.sibling:null);Be(nt,nt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return p1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(nt,nt.current),s)break;return null;case 22:case 23:return t.lanes=0,u1(e,t,n)}return Ar(e,t,n)}var g1,Km,x1,v1;g1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Km=function(){};x1=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,Gs(or.current);var o=null;switch(n){case"input":i=vm(e,i),s=vm(e,s),o=[];break;case"select":i=ot({},i,{value:void 0}),s=ot({},s,{value:void 0}),o=[];break;case"textarea":i=wm(e,i),s=wm(e,s),o=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=_c)}Sm(n,s);var a;n=null;for(d in i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ba.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in s){var c=s[d];if(l=i!=null?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ba.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};v1=function(e,t,n,s){n!==s&&(t.flags|=4)};function qo(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function GT(e,t,n){var s=t.pendingProps;switch(yp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Jt(t.type)&&$c(),Tt(t),null;case 3:return s=t.stateNode,io(),Ye(Xt),Ye(Lt),Dp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fn!==null&&(sf(Fn),Fn=null))),Km(e,t),Tt(t),null;case 5:Pp(t);var i=Gs(Ia.current);if(n=t.type,e!==null&&t.stateNode!=null)x1(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(X(166));return Tt(t),null}if(e=Gs(or.current),$l(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[er]=t,s[Aa]=o,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(i=0;i<ta.length;i++)Ge(ta[i],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Dx(s,o),Ge("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",s);break;case"textarea":Mx(s,o),Ge("invalid",s)}Sm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?s.textContent!==l&&(o.suppressHydrationWarning!==!0&&_l(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&_l(s.textContent,l,e),i=["children",""+l]):ba.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ge("scroll",s)}switch(n){case"input":Ml(s),Tx(s,o,!0);break;case"textarea":Ml(s),Ex(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=_c)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[er]=t,e[Aa]=s,g1(e,t,!1,!1),t.stateNode=e;e:{switch(a=Nm(n,s),n){case"dialog":Ge("cancel",e),Ge("close",e),i=s;break;case"iframe":case"object":case"embed":Ge("load",e),i=s;break;case"video":case"audio":for(i=0;i<ta.length;i++)Ge(ta[i],e);i=s;break;case"source":Ge("error",e),i=s;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=s;break;case"details":Ge("toggle",e),i=s;break;case"input":Dx(e,s),i=vm(e,s),Ge("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=ot({},s,{value:void 0}),Ge("invalid",e);break;case"textarea":Mx(e,s),i=wm(e,s),Ge("invalid",e);break;default:i=s}Sm(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Yj(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gj(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sa(e,c):typeof c=="number"&&Sa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ba.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ge("scroll",e):c!=null&&sp(e,o,c,a))}switch(n){case"input":Ml(e),Tx(e,s,!1);break;case"textarea":Ml(e),Ex(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ps(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?Hi(e,!!s.multiple,o,!1):s.defaultValue!=null&&Hi(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_c)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)v1(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(X(166));if(n=Gs(Ia.current),Gs(or.current),$l(t)){if(s=t.stateNode,n=t.memoizedProps,s[er]=t,(o=s.nodeValue!==n)&&(e=dn,e!==null))switch(e.tag){case 3:_l(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_l(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[er]=t,t.stateNode=s}return Tt(t),null;case 13:if(Ye(nt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&ln!==null&&t.mode&1&&!(t.flags&128))Lw(),ro(),t.flags|=98560,o=!1;else if(o=$l(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(X(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[er]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),o=!1}else Fn!==null&&(sf(Fn),Fn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?vt===0&&(vt=3):Vp())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return io(),Km(e,t),e===null&&Ma(t.stateNode.containerInfo),Tt(t),null;case 10:return Sp(t.type._context),Tt(t),null;case 17:return Jt(t.type)&&$c(),Tt(t),null;case 19:if(Ye(nt),o=t.memoizedState,o===null)return Tt(t),null;if(s=(t.flags&128)!==0,a=o.rendering,a===null)if(s)qo(o,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Hc(e),a!==null){for(t.flags|=128,qo(o,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Be(nt,nt.current&1|2),t.child}e=e.sibling}o.tail!==null&&dt()>ao&&(t.flags|=128,s=!0,qo(o,!1),t.lanes=4194304)}else{if(!s)if(e=Hc(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!et)return Tt(t),null}else 2*dt()-o.renderingStartTime>ao&&n!==1073741824&&(t.flags|=128,s=!0,qo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=dt(),t.sibling=null,n=nt.current,Be(nt,s?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return $p(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?sn&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function QT(e,t){switch(yp(t),t.tag){case 1:return Jt(t.type)&&$c(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return io(),Ye(Xt),Ye(Lt),Dp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pp(t),null;case 13:if(Ye(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(nt),null;case 4:return io(),null;case 10:return Sp(t.type._context),null;case 22:case 23:return $p(),null;case 24:return null;default:return null}}var Bl=!1,Rt=!1,YT=typeof WeakSet=="function"?WeakSet:Set,le=null;function $i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){at(e,t,s)}else n.current=null}function Xm(e,t,n){try{n()}catch(s){at(e,t,s)}}var jv=!1;function KT(e,t){if(Im=Oc,e=Sw(),xp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,u=e,m=null;t:for(;;){for(var p;u!==n||i!==0&&u.nodeType!==3||(l=a+i),u!==o||s!==0&&u.nodeType!==3||(c=a+s),u.nodeType===3&&(a+=u.nodeValue.length),(p=u.firstChild)!==null;)m=u,u=p;for(;;){if(u===e)break t;if(m===n&&++d===i&&(l=a),m===o&&++h===s&&(c=a),(p=u.nextSibling)!==null)break;u=m,m=u.parentNode}u=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Om={focusedElem:e,selectionRange:n},Oc=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?g:On(t.type,g),w);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(b){at(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return v=jv,jv=!1,v}function ma(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Xm(t,n,o)}i=i.next}while(i!==s)}}function Gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Jm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function y1(e){var t=e.alternate;t!==null&&(e.alternate=null,y1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[Aa],delete t[_m],delete t[AT],delete t[RT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function j1(e){return e.tag===5||e.tag===3||e.tag===4}function wv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zm(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_c));else if(s!==4&&(e=e.child,e!==null))for(Zm(e,t,n),e=e.sibling;e!==null;)Zm(e,t,n),e=e.sibling}function ef(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ef(e,t,n),e=e.sibling;e!==null;)ef(e,t,n),e=e.sibling}var Nt=null,Ln=!1;function qr(e,t,n){for(n=n.child;n!==null;)w1(e,t,n),n=n.sibling}function w1(e,t,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount($d,n)}catch{}switch(n.tag){case 5:Rt||$i(n,t);case 6:var s=Nt,i=Ln;Nt=null,qr(e,t,n),Nt=s,Ln=i,Nt!==null&&(Ln?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Ln?(e=Nt,n=n.stateNode,e.nodeType===8?eh(e.parentNode,n):e.nodeType===1&&eh(e,n),Pa(e)):eh(Nt,n.stateNode));break;case 4:s=Nt,i=Ln,Nt=n.stateNode.containerInfo,Ln=!0,qr(e,t,n),Nt=s,Ln=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Xm(n,t,a),i=i.next}while(i!==s)}qr(e,t,n);break;case 1:if(!Rt&&($i(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){at(n,t,l)}qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:n.mode&1?(Rt=(s=Rt)||n.memoizedState!==null,qr(e,t,n),Rt=s):qr(e,t,n);break;default:qr(e,t,n)}}function bv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YT),t.forEach(function(s){var i=iM.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function An(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Ln=!1;break e;case 3:Nt=l.stateNode.containerInfo,Ln=!0;break e;case 4:Nt=l.stateNode.containerInfo,Ln=!0;break e}l=l.return}if(Nt===null)throw Error(X(160));w1(o,a,i),Nt=null,Ln=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){at(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b1(t,e),t=t.sibling}function b1(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(t,e),Yn(e),s&4){try{ma(3,e,e.return),Gd(3,e)}catch(g){at(e,e.return,g)}try{ma(5,e,e.return)}catch(g){at(e,e.return,g)}}break;case 1:An(t,e),Yn(e),s&512&&n!==null&&$i(n,n.return);break;case 5:if(An(t,e),Yn(e),s&512&&n!==null&&$i(n,n.return),e.flags&32){var i=e.stateNode;try{Sa(i,"")}catch(g){at(e,e.return,g)}}if(s&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&zj(i,o),Nm(l,a);var d=Nm(l,o);for(a=0;a<c.length;a+=2){var h=c[a],u=c[a+1];h==="style"?Yj(i,u):h==="dangerouslySetInnerHTML"?Gj(i,u):h==="children"?Sa(i,u):sp(i,h,u,d)}switch(l){case"input":ym(i,o);break;case"textarea":Wj(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Hi(i,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Hi(i,!!o.multiple,o.defaultValue,!0):Hi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Aa]=o}catch(g){at(e,e.return,g)}}break;case 6:if(An(t,e),Yn(e),s&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){at(e,e.return,g)}}break;case 3:if(An(t,e),Yn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(g){at(e,e.return,g)}break;case 4:An(t,e),Yn(e);break;case 13:An(t,e),Yn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Fp=dt())),s&4&&bv(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Rt=(d=Rt)||h,An(t,e),Rt=d):An(t,e),Yn(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(le=e,h=e.child;h!==null;){for(u=le=h;le!==null;){switch(m=le,p=m.child,m.tag){case 0:case 11:case 14:case 15:ma(4,m,m.return);break;case 1:$i(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){s=m,n=m.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){at(s,n,g)}}break;case 5:$i(m,m.return);break;case 22:if(m.memoizedState!==null){Nv(u);continue}}p!==null?(p.return=m,le=p):Nv(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{i=u.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=u.stateNode,c=u.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Qj("display",a))}catch(g){at(e,e.return,g)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){at(e,e.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:An(t,e),Yn(e),s&4&&bv(e);break;case 21:break;default:An(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(j1(n)){var s=n;break e}n=n.return}throw Error(X(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Sa(i,""),s.flags&=-33);var o=wv(e);ef(e,o,i);break;case 3:case 4:var a=s.stateNode.containerInfo,l=wv(e);Zm(e,l,a);break;default:throw Error(X(161))}}catch(c){at(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XT(e,t,n){le=e,S1(e)}function S1(e,t,n){for(var s=(e.mode&1)!==0;le!==null;){var i=le,o=i.child;if(i.tag===22&&s){var a=i.memoizedState!==null||Bl;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Rt;l=Bl;var d=Rt;if(Bl=a,(Rt=c)&&!d)for(le=i;le!==null;)a=le,c=a.child,a.tag===22&&a.memoizedState!==null?Cv(i):c!==null?(c.return=a,le=c):Cv(i);for(;o!==null;)le=o,S1(o),o=o.sibling;le=i,Bl=l,Rt=d}Sv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,le=o):Sv(e)}}function Sv(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||Gd(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Rt)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:On(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&av(t,o,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}av(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Pa(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Rt||t.flags&512&&Jm(t)}catch(m){at(t,t.return,m)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function Nv(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Cv(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gd(4,t)}catch(c){at(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){at(t,i,c)}}var o=t.return;try{Jm(t)}catch(c){at(t,o,c)}break;case 5:var a=t.return;try{Jm(t)}catch(c){at(t,a,c)}}}catch(c){at(t,t.return,c)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var JT=Math.ceil,Yc=_r.ReactCurrentDispatcher,Op=_r.ReactCurrentOwner,kn=_r.ReactCurrentBatchConfig,Ie=0,St=null,mt=null,Ct=0,sn=0,Vi=Ps(0),vt=0,_a=null,ni=0,Qd=0,Lp=0,fa=null,Qt=null,Fp=0,ao=1/0,vr=null,Kc=!1,tf=null,ls=null,Ul=!1,ts=null,Xc=0,pa=0,nf=null,vc=-1,yc=0;function Ut(){return Ie&6?dt():vc!==-1?vc:vc=dt()}function cs(e){return e.mode&1?Ie&2&&Ct!==0?Ct&-Ct:OT.transition!==null?(yc===0&&(yc=aw()),yc):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:fw(e.type)),e):1}function $n(e,t,n,s){if(50<pa)throw pa=0,nf=null,Error(X(185));il(e,n,s),(!(Ie&2)||e!==St)&&(e===St&&(!(Ie&2)&&(Qd|=n),vt===4&&Zr(e,Ct)),Zt(e,s),n===1&&Ie===0&&!(t.mode&1)&&(ao=dt()+500,zd&&Ds()))}function Zt(e,t){var n=e.callbackNode;OD(e,t);var s=Ic(e,e===St?Ct:0);if(s===0)n!==null&&Ix(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ix(n),t===1)e.tag===0?IT(kv.bind(null,e)):Rw(kv.bind(null,e)),MT(function(){!(Ie&6)&&Ds()}),n=null;else{switch(lw(s)){case 1:n=cp;break;case 4:n=iw;break;case 16:n=Rc;break;case 536870912:n=ow;break;default:n=Rc}n=E1(n,N1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function N1(e,t){if(vc=-1,yc=0,Ie&6)throw Error(X(327));var n=e.callbackNode;if(Xi()&&e.callbackNode!==n)return null;var s=Ic(e,e===St?Ct:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Jc(e,s);else{t=s;var i=Ie;Ie|=2;var o=k1();(St!==e||Ct!==t)&&(vr=null,ao=dt()+500,Ks(e,t));do try{tM();break}catch(l){C1(e,l)}while(1);bp(),Yc.current=o,Ie=i,mt!==null?t=0:(St=null,Ct=0,t=vt)}if(t!==0){if(t===2&&(i=Tm(e),i!==0&&(s=i,t=rf(e,i))),t===1)throw n=_a,Ks(e,0),Zr(e,s),Zt(e,dt()),n;if(t===6)Zr(e,s);else{if(i=e.current.alternate,!(s&30)&&!ZT(i)&&(t=Jc(e,s),t===2&&(o=Tm(e),o!==0&&(s=o,t=rf(e,o))),t===1))throw n=_a,Ks(e,0),Zr(e,s),Zt(e,dt()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(X(345));case 2:_s(e,Qt,vr);break;case 3:if(Zr(e,s),(s&130023424)===s&&(t=Fp+500-dt(),10<t)){if(Ic(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fm(_s.bind(null,e,Qt,vr),t);break}_s(e,Qt,vr);break;case 4:if(Zr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var a=31-_n(s);o=1<<a,a=t[a],a>i&&(i=a),s&=~o}if(s=i,s=dt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*JT(s/1960))-s,10<s){e.timeoutHandle=Fm(_s.bind(null,e,Qt,vr),s);break}_s(e,Qt,vr);break;case 5:_s(e,Qt,vr);break;default:throw Error(X(329))}}}return Zt(e,dt()),e.callbackNode===n?N1.bind(null,e):null}function rf(e,t){var n=fa;return e.current.memoizedState.isDehydrated&&(Ks(e,t).flags|=256),e=Jc(e,t),e!==2&&(t=Qt,Qt=n,t!==null&&sf(t)),e}function sf(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function ZT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],o=i.getSnapshot;i=i.value;try{if(!Bn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zr(e,t){for(t&=~Lp,t&=~Qd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_n(t),s=1<<n;e[n]=-1,t&=~s}}function kv(e){if(Ie&6)throw Error(X(327));Xi();var t=Ic(e,0);if(!(t&1))return Zt(e,dt()),null;var n=Jc(e,t);if(e.tag!==0&&n===2){var s=Tm(e);s!==0&&(t=s,n=rf(e,s))}if(n===1)throw n=_a,Ks(e,0),Zr(e,t),Zt(e,dt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e,Qt,vr),Zt(e,dt()),null}function _p(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{Ie=n,Ie===0&&(ao=dt()+500,zd&&Ds())}}function ri(e){ts!==null&&ts.tag===0&&!(Ie&6)&&Xi();var t=Ie;Ie|=1;var n=kn.transition,s=Ve;try{if(kn.transition=null,Ve=1,e)return e()}finally{Ve=s,kn.transition=n,Ie=t,!(Ie&6)&&Ds()}}function $p(){sn=Vi.current,Ye(Vi)}function Ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TT(n)),mt!==null)for(n=mt.return;n!==null;){var s=n;switch(yp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$c();break;case 3:io(),Ye(Xt),Ye(Lt),Dp();break;case 5:Pp(s);break;case 4:io();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:Sp(s.type._context);break;case 22:case 23:$p()}n=n.return}if(St=e,mt=e=ds(e.current,null),Ct=sn=t,vt=0,_a=null,Lp=Qd=ni=0,Qt=fa=null,Hs!==null){for(t=0;t<Hs.length;t++)if(n=Hs[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,s.next=a}n.pending=s}Hs=null}return e}function C1(e,t){do{var n=mt;try{if(bp(),pc.current=Qc,Gc){for(var s=it.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Gc=!1}if(ti=0,bt=gt=it=null,ha=!1,Oa=0,Op.current=null,n===null||n.return===null){vt=1,_a=t,mt=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=mv(a);if(p!==null){p.flags&=-257,fv(p,a,l,o,t),p.mode&1&&hv(o,d,t),t=p,c=d;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){hv(o,d,t),Vp();break e}c=Error(X(426))}}else if(et&&l.mode&1){var w=mv(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fv(w,a,l,o,t),jp(oo(c,l));break e}}o=c=oo(c,l),vt!==4&&(vt=2),fa===null?fa=[o]:fa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var j=l1(o,c,t);ov(o,j);break e;case 1:l=c;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ls===null||!ls.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=c1(o,l,t);ov(o,b);break e}}o=o.return}while(o!==null)}D1(n)}catch(N){t=N,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(1)}function k1(){var e=Yc.current;return Yc.current=Qc,e===null?Qc:e}function Vp(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(ni&268435455)&&!(Qd&268435455)||Zr(St,Ct)}function Jc(e,t){var n=Ie;Ie|=2;var s=k1();(St!==e||Ct!==t)&&(vr=null,Ks(e,t));do try{eM();break}catch(i){C1(e,i)}while(1);if(bp(),Ie=n,Yc.current=s,mt!==null)throw Error(X(261));return St=null,Ct=0,vt}function eM(){for(;mt!==null;)P1(mt)}function tM(){for(;mt!==null&&!kD();)P1(mt)}function P1(e){var t=M1(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?D1(e):mt=t,Op.current=null}function D1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QT(n,t),n!==null){n.flags&=32767,mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,mt=null;return}}else if(n=GT(n,t,sn),n!==null){mt=n;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);vt===0&&(vt=5)}function _s(e,t,n){var s=Ve,i=kn.transition;try{kn.transition=null,Ve=1,nM(e,t,n,s)}finally{kn.transition=i,Ve=s}return null}function nM(e,t,n,s){do Xi();while(ts!==null);if(Ie&6)throw Error(X(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(LD(e,o),e===St&&(mt=St=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ul||(Ul=!0,E1(Rc,function(){return Xi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kn.transition,kn.transition=null;var a=Ve;Ve=1;var l=Ie;Ie|=4,Op.current=null,KT(e,n),b1(n,e),bT(Om),Oc=!!Im,Om=Im=null,e.current=n,XT(n),PD(),Ie=l,Ve=a,kn.transition=o}else e.current=n;if(Ul&&(Ul=!1,ts=e,Xc=i),o=e.pendingLanes,o===0&&(ls=null),MD(n.stateNode),Zt(e,dt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=tf,tf=null,e;return Xc&1&&e.tag!==0&&Xi(),o=e.pendingLanes,o&1?e===nf?pa++:(pa=0,nf=e):pa=0,Ds(),null}function Xi(){if(ts!==null){var e=lw(Xc),t=kn.transition,n=Ve;try{if(kn.transition=null,Ve=16>e?16:e,ts===null)var s=!1;else{if(e=ts,ts=null,Xc=0,Ie&6)throw Error(X(331));var i=Ie;for(Ie|=4,le=e.current;le!==null;){var o=le,a=o.child;if(le.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(le=d;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:ma(8,h,o)}var u=h.child;if(u!==null)u.return=h,le=u;else for(;le!==null;){h=le;var m=h.sibling,p=h.return;if(y1(h),h===d){le=null;break}if(m!==null){m.return=p,le=m;break}le=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}le=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,le=a;else e:for(;le!==null;){if(o=le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ma(9,o,o.return)}var j=o.sibling;if(j!==null){j.return=o.return,le=j;break e}le=o.return}}var y=e.current;for(le=y;le!==null;){a=le;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,le=x;else e:for(a=y;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gd(9,l)}}catch(N){at(l,l.return,N)}if(l===a){le=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,le=b;break e}le=l.return}}if(Ie=i,Ds(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot($d,e)}catch{}s=!0}return s}finally{Ve=n,kn.transition=t}}return!1}function Pv(e,t,n){t=oo(n,t),t=l1(e,t,1),e=as(e,t,1),t=Ut(),e!==null&&(il(e,1,t),Zt(e,t))}function at(e,t,n){if(e.tag===3)Pv(e,e,n);else for(;t!==null;){if(t.tag===3){Pv(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ls===null||!ls.has(s))){e=oo(n,e),e=c1(t,e,1),t=as(t,e,1),e=Ut(),t!==null&&(il(t,1,e),Zt(t,e));break}}t=t.return}}function rM(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(Ct&n)===n&&(vt===4||vt===3&&(Ct&130023424)===Ct&&500>dt()-Fp?Ks(e,0):Lp|=n),Zt(e,t)}function T1(e,t){t===0&&(e.mode&1?(t=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):t=1);var n=Ut();e=Er(e,t),e!==null&&(il(e,t,n),Zt(e,n))}function sM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),T1(e,n)}function iM(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(X(314))}s!==null&&s.delete(t),T1(e,n)}var M1;M1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Yt=!1,HT(e,t,n);Yt=!!(e.flags&131072)}else Yt=!1,et&&t.flags&1048576&&Iw(t,Bc,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;xc(e,t),e=t.pendingProps;var i=no(t,Lt.current);Ki(t,n),i=Mp(null,t,s,e,i,n);var o=Ep();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(s)?(o=!0,Vc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cp(t),i.updater=Hd,t.stateNode=i,i._reactInternals=t,zm(t,s,e,n),t=Gm(null,t,s,!0,o,n)):(t.tag=0,et&&o&&vp(t),qt(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(xc(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=aM(s),e=On(s,e),i){case 0:t=Hm(null,t,s,e,n);break e;case 1:t=xv(null,t,s,e,n);break e;case 11:t=pv(null,t,s,e,n);break e;case 14:t=gv(null,t,s,On(s.type,e),n);break e}throw Error(X(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:On(s,i),Hm(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:On(s,i),xv(e,t,s,i,n);case 3:e:{if(m1(t),e===null)throw Error(X(387));s=t.pendingProps,o=t.memoizedState,i=o.element,Vw(e,t),Wc(t,s,null,n);var a=t.memoizedState;if(s=a.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=oo(Error(X(423)),t),t=vv(e,t,s,n,i);break e}else if(s!==i){i=oo(Error(X(424)),t),t=vv(e,t,s,n,i);break e}else for(ln=os(t.stateNode.containerInfo.firstChild),dn=t,et=!0,Fn=null,n=_w(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),s===i){t=Ar(e,t,n);break e}qt(e,t,s,n)}t=t.child}return t;case 5:return qw(t),e===null&&qm(t),s=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Lm(s,i)?a=null:o!==null&&Lm(s,o)&&(t.flags|=32),h1(e,t),qt(e,t,a,n),t.child;case 6:return e===null&&qm(t),null;case 13:return f1(e,t,n);case 4:return kp(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=so(t,null,s,n):qt(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:On(s,i),pv(e,t,s,i,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Be(Uc,s._currentValue),s._currentValue=a,o!==null)if(Bn(o.value,a)){if(o.children===i.children&&!Xt.current){t=Ar(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(o.tag===1){c=kr(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Bm(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(X(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Bm(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}qt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Ki(t,n),i=Tn(i),s=s(i),t.flags|=1,qt(e,t,s,n),t.child;case 14:return s=t.type,i=On(s,t.pendingProps),i=On(s.type,i),gv(e,t,s,i,n);case 15:return d1(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:On(s,i),xc(e,t),t.tag=1,Jt(s)?(e=!0,Vc(t)):e=!1,Ki(t,n),a1(t,s,i),zm(t,s,i,n),Gm(null,t,s,!0,e,n);case 19:return p1(e,t,n);case 22:return u1(e,t,n)}throw Error(X(156,t.tag))};function E1(e,t){return sw(e,t)}function oM(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,n,s){return new oM(e,t,n,s)}function qp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aM(e){if(typeof e=="function")return qp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===op)return 11;if(e===ap)return 14}return 2}function ds(e,t){var n=e.alternate;return n===null?(n=Nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,s,i,o){var a=2;if(s=e,typeof e=="function")qp(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Mi:return Xs(n.children,i,o,t);case ip:a=8,i|=8;break;case fm:return e=Nn(12,n,t,i|2),e.elementType=fm,e.lanes=o,e;case pm:return e=Nn(13,n,t,i),e.elementType=pm,e.lanes=o,e;case gm:return e=Nn(19,n,t,i),e.elementType=gm,e.lanes=o,e;case qj:return Yd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $j:a=10;break e;case Vj:a=9;break e;case op:a=11;break e;case ap:a=14;break e;case Yr:a=16,s=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Nn(a,n,t,i),t.elementType=e,t.type=s,t.lanes=o,t}function Xs(e,t,n,s){return e=Nn(7,e,s,t),e.lanes=n,e}function Yd(e,t,n,s){return e=Nn(22,e,s,t),e.elementType=qj,e.lanes=n,e.stateNode={isHidden:!1},e}function lh(e,t,n){return e=Nn(6,e,null,t),e.lanes=n,e}function ch(e,t,n){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lM(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uu(0),this.expirationTimes=Uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uu(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bp(e,t,n,s,i,o,a,l,c){return e=new lM(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(o),e}function cM(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function A1(e){if(!e)return gs;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(Jt(n))return Aw(e,n,t)}return t}function R1(e,t,n,s,i,o,a,l,c){return e=Bp(n,s,!0,e,i,o,a,l,c),e.context=A1(null),n=e.current,s=Ut(),i=cs(n),o=kr(s,i),o.callback=t??null,as(n,o,i),e.current.lanes=i,il(e,i,s),Zt(e,s),e}function Kd(e,t,n,s){var i=t.current,o=Ut(),a=cs(i);return n=A1(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(o,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=as(i,t,a),e!==null&&($n(e,i,a,o),fc(e,i,a)),a}function Zc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Up(e,t){Dv(e,t),(e=e.alternate)&&Dv(e,t)}function dM(){return null}var I1=typeof reportError=="function"?reportError:function(e){console.error(e)};function zp(e){this._internalRoot=e}Xd.prototype.render=zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Kd(e,t,null,null)};Xd.prototype.unmount=zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ri(function(){Kd(null,e,null,null)}),t[Mr]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=uw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jr.length&&t!==0&&t<Jr[n].priority;n++);Jr.splice(n,0,e),n===0&&mw(e)}};function Wp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function uM(e,t,n,s,i){if(i){if(typeof s=="function"){var o=s;s=function(){var d=Zc(a);o.call(d)}}var a=R1(t,s,e,0,null,!1,!1,"",Tv);return e._reactRootContainer=a,e[Mr]=a.current,Ma(e.nodeType===8?e.parentNode:e),ri(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var d=Zc(c);l.call(d)}}var c=Bp(e,0,!1,null,null,!1,!1,"",Tv);return e._reactRootContainer=c,e[Mr]=c.current,Ma(e.nodeType===8?e.parentNode:e),ri(function(){Kd(t,c,n,s)}),c}function Zd(e,t,n,s,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var c=Zc(a);l.call(c)}}Kd(t,a,e,i)}else a=uM(n,t,e,i,s);return Zc(a)}cw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ea(t.pendingLanes);n!==0&&(dp(t,n|1),Zt(t,dt()),!(Ie&6)&&(ao=dt()+500,Ds()))}break;case 13:ri(function(){var s=Er(e,1);if(s!==null){var i=Ut();$n(s,e,1,i)}}),Up(e,1)}};up=function(e){if(e.tag===13){var t=Er(e,134217728);if(t!==null){var n=Ut();$n(t,e,134217728,n)}Up(e,134217728)}};dw=function(e){if(e.tag===13){var t=cs(e),n=Er(e,t);if(n!==null){var s=Ut();$n(n,e,t,s)}Up(e,t)}};uw=function(){return Ve};hw=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};km=function(e,t,n){switch(t){case"input":if(ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=Ud(s);if(!i)throw Error(X(90));Uj(s),ym(s,i)}}}break;case"textarea":Wj(e,n);break;case"select":t=n.value,t!=null&&Hi(e,!!n.multiple,t,!1)}};Jj=_p;Zj=ri;var hM={usingClientEntryPoint:!1,Events:[al,Ii,Ud,Kj,Xj,_p]},Bo={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mM={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nw(e),e===null?null:e.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||dM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{$d=zl.inject(mM),ir=zl}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hM;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(t))throw Error(X(200));return cM(e,t,null,n)};pn.createRoot=function(e,t){if(!Wp(e))throw Error(X(299));var n=!1,s="",i=I1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bp(e,1,!1,null,null,n,!1,s,i),e[Mr]=t.current,Ma(e.nodeType===8?e.parentNode:e),new zp(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=nw(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return ri(e)};pn.hydrate=function(e,t,n){if(!Jd(t))throw Error(X(200));return Zd(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!Wp(e))throw Error(X(405));var s=n!=null&&n.hydratedSources||null,i=!1,o="",a=I1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=R1(t,null,e,1,n??null,i,!1,o,a),e[Mr]=t.current,Ma(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xd(t)};pn.render=function(e,t,n){if(!Jd(t))throw Error(X(200));return Zd(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!Jd(e))throw Error(X(40));return e._reactRootContainer?(ri(function(){Zd(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};pn.unstable_batchedUpdates=_p;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Jd(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return Zd(e,t,n,!1,s)};pn.version="18.3.1-next-f1338f8080-20240426";function O1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O1)}catch(e){console.error(e)}}O1(),Oj.exports=pn;var pi=Oj.exports;const fM=Sj(pi);var Mv=pi;hm.createRoot=Mv.createRoot,hm.hydrateRoot=Mv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$a.apply(this,arguments)}var ns;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ns||(ns={}));const Ev="popstate";function pM(e){e===void 0&&(e={});function t(s,i){let{pathname:o,search:a,hash:l}=s.location;return of("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:ed(i)}return xM(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gM(){return Math.random().toString(36).substr(2,8)}function Av(e,t){return{usr:e.state,key:e.key,idx:t}}function of(e,t,n,s){return n===void 0&&(n=null),$a({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Co(t):t,{state:n,key:t&&t.key||s||gM()})}function ed(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Co(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function xM(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:o=!1}=s,a=i.history,l=ns.Pop,c=null,d=h();d==null&&(d=0,a.replaceState($a({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function u(){l=ns.Pop;let w=h(),j=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:j})}function m(w,j){l=ns.Push;let y=of(g.location,w,j);n&&n(y,w),d=h()+1;let x=Av(y,d),b=g.createHref(y);try{a.pushState(x,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(b)}o&&c&&c({action:l,location:g.location,delta:1})}function p(w,j){l=ns.Replace;let y=of(g.location,w,j);n&&n(y,w),d=h();let x=Av(y,d),b=g.createHref(y);a.replaceState(x,"",b),o&&c&&c({action:l,location:g.location,delta:0})}function v(w){let j=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:ed(w);return y=y.replace(/ $/,"%20"),ft(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let g={get action(){return l},get location(){return e(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ev,u),c=w,()=>{i.removeEventListener(Ev,u),c=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let j=v(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:p,go(w){return a.go(w)}};return g}var Rv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rv||(Rv={}));function vM(e,t,n){return n===void 0&&(n="/"),yM(e,t,n,!1)}function yM(e,t,n,s){let i=typeof t=="string"?Co(t):t,o=Hp(i.pathname||"/",n);if(o==null)return null;let a=F1(e);jM(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=EM(o);l=TM(a[c],d,s)}return l}function F1(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(ft(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=us([s,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(ft(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),F1(o.children,t,h,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:PM(d,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of _1(o.path))i(o,a,c)}),t}function _1(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let a=_1(s.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function jM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:DM(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const wM=/^:[\w-]+$/,bM=3,SM=2,NM=1,CM=10,kM=-2,Iv=e=>e==="*";function PM(e,t){let n=e.split("/"),s=n.length;return n.some(Iv)&&(s+=kM),t&&(s+=SM),n.filter(i=>!Iv(i)).reduce((i,o)=>i+(wM.test(o)?bM:o===""?NM:CM),s)}function DM(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function TM(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,i={},o="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,h=o==="/"?t:t.slice(o.length)||"/",u=Ov({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!u&&d&&n&&!s[s.length-1].route.index&&(u=Ov({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:us([o,u.pathname]),pathnameBase:OM(us([o,u.pathnameBase])),route:m}),u.pathnameBase!=="/"&&(o=us([o,u.pathnameBase]))}return a}function Ov(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=MM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,h,u)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let g=l[u]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[u];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:e}}function MM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),L1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function EM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return L1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function AM(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Co(e):e;return{pathname:n?n.startsWith("/")?n:RM(n,t):t,search:LM(s),hash:FM(i)}}function RM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dh(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $1(e,t){let n=IM(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function V1(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Co(e):(i=$a({},e),ft(!i.pathname||!i.pathname.includes("?"),dh("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),dh("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),dh("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let u=t.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),u-=1;i.pathname=m.join("/")}l=u>=0?t[u]:"/"}let c=AM(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const us=e=>e.join("/").replace(/\/\/+/g,"/"),OM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _M(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const q1=["post","put","patch","delete"];new Set(q1);const $M=["get",...q1];new Set($M);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Va.apply(this,arguments)}const Gp=f.createContext(null),VM=f.createContext(null),gi=f.createContext(null),eu=f.createContext(null),$r=f.createContext({outlet:null,matches:[],isDataRoute:!1}),B1=f.createContext(null);function qM(e,t){let{relative:n}=t===void 0?{}:t;cl()||ft(!1);let{basename:s,navigator:i}=f.useContext(gi),{hash:o,pathname:a,search:l}=W1(e,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:us([s,a])),i.createHref({pathname:c,search:l,hash:o})}function cl(){return f.useContext(eu)!=null}function pr(){return cl()||ft(!1),f.useContext(eu).location}function U1(e){f.useContext(gi).static||f.useLayoutEffect(e)}function Pt(){let{isDataRoute:e}=f.useContext($r);return e?nE():BM()}function BM(){cl()||ft(!1);let e=f.useContext(Gp),{basename:t,future:n,navigator:s}=f.useContext(gi),{matches:i}=f.useContext($r),{pathname:o}=pr(),a=JSON.stringify($1(i,n.v7_relativeSplatPath)),l=f.useRef(!1);return U1(()=>{l.current=!0}),f.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let u=V1(d,JSON.parse(a),o,h.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:us([t,u.pathname])),(h.replace?s.replace:s.push)(u,h.state,h)},[t,s,a,o,e])}const UM=f.createContext(null);function zM(e){let t=f.useContext($r).outlet;return t&&f.createElement(UM.Provider,{value:e},t)}function z1(){let{matches:e}=f.useContext($r),t=e[e.length-1];return t?t.params:{}}function W1(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=f.useContext(gi),{matches:i}=f.useContext($r),{pathname:o}=pr(),a=JSON.stringify($1(i,s.v7_relativeSplatPath));return f.useMemo(()=>V1(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function WM(e,t){return HM(e,t)}function HM(e,t,n,s){cl()||ft(!1);let{navigator:i}=f.useContext(gi),{matches:o}=f.useContext($r),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=pr(),h;if(t){var u;let w=typeof t=="string"?Co(t):t;c==="/"||(u=w.pathname)!=null&&u.startsWith(c)||ft(!1),h=w}else h=d;let m=h.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=vM(e,{pathname:p}),g=XM(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:us([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:us([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,s);return t&&g?f.createElement(eu.Provider,{value:{location:Va({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ns.Pop}},g):g}function GM(){let e=tE(),t=_M(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:i},n):null,o)}const QM=f.createElement(GM,null);class YM extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement($r.Provider,{value:this.props.routeContext},f.createElement(B1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KM(e){let{routeContext:t,match:n,children:s}=e,i=f.useContext(Gp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement($r.Provider,{value:t},s)}function XM(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);h>=0||ft(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<a.length;h++){let u=a[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:m,errors:p}=n,v=u.route.loader&&m[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,u,m)=>{let p,v=!1,g=null,w=null;n&&(p=l&&u.route.id?l[u.route.id]:void 0,g=u.route.errorElement||QM,c&&(d<0&&m===0?(rE("route-fallback",!1),v=!0,w=null):d===m&&(v=!0,w=u.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,m+1)),y=()=>{let x;return p?x=g:v?x=w:u.route.Component?x=f.createElement(u.route.Component,null):u.route.element?x=u.route.element:x=h,f.createElement(KM,{match:u,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:x})};return n&&(u.route.ErrorBoundary||u.route.errorElement||m===0)?f.createElement(YM,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var H1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H1||{}),td=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(td||{});function JM(e){let t=f.useContext(Gp);return t||ft(!1),t}function ZM(e){let t=f.useContext(VM);return t||ft(!1),t}function eE(e){let t=f.useContext($r);return t||ft(!1),t}function G1(e){let t=eE(),n=t.matches[t.matches.length-1];return n.route.id||ft(!1),n.route.id}function tE(){var e;let t=f.useContext(B1),n=ZM(td.UseRouteError),s=G1(td.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function nE(){let{router:e}=JM(H1.UseNavigateStable),t=G1(td.UseNavigateStable),n=f.useRef(!1);return U1(()=>{n.current=!0}),f.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Va({fromRouteId:t},o)))},[e,t])}const Lv={};function rE(e,t,n){!t&&!Lv[e]&&(Lv[e]=!0)}function sE(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function iE(e){return zM(e.context)}function se(e){ft(!1)}function oE(e){let{basename:t="/",children:n=null,location:s,navigationType:i=ns.Pop,navigator:o,static:a=!1,future:l}=e;cl()&&ft(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:o,static:a,future:Va({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof s=="string"&&(s=Co(s));let{pathname:h="/",search:u="",hash:m="",state:p=null,key:v="default"}=s,g=f.useMemo(()=>{let w=Hp(h,c);return w==null?null:{location:{pathname:w,search:u,hash:m,state:p,key:v},navigationType:i}},[c,h,u,m,p,v,i]);return g==null?null:f.createElement(gi.Provider,{value:d},f.createElement(eu.Provider,{children:n,value:g}))}function aE(e){let{children:t,location:n}=e;return WM(af(t),n)}new Promise(()=>{});function af(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(s,i)=>{if(!f.isValidElement(s))return;let o=[...t,i];if(s.type===f.Fragment){n.push.apply(n,af(s.props.children,o));return}s.type!==se&&ft(!1),!s.props.index||!s.props.children||ft(!1);let a={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=af(s.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},lf.apply(this,arguments)}function lE(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,o;for(o=0;o<s.length;o++)i=s[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dE(e,t){return e.button===0&&(!t||t==="_self")&&!cE(e)}const uE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hE="6";try{window.__reactRouterVersion=hE}catch{}const mE="startTransition",Fv=tp[mE];function fE(e){let{basename:t,children:n,future:s,window:i}=e,o=f.useRef();o.current==null&&(o.current=pM({window:i,v5Compat:!0}));let a=o.current,[l,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:d}=s||{},h=f.useCallback(u=>{d&&Fv?Fv(()=>c(u)):c(u)},[c,d]);return f.useLayoutEffect(()=>a.listen(h),[a,h]),f.useEffect(()=>sE(s),[s]),f.createElement(oE,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const pE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$e=f.forwardRef(function(t,n){let{onClick:s,relative:i,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:u}=t,m=lE(t,uE),{basename:p}=f.useContext(gi),v,g=!1;if(typeof d=="string"&&gE.test(d)&&(v=d,pE))try{let x=new URL(window.location.href),b=d.startsWith("//")?new URL(x.protocol+d):new URL(d),N=Hp(b.pathname,p);b.origin===x.origin&&N!=null?d=N+b.search+b.hash:g=!0}catch{}let w=qM(d,{relative:i}),j=xE(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:u});function y(x){s&&s(x),x.defaultPrevented||j(x)}return f.createElement("a",lf({},m,{href:v||w,onClick:g||o?s:y,ref:n,target:c}))});var _v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_v||(_v={}));var $v;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})($v||($v={}));function xE(e,t){let{target:n,replace:s,state:i,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=Pt(),d=pr(),h=W1(e,{relative:a});return f.useCallback(u=>{if(dE(u,n)){u.preventDefault();let m=s!==void 0?s:ed(d)===ed(h);c(e,{replace:m,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[d,c,h,s,i,n,e,o,a,l])}function Q1(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Q1(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Y1(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Q1(e))&&(s&&(s+=" "),s+=t);return s}function vE(){for(var e=0,t,n,s="";e<arguments.length;)(t=arguments[e++])&&(n=K1(t))&&(s&&(s+=" "),s+=n);return s}function K1(e){if(typeof e=="string")return e;for(var t,n="",s=0;s<e.length;s++)e[s]&&(t=K1(e[s]))&&(n&&(n+=" "),n+=t);return n}var Qp="-";function yE(e){var t=wE(e),n=e.conflictingClassGroups,s=e.conflictingClassGroupModifiers,i=s===void 0?{}:s;function o(l){var c=l.split(Qp);return c[0]===""&&c.length!==1&&c.shift(),X1(c,t)||jE(l)}function a(l,c){var d=n[l]||[];return c&&i[l]?[].concat(d,i[l]):d}return{getClassGroupId:o,getConflictingClassGroupIds:a}}function X1(e,t){var a;if(e.length===0)return t.classGroupId;var n=e[0],s=t.nextPart.get(n),i=s?X1(e.slice(1),s):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(Qp);return(a=t.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:a.classGroupId}}var Vv=/^\[(.+)\]$/;function jE(e){if(Vv.test(e)){var t=Vv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function wE(e){var t=e.theme,n=e.prefix,s={nextPart:new Map,validators:[]},i=SE(Object.entries(e.classGroups),n);return i.forEach(function(o){var a=o[0],l=o[1];cf(l,s,a,t)}),s}function cf(e,t,n,s){e.forEach(function(i){if(typeof i=="string"){var o=i===""?t:qv(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(bE(i)){cf(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(a){var l=a[0],c=a[1];cf(c,qv(t,l),n,s)})})}function qv(e,t){var n=e;return t.split(Qp).forEach(function(s){n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n}function bE(e){return e.isThemeGetter}function SE(e,t){return t?e.map(function(n){var s=n[0],i=n[1],o=i.map(function(a){return typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(l){var c=l[0],d=l[1];return[t+c,d]})):a});return[s,o]}):e}function NE(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,s=new Map;function i(o,a){n.set(o,a),t++,t>e&&(t=0,s=n,n=new Map)}return{get:function(a){var l=n.get(a);if(l!==void 0)return l;if((l=s.get(a))!==void 0)return i(a,l),l},set:function(a,l){n.has(a)?n.set(a,l):i(a,l)}}}var J1="!";function CE(e){var t=e.separator||":",n=t.length===1,s=t[0],i=t.length;return function(a){for(var l=[],c=0,d=0,h,u=0;u<a.length;u++){var m=a[u];if(c===0){if(m===s&&(n||a.slice(u,u+i)===t)){l.push(a.slice(d,u)),d=u+i;continue}if(m==="/"){h=u;continue}}m==="["?c++:m==="]"&&c--}var p=l.length===0?a:a.substring(d),v=p.startsWith(J1),g=v?p.substring(1):p,w=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:w}}}function kE(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(s){var i=s[0]==="[";i?(t.push.apply(t,n.sort().concat([s])),n=[]):n.push(s)}),t.push.apply(t,n.sort()),t}function PE(e){return{cache:NE(e.cacheSize),splitModifiers:CE(e),...yE(e)}}var DE=/\s+/;function TE(e,t){var n=t.splitModifiers,s=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(DE).map(function(a){var l=n(a),c=l.modifiers,d=l.hasImportantModifier,h=l.baseClassName,u=l.maybePostfixModifierPosition,m=s(u?h.substring(0,u):h),p=!!u;if(!m){if(!u)return{isTailwindClass:!1,originalClassName:a};if(m=s(h),!m)return{isTailwindClass:!1,originalClassName:a};p=!1}var v=kE(c).join(":"),g=d?v+J1:v;return{isTailwindClass:!0,modifierId:g,classGroupId:m,originalClassName:a,hasPostfixModifier:p}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var l=a.modifierId,c=a.classGroupId,d=a.hasPostfixModifier,h=l+c;return o.has(h)?!1:(o.add(h),i(c,d).forEach(function(u){return o.add(l+u)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function ME(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s,i,o,a=l;function l(d){var h=t[0],u=t.slice(1),m=u.reduce(function(p,v){return v(p)},h());return s=PE(m),i=s.cache.get,o=s.cache.set,a=c,c(d)}function c(d){var h=i(d);if(h)return h;var u=TE(d,s);return o(d,u),u}return function(){return a(vE.apply(null,arguments))}}function He(e){var t=function(s){return s[e]||[]};return t.isThemeGetter=!0,t}var Z1=/^\[(?:([a-z-]+):)?(.+)\]$/i,EE=/^\d+\/\d+$/,AE=new Set(["px","full","screen"]),RE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OE=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Rn(e){return Qs(e)||AE.has(e)||EE.test(e)||df(e)}function df(e){return xi(e,"length",qE)}function LE(e){return xi(e,"size",eb)}function FE(e){return xi(e,"position",eb)}function _E(e){return xi(e,"url",BE)}function Wl(e){return xi(e,"number",Qs)}function Qs(e){return!Number.isNaN(Number(e))}function $E(e){return e.endsWith("%")&&Qs(e.slice(0,-1))}function Uo(e){return Bv(e)||xi(e,"number",Bv)}function Ae(e){return Z1.test(e)}function zo(){return!0}function Br(e){return RE.test(e)}function VE(e){return xi(e,"",UE)}function xi(e,t,n){var s=Z1.exec(e);return s?s[1]?s[1]===t:n(s[2]):!1}function qE(e){return IE.test(e)}function eb(){return!1}function BE(e){return e.startsWith("url(")}function Bv(e){return Number.isInteger(Number(e))}function UE(e){return OE.test(e)}function zE(){var e=He("colors"),t=He("spacing"),n=He("blur"),s=He("brightness"),i=He("borderColor"),o=He("borderRadius"),a=He("borderSpacing"),l=He("borderWidth"),c=He("contrast"),d=He("grayscale"),h=He("hueRotate"),u=He("invert"),m=He("gap"),p=He("gradientColorStops"),v=He("gradientColorStopPositions"),g=He("inset"),w=He("margin"),j=He("opacity"),y=He("padding"),x=He("saturate"),b=He("scale"),N=He("sepia"),M=He("skew"),S=He("space"),k=He("translate"),R=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Ae,t]},C=function(){return[Ae,t]},T=function(){return["",Rn]},I=function(){return["auto",Qs,Ae]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},L=function(){return["solid","dashed","dotted","double","none"]},V=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},F=function(){return["","0",Ae]},J=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},H=function(){return[Qs,Wl]},re=function(){return[Qs,Ae]};return{cacheSize:500,theme:{colors:[zo],spacing:[Rn],blur:["none","",Br,Ae],brightness:H(),borderColor:[e],borderRadius:["none","","full",Br,Ae],borderSpacing:C(),borderWidth:T(),contrast:H(),grayscale:F(),hueRotate:re(),invert:F(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[$E,df],inset:D(),margin:D(),opacity:H(),padding:C(),saturate:H(),scale:H(),sepia:F(),skew:re(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[Br]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[Ae])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uo]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Uo]}],"grid-cols":[{"grid-cols":[zo]}],"col-start-end":[{col:["auto",{span:["full",Uo]},Ae]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[zo]}],"row-start-end":[{row:["auto",{span:[Uo]},Ae]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ae,t]}],"min-w":[{"min-w":["min","max","fit",Ae,Rn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Br]},Br,Ae]}],h:[{h:[Ae,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ae,Rn]}],"max-h":[{"max-h":[Ae,t,"min","max","fit"]}],"font-size":[{text:["base",Br,df]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wl]}],"font-family":[{font:[zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Qs,Wl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ae,Rn]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(L(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Rn]}],"underline-offset":[{"underline-offset":["auto",Ae,Rn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[FE])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_E]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[].concat(L(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(L())}],"outline-offset":[{"outline-offset":[Ae,Rn]}],"outline-w":[{outline:[Rn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Rn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Br,VE]}],"shadow-color":[{shadow:[zo]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Br,Ae]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Uo,Ae]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rn,Wl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var WE=ME(zE);function ue(...e){return WE(Y1(e))}function Uv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tu(...e){return t=>{let n=!1;const s=e.map(i=>{const o=Uv(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():Uv(e[i],null)}}}}function Oe(...e){return f.useCallback(tu(...e),e)}function xs(e){const t=GE(e),n=f.forwardRef((s,i)=>{const{children:o,...a}=s,l=f.Children.toArray(o),c=l.find(YE);if(c){const d=c.props.children,h=l.map(u=>u===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:u);return r.jsx(t,{...a,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return r.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var HE=xs("Slot");function GE(e){const t=f.forwardRef((n,s)=>{const{children:i,...o}=n;if(f.isValidElement(i)){const a=XE(i),l=KE(o,i.props);return i.type!==f.Fragment&&(l.ref=s?tu(s,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QE=Symbol("radix.slottable");function YE(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QE}function KE(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...l)=>{const c=o(...l);return i(...l),c}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function XE(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const zv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Wv=Y1,Yp=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Wv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],u=o==null?void 0:o[d];if(h===null)return null;const m=zv(h)||zv(u);return i[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[u,m]=h;return m===void 0||(d[u]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,h)=>{let{class:u,className:m,...p}=h;return Object.entries(p).every(v=>{let[g,w]=v;return Array.isArray(w)?w.includes({...o,...l}[g]):{...o,...l}[g]===w})?[...d,u,m]:d},[]);return Wv(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},uf=Yp("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=ce.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},o)=>{const a=s?HE:"button";return r.jsx(a,{className:ue(uf({variant:t,size:n,className:e})),ref:o,...i})});O.displayName="Button";const B=ce.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));B.displayName="Card";const G=ce.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",e),...t}));G.displayName="CardHeader";const z=ce.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));z.displayName="CardTitle";const pe=ce.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));pe.displayName="CardDescription";const Q=ce.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ue("p-6 pt-0",e),...t}));Q.displayName="CardContent";const ct=ce.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",e),...t}));ct.displayName="CardFooter";var JE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U=(e,t)=>{const n=f.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},d)=>f.createElement("svg",{ref:d,...JE,width:i,height:i,stroke:s,strokeWidth:a?Number(o)*24/Number(i):o,className:`lucide lucide-${ZE(e)}`,...c},[...t.map(([h,u])=>f.createElement(h,u)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n},lo=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),be=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),eA=U("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),qa=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),tA=U("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),co=U("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),tb=U("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Kp=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),nd=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),nA=U("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),dr=U("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),yt=U("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Xp=U("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Ba=U("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),Vn=U("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),rA=U("CalendarOff",[["path",{d:"M4.18 4.18A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"1feomx"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),sA=U("CalendarPlus",[["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"19",x2:"19",y1:"16",y2:"22",key:"1ttwzi"}],["line",{x1:"16",x2:"22",y1:"19",y2:"19",key:"1g9955"}]]),nb=U("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ar=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ur=U("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Jp=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Zp=U("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),iA=U("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),rb=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sb=U("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),oA=U("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ib=U("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),aA=U("ClipboardEdit",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5",key:"cereej"}],["path",{d:"M4 13.5V6a2 2 0 0 1 2-2h2",key:"5ua5vh"}]]),ob=U("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),rd=U("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Pn=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),sd=U("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),si=U("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]),Qe=U("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),eg=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),lA=U("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),dl=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ab=U("FileArchive",[["path",{d:"M4 22V4c0-.5.2-1 .6-1.4C5 2.2 5.5 2 6 2h8.5L20 7.5V20c0 .5-.2 1-.6 1.4-.4.4-.9.6-1.4.6h-2",key:"1u864v"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]),cA=U("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),dA=U("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),uA=U("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]),hA=U("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),Hv=U("FileScan",[["path",{d:"M20 10V7.5L14.5 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h4.5",key:"uvikde"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M16 22a2 2 0 0 1-2-2",key:"1wqh5n"}],["path",{d:"M20 22a2 2 0 0 0 2-2",key:"1l9q4k"}],["path",{d:"M20 14a2 2 0 0 1 2 2",key:"1ny6zw"}],["path",{d:"M16 14a2 2 0 0 0-2 2",key:"ceaadl"}]]),nu=U("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]]),Gv=U("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),st=U("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),It=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),mA=U("FolderArchive",[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]]),tg=U("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]),fA=U("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),hf=U("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),lb=U("GanttChartSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 8h7",key:"kbo1nt"}],["path",{d:"M8 12h6",key:"ikassy"}],["path",{d:"M11 16h5",key:"oq65wt"}]]),cb=U("GitPullRequestClosed",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 9v12",key:"1sc30k"}],["path",{d:"m21 3-6 6",key:"16nqsk"}],["path",{d:"m21 9-6-6",key:"9j17rh"}],["path",{d:"M18 11.5V15",key:"65xf6f"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]]),pA=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),vs=U("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]),gA=U("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),id=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),xA=U("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),ng=U("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),db=U("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),ru=U("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Rr=U("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),vA=U("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),yA=U("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),jA=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),wA=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),od=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ii=U("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),rg=U("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),su=U("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),sg=U("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),ad=U("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),bA=U("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]),SA=U("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]]),Qv=U("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),uo=U("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),vi=U("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),NA=U("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),ub=U("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ts=U("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),mn=U("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),wc=U("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Yv=U("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),CA=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),hb=U("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Kv=U("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),ze=U("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),kA=U("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),mb=U("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),ig=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),PA=U("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Vr=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),DA=U("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),TA=U("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),ul=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),MA=U("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),ho=U("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),EA=U("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ld=U("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),AA=U("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),ys=U("Siren",[["path",{d:"M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z",key:"rmc51c"}],["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z",key:"yyvmjy"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]),fb=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),RA=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Re=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),uh=U("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),pb=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),hr=U("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),tn=U("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),oi=U("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),IA=U("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Ua=U("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),iu=U("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),cd=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),og=U("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),Ot=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),OA=U("WalletCards",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]]),gb=U("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),xb=U("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),vb=U("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),ai=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),yb=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xv=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),jb=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ou=f.createContext({}),au=f.createContext(null),lu=typeof document<"u",ag=lu?f.useLayoutEffect:f.useEffect,wb=f.createContext({strict:!1}),lg=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),LA="framerAppearId",bb="data-"+lg(LA);function FA(e,t,n,s){const{visualElement:i}=f.useContext(ou),o=f.useContext(wb),a=f.useContext(au),l=f.useContext(jb).reducedMotion,c=f.useRef();s=s||o.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;f.useInsertionEffect(()=>{d&&d.update(n,a)});const h=f.useRef(!!(n[bb]&&!window.HandoffComplete));return ag(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function qi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _A(e,t,n){return f.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):qi(n)&&(n.current=s))},[t])}function za(e){return typeof e=="string"||Array.isArray(e)}function cu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const cg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dg=["initial",...cg];function du(e){return cu(e.animate)||dg.some(t=>za(e[t]))}function Sb(e){return!!(du(e)||e.variants)}function $A(e,t){if(du(e)){const{initial:n,animate:s}=e;return{initial:n===!1||za(n)?n:void 0,animate:za(s)?s:void 0}}return e.inherit!==!1?t:{}}function VA(e){const{initial:t,animate:n}=$A(e,f.useContext(ou));return f.useMemo(()=>({initial:t,animate:n}),[Jv(t),Jv(n)])}function Jv(e){return Array.isArray(e)?e.join(" "):e}const Zv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wa={};for(const e in Zv)Wa[e]={isEnabled:t=>Zv[e].some(n=>!!t[n])};function qA(e){for(const t in e)Wa[t]={...Wa[t],...e[t]}}const ug=f.createContext({}),Nb=f.createContext({}),BA=Symbol.for("motionComponentSymbol");function UA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&qA(e);function o(l,c){let d;const h={...f.useContext(jb),...l,layoutId:zA(l)},{isStatic:u}=h,m=VA(l),p=s(l,u);if(!u&&lu){m.visualElement=FA(i,p,h,t);const v=f.useContext(Nb),g=f.useContext(wb).strict;m.visualElement&&(d=m.visualElement.loadFeatures(h,g,e,v))}return f.createElement(ou.Provider,{value:m},d&&m.visualElement?f.createElement(d,{visualElement:m.visualElement,...h}):null,n(i,l,_A(p,m.visualElement,c),p,u,m.visualElement))}const a=f.forwardRef(o);return a[BA]=i,a}function zA({layoutId:e}){const t=f.useContext(ug).id;return t&&e!==void 0?t+"-"+e:e}function WA(e){function t(s,i={}){return UA(e(s,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const HA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hg(e){return typeof e!="string"||e.includes("-")?!1:!!(HA.indexOf(e)>-1||/[A-Z]/.test(e))}const dd={};function GA(e){Object.assign(dd,e)}const hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yi=new Set(hl);function Cb(e,{layout:t,layoutId:n}){return yi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!dd[e]||e==="opacity")}const nn=e=>!!(e&&e.getVelocity),QA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YA=hl.length;function KA(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,i){let o="";for(let a=0;a<YA;a++){const l=hl[a];if(e[l]!==void 0){const c=QA[l]||l;o+=`${c}(${e[l]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,s?"":o):n&&s&&(o="none"),o}const kb=e=>t=>typeof t=="string"&&t.startsWith(e),Pb=kb("--"),mf=kb("var(--"),XA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,JA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,js=(e,t,n)=>Math.min(Math.max(n,e),t),ji={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ga={...ji,transform:e=>js(0,1,e)},Hl={...ji,default:1},xa=e=>Math.round(e*1e5)/1e5,uu=/(-)?([\d]*\.?[\d])+/g,Db=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ZA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ml(e){return typeof e=="string"}const fl=e=>({test:t=>ml(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gr=fl("deg"),lr=fl("%"),ve=fl("px"),eR=fl("vh"),tR=fl("vw"),ey={...lr,parse:e=>lr.parse(e)/100,transform:e=>lr.transform(e*100)},ty={...ji,transform:Math.round},Tb={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,size:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:Hl,scaleX:Hl,scaleY:Hl,scaleZ:Hl,skew:Gr,skewX:Gr,skewY:Gr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:ga,originX:ey,originY:ey,originZ:ve,zIndex:ty,fillOpacity:ga,strokeOpacity:ga,numOctaves:ty};function mg(e,t,n,s){const{style:i,vars:o,transform:a,transformOrigin:l}=e;let c=!1,d=!1,h=!0;for(const u in t){const m=t[u];if(Pb(u)){o[u]=m;continue}const p=Tb[u],v=JA(m,p);if(yi.has(u)){if(c=!0,a[u]=v,!h)continue;m!==(p.default||0)&&(h=!1)}else u.startsWith("origin")?(d=!0,l[u]=v):i[u]=v}if(t.transform||(c||s?i.transform=KA(e.transform,n,h,s):i.transform&&(i.transform="none")),d){const{originX:u="50%",originY:m="50%",originZ:p=0}=l;i.transformOrigin=`${u} ${m} ${p}`}}const fg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mb(e,t,n){for(const s in t)!nn(t[s])&&!Cb(s,n)&&(e[s]=t[s])}function nR({transformTemplate:e},t,n){return f.useMemo(()=>{const s=fg();return mg(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function rR(e,t,n){const s=e.style||{},i={};return Mb(i,s,e),Object.assign(i,nR(e,t,n)),e.transformValues?e.transformValues(i):i}function sR(e,t,n){const s={},i=rR(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const iR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ud(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iR.has(e)}let Eb=e=>!ud(e);function oR(e){e&&(Eb=t=>t.startsWith("on")?!ud(t):e(t))}try{oR(require("@emotion/is-prop-valid").default)}catch{}function aR(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Eb(i)||n===!0&&ud(i)||!t&&!ud(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function ny(e,t,n){return typeof e=="string"?e:ve.transform(t+n*e)}function lR(e,t,n){const s=ny(t,e.x,e.width),i=ny(n,e.y,e.height);return`${s} ${i}`}const cR={offset:"stroke-dashoffset",array:"stroke-dasharray"},dR={offset:"strokeDashoffset",array:"strokeDasharray"};function uR(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?cR:dR;e[o.offset]=ve.transform(-s);const a=ve.transform(t),l=ve.transform(n);e[o.array]=`${a} ${l}`}function pg(e,{attrX:t,attrY:n,attrScale:s,originX:i,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},h,u,m){if(mg(e,d,h,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v,dimensions:g}=e;p.transform&&(g&&(v.transform=p.transform),delete p.transform),g&&(i!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=lR(g,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),a!==void 0&&uR(p,a,l,c,!1)}const Ab=()=>({...fg(),attrs:{}}),gg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hR(e,t,n,s){const i=f.useMemo(()=>{const o=Ab();return pg(o,t,{enableHardwareAcceleration:!1},gg(s),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Mb(o,e.style,e),i.style={...o,...i.style}}return i}function mR(e=!1){return(n,s,i,{latestValues:o},a)=>{const c=(hg(n)?hR:sR)(s,o,a,n),h={...aR(s,typeof n=="string",e),...c,ref:i},{children:u}=s,m=f.useMemo(()=>nn(u)?u.get():u,[u]);return f.createElement(n,{...h,children:m})}}function Rb(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const o in n)e.style.setProperty(o,n[o])}const Ib=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ob(e,t,n,s){Rb(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Ib.has(i)?i:lg(i),t.attrs[i])}function xg(e,t){const{style:n}=e,s={};for(const i in n)(nn(n[i])||t.style&&nn(t.style[i])||Cb(i,e))&&(s[i]=n[i]);return s}function Lb(e,t){const n=xg(e,t);for(const s in e)if(nn(e[s])||nn(t[s])){const i=hl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function vg(e,t,n,s={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,i)),t}function Fb(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const hd=e=>Array.isArray(e),fR=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),pR=e=>hd(e)?e[e.length-1]||0:e;function bc(e){const t=nn(e)?e.get():e;return fR(t)?t.toValue():t}function gR({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,i,o){const a={latestValues:xR(s,i,o,e),renderState:t()};return n&&(a.mount=l=>n(s,l,a)),a}const _b=e=>(t,n)=>{const s=f.useContext(ou),i=f.useContext(au),o=()=>gR(e,t,s,i);return n?o():Fb(o)};function xR(e,t,n,s){const i={},o=s(e,{});for(const m in o)i[m]=bc(o[m]);let{initial:a,animate:l}=e;const c=du(e),d=Sb(e);t&&d&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const u=h?l:a;return u&&typeof u!="boolean"&&!cu(u)&&(Array.isArray(u)?u:[u]).forEach(p=>{const v=vg(e,p);if(!v)return;const{transitionEnd:g,transition:w,...j}=v;for(const y in j){let x=j[y];if(Array.isArray(x)){const b=h?x.length-1:0;x=x[b]}x!==null&&(i[y]=x)}for(const y in g)i[y]=g[y]}),i}const lt=e=>e;class ry{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function vR(e){let t=new ry,n=new ry,s=0,i=!1,o=!1;const a=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const u=h&&i,m=u?t:n;return d&&a.add(c),m.add(c)&&u&&i&&(s=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let d=0;d<s;d++){const h=t.order[d];h(c),a.has(h)&&(l.schedule(h),e())}i=!1,o&&(o=!1,l.process(c))}};return l}const Gl=["prepare","read","update","preRender","render","postRender"],yR=40;function jR(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Gl.reduce((u,m)=>(u[m]=vR(()=>n=!0),u),{}),a=u=>o[u].process(i),l=()=>{const u=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(u-i.timestamp,yR),1),i.timestamp=u,i.isProcessing=!0,Gl.forEach(a),i.isProcessing=!1,n&&t&&(s=!1,e(l))},c=()=>{n=!0,s=!0,i.isProcessing||e(l)};return{schedule:Gl.reduce((u,m)=>{const p=o[m];return u[m]=(v,g=!1,w=!1)=>(n||c(),p.schedule(v,g,w)),u},{}),cancel:u=>Gl.forEach(m=>o[m].cancel(u)),state:i,steps:o}}const{schedule:Ue,cancel:Ir,state:At,steps:hh}=jR(typeof requestAnimationFrame<"u"?requestAnimationFrame:lt,!0),wR={useVisualState:_b({scrapeMotionValuesFromProps:Lb,createRenderState:Ab,onMount:(e,t,{renderState:n,latestValues:s})=>{Ue.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ue.render(()=>{pg(n,s,{enableHardwareAcceleration:!1},gg(t.tagName),e.transformTemplate),Ob(t,n)})}})},bR={useVisualState:_b({scrapeMotionValuesFromProps:xg,createRenderState:fg})};function SR(e,{forwardMotionProps:t=!1},n,s){return{...hg(e)?wR:bR,preloadedFeatures:n,useRender:mR(t),createVisualElement:s,Component:e}}function Cr(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const $b=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function hu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const NR=e=>t=>$b(t)&&e(t,hu(t));function Pr(e,t,n,s){return Cr(e,t,NR(n),s)}const CR=(e,t)=>n=>t(e(n)),hs=(...e)=>e.reduce(CR);function Vb(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const sy=Vb("dragHorizontal"),iy=Vb("dragVertical");function qb(e){let t=!1;if(e==="y")t=iy();else if(e==="x")t=sy();else{const n=sy(),s=iy();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function Bb(){const e=qb(!0);return e?(e(),!1):!0}class Ms{constructor(t){this.isMounted=!1,this.node=t}update(){}}function oy(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),i=(o,a)=>{if(o.pointerType==="touch"||Bb())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&Ue.update(()=>l[s](o,a))};return Pr(e.current,n,i,{passive:!e.getProps()[s]})}class kR extends Ms{mount(){this.unmount=hs(oy(this.node,!0),oy(this.node,!1))}unmount(){}}class PR extends Ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hs(Cr(this.node.current,"focus",()=>this.onFocus()),Cr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Ub=(e,t)=>t?e===t?!0:Ub(e,t.parentElement):!1;function mh(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,hu(n))}class DR extends Ms{constructor(){super(...arguments),this.removeStartListeners=lt,this.removeEndListeners=lt,this.removeAccessibleListeners=lt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),o=Pr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:u}=this.node.getProps();Ue.update(()=>{!u&&!Ub(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),a=Pr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=hs(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||mh("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Ue.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Cr(this.node.current,"keyup",a),mh("down",(l,c)=>{this.startPress(l,c)})},n=Cr(this.node.current,"keydown",t),s=()=>{this.isPressing&&mh("cancel",(o,a)=>this.cancelPress(o,a))},i=Cr(this.node.current,"blur",s);this.removeAccessibleListeners=hs(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Ue.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Bb()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Ue.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=Pr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Cr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=hs(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ff=new WeakMap,fh=new WeakMap,TR=e=>{const t=ff.get(e.target);t&&t(e)},MR=e=>{e.forEach(TR)};function ER({root:e,...t}){const n=e||document;fh.has(n)||fh.set(n,{});const s=fh.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(MR,{root:e,...t})),s[i]}function AR(e,t,n){const s=ER(t);return ff.set(e,n),s.observe(e),()=>{ff.delete(e),s.unobserve(e)}}const RR={some:0,all:1};class IR extends Ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:RR[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:u}=this.node.getProps(),m=d?h:u;m&&m(c)};return AR(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(OR(t,n))&&this.startObserver()}unmount(){}}function OR({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const LR={inView:{Feature:IR},tap:{Feature:DR},focus:{Feature:PR},hover:{Feature:kR}};function zb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function FR(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function _R(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function mu(e,t,n){const s=e.getProps();return vg(s,t,n!==void 0?n:s.custom,FR(e),_R(e))}let $R=lt,yg=lt;const ms=e=>e*1e3,Dr=e=>e/1e3,VR={current:!1},Wb=e=>Array.isArray(e)&&typeof e[0]=="number";function Hb(e){return!!(!e||typeof e=="string"&&Gb[e]||Wb(e)||Array.isArray(e)&&e.every(Hb))}const na=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Gb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:na([0,.65,.55,1]),circOut:na([.55,0,1,.45]),backIn:na([.31,.01,.66,-.59]),backOut:na([.33,1.53,.69,.99])};function Qb(e){if(e)return Wb(e)?na(e):Array.isArray(e)?e.map(Qb):Gb[e]}function qR(e,t,n,{delay:s=0,duration:i,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const d={[t]:n};c&&(d.offset=c);const h=Qb(l);return Array.isArray(h)&&(d.easing=h),e.animate(d,{delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function BR(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const Yb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,UR=1e-7,zR=12;function WR(e,t,n,s,i){let o,a,l=0;do a=t+(n-t)/2,o=Yb(a,s,i)-e,o>0?n=a:t=a;while(Math.abs(o)>UR&&++l<zR);return a}function pl(e,t,n,s){if(e===t&&n===s)return lt;const i=o=>WR(o,0,1,e,n);return o=>o===0||o===1?o:Yb(i(o),t,s)}const HR=pl(.42,0,1,1),GR=pl(0,0,.58,1),Kb=pl(.42,0,.58,1),QR=e=>Array.isArray(e)&&typeof e[0]!="number",Xb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jb=e=>t=>1-e(1-t),jg=e=>1-Math.sin(Math.acos(e)),Zb=Jb(jg),YR=Xb(jg),eS=pl(.33,1.53,.69,.99),wg=Jb(eS),KR=Xb(wg),XR=e=>(e*=2)<1?.5*wg(e):.5*(2-Math.pow(2,-10*(e-1))),JR={linear:lt,easeIn:HR,easeInOut:Kb,easeOut:GR,circIn:jg,circInOut:YR,circOut:Zb,backIn:wg,backInOut:KR,backOut:eS,anticipate:XR},ay=e=>{if(Array.isArray(e)){yg(e.length===4);const[t,n,s,i]=e;return pl(t,n,s,i)}else if(typeof e=="string")return JR[e];return e},bg=(e,t)=>n=>!!(ml(n)&&ZA.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),tS=(e,t,n)=>s=>{if(!ml(s))return s;const[i,o,a,l]=s.match(uu);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},ZR=e=>js(0,255,e),ph={...ji,transform:e=>Math.round(ZR(e))},Ys={test:bg("rgb","red"),parse:tS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+ph.transform(e)+", "+ph.transform(t)+", "+ph.transform(n)+", "+xa(ga.transform(s))+")"};function e4(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const pf={test:bg("#"),parse:e4,transform:Ys.transform},Bi={test:bg("hsl","hue"),parse:tS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+lr.transform(xa(t))+", "+lr.transform(xa(n))+", "+xa(ga.transform(s))+")"},Vt={test:e=>Ys.test(e)||pf.test(e)||Bi.test(e),parse:e=>Ys.test(e)?Ys.parse(e):Bi.test(e)?Bi.parse(e):pf.parse(e),transform:e=>ml(e)?e:e.hasOwnProperty("red")?Ys.transform(e):Bi.transform(e)},rt=(e,t,n)=>-n*e+n*t+e;function gh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function t4({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=gh(c,l,e+1/3),o=gh(c,l,e),a=gh(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:s}}const xh=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},n4=[pf,Ys,Bi],r4=e=>n4.find(t=>t.test(e));function ly(e){const t=r4(e);let n=t.parse(e);return t===Bi&&(n=t4(n)),n}const nS=(e,t)=>{const n=ly(e),s=ly(t),i={...n};return o=>(i.red=xh(n.red,s.red,o),i.green=xh(n.green,s.green,o),i.blue=xh(n.blue,s.blue,o),i.alpha=rt(n.alpha,s.alpha,o),Ys.transform(i))};function s4(e){var t,n;return isNaN(e)&&ml(e)&&(((t=e.match(uu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Db))===null||n===void 0?void 0:n.length)||0)>0}const rS={regex:XA,countKey:"Vars",token:"${v}",parse:lt},sS={regex:Db,countKey:"Colors",token:"${c}",parse:Vt.parse},iS={regex:uu,countKey:"Numbers",token:"${n}",parse:ji.parse};function vh(e,{regex:t,countKey:n,token:s,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...o.map(i)))}function md(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&vh(n,rS),vh(n,sS),vh(n,iS),n}function oS(e){return md(e).values}function aS(e){const{values:t,numColors:n,numVars:s,tokenised:i}=md(e),o=t.length;return a=>{let l=i;for(let c=0;c<o;c++)c<s?l=l.replace(rS.token,a[c]):c<s+n?l=l.replace(sS.token,Vt.transform(a[c])):l=l.replace(iS.token,xa(a[c]));return l}}const i4=e=>typeof e=="number"?0:e;function o4(e){const t=oS(e);return aS(e)(t.map(i4))}const ws={test:s4,parse:oS,createTransformer:aS,getAnimatableNone:o4},lS=(e,t)=>n=>`${n>0?t:e}`;function cS(e,t){return typeof e=="number"?n=>rt(e,t,n):Vt.test(e)?nS(e,t):e.startsWith("var(")?lS(e,t):uS(e,t)}const dS=(e,t)=>{const n=[...e],s=n.length,i=e.map((o,a)=>cS(o,t[a]));return o=>{for(let a=0;a<s;a++)n[a]=i[a](o);return n}},a4=(e,t)=>{const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=cS(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}},uS=(e,t)=>{const n=ws.createTransformer(t),s=md(e),i=md(t);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?hs(dS(s.values,i.values),n):lS(e,t)},Ha=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},cy=(e,t)=>n=>rt(e,t,n);function l4(e){return typeof e=="number"?cy:typeof e=="string"?Vt.test(e)?nS:uS:Array.isArray(e)?dS:typeof e=="object"?a4:cy}function c4(e,t,n){const s=[],i=n||l4(e[0]),o=e.length-1;for(let a=0;a<o;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||lt:t;l=hs(c,l)}s.push(l)}return s}function hS(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(yg(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=c4(t,s,i),l=a.length,c=d=>{let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const u=Ha(e[h],e[h+1],d);return a[h](u)};return n?d=>c(js(e[0],e[o-1],d)):c}function d4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Ha(0,t,s);e.push(rt(n,1,i))}}function u4(e){const t=[0];return d4(t,e.length-1),t}function h4(e,t){return e.map(n=>n*t)}function m4(e,t){return e.map(()=>t||Kb).splice(0,e.length-1)}function fd({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=QR(s)?s.map(ay):ay(s),o={done:!1,value:t[0]},a=h4(n&&n.length===t.length?n:u4(t),e),l=hS(a,t,{ease:Array.isArray(i)?i:m4(t,i)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}function mS(e,t){return t?e*(1e3/t):0}const f4=5;function fS(e,t,n){const s=Math.max(t-f4,0);return mS(n-e(s),t-s)}const yh=.001,p4=.01,dy=10,g4=.05,x4=1;function v4({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let i,o;$R(e<=ms(dy));let a=1-t;a=js(g4,x4,a),e=js(p4,dy,Dr(e)),a<1?(i=d=>{const h=d*a,u=h*e,m=h-n,p=gf(d,a),v=Math.exp(-u);return yh-m/p*v},o=d=>{const u=d*a*e,m=u*n+n,p=Math.pow(a,2)*Math.pow(d,2)*e,v=Math.exp(-u),g=gf(Math.pow(d,2),a);return(-i(d)+yh>0?-1:1)*((m-p)*v)/g}):(i=d=>{const h=Math.exp(-d*e),u=(d-n)*e+1;return-yh+h*u},o=d=>{const h=Math.exp(-d*e),u=(n-d)*(e*e);return h*u});const l=5/e,c=j4(i,o,l);if(e=ms(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:a*2*Math.sqrt(s*d),duration:e}}}const y4=12;function j4(e,t,n){let s=n;for(let i=1;i<y4;i++)s=s-e(s)/t(s);return s}function gf(e,t){return e*Math.sqrt(1-t*t)}const w4=["duration","bounce"],b4=["stiffness","damping","mass"];function uy(e,t){return t.some(n=>e[n]!==void 0)}function S4(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uy(e,b4)&&uy(e,w4)){const n=v4(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function pS({keyframes:e,restDelta:t,restSpeed:n,...s}){const i=e[0],o=e[e.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:u,isResolvedFromDuration:m}=S4({...s,velocity:-Dr(s.velocity||0)}),p=u||0,v=c/(2*Math.sqrt(l*d)),g=o-i,w=Dr(Math.sqrt(l/d)),j=Math.abs(g)<5;n||(n=j?.01:2),t||(t=j?.005:.5);let y;if(v<1){const x=gf(w,v);y=b=>{const N=Math.exp(-v*w*b);return o-N*((p+v*w*g)/x*Math.sin(x*b)+g*Math.cos(x*b))}}else if(v===1)y=x=>o-Math.exp(-w*x)*(g+(p+w*g)*x);else{const x=w*Math.sqrt(v*v-1);y=b=>{const N=Math.exp(-v*w*b),M=Math.min(x*b,300);return o-N*((p+v*w*g)*Math.sinh(M)+x*g*Math.cosh(M))/x}}return{calculatedDuration:m&&h||null,next:x=>{const b=y(x);if(m)a.done=x>=h;else{let N=p;x!==0&&(v<1?N=fS(y,x,b):N=0);const M=Math.abs(N)<=n,S=Math.abs(o-b)<=t;a.done=M&&S}return a.value=a.done?o:b,a}}}function hy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:h}){const u=e[0],m={done:!1,value:u},p=k=>l!==void 0&&k<l||c!==void 0&&k>c,v=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=n*t;const w=u+g,j=a===void 0?w:a(w);j!==w&&(g=j-u);const y=k=>-g*Math.exp(-k/s),x=k=>j+y(k),b=k=>{const R=y(k),P=x(k);m.done=Math.abs(R)<=d,m.value=m.done?j:P};let N,M;const S=k=>{p(m.value)&&(N=k,M=pS({keyframes:[m.value,v(m.value)],velocity:fS(x,k,m.value),damping:i,stiffness:o,restDelta:d,restSpeed:h}))};return S(0),{calculatedDuration:null,next:k=>{let R=!1;return!M&&N===void 0&&(R=!0,b(k),S(k)),N!==void 0&&k>N?M.next(k-N):(!R&&b(k),m)}}}const N4=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ue.update(t,!0),stop:()=>Ir(t),now:()=>At.isProcessing?At.timestamp:performance.now()}},my=2e4;function fy(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<my;)t+=n,s=e.next(t);return t>=my?1/0:t}const C4={decay:hy,inertia:hy,tween:fd,keyframes:fd,spring:pS};function pd({autoplay:e=!0,delay:t=0,driver:n=N4,keyframes:s,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:u,...m}){let p=1,v=!1,g,w;const j=()=>{w=new Promise(H=>{g=H})};j();let y;const x=C4[i]||fd;let b;x!==fd&&typeof s[0]!="number"&&(b=hS([0,100],s,{clamp:!1}),s=[0,100]);const N=x({...m,keyframes:s});let M;l==="mirror"&&(M=x({...m,keyframes:[...s].reverse(),velocity:-(m.velocity||0)}));let S="idle",k=null,R=null,P=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=fy(N));const{calculatedDuration:D}=N;let C=1/0,T=1/0;D!==null&&(C=D+a,T=C*(o+1)-a);let I=0;const W=H=>{if(R===null)return;p>0&&(R=Math.min(R,H)),p<0&&(R=Math.min(H-T/p,R)),k!==null?I=k:I=Math.round(H-R)*p;const re=I-t*(p>=0?1:-1),he=p>=0?re<0:re>T;I=Math.max(re,0),S==="finished"&&k===null&&(I=T);let q=I,me=N;if(o){const Ee=Math.min(I,T)/C;let Ne=Math.floor(Ee),Ce=Ee%1;!Ce&&Ee>=1&&(Ce=1),Ce===1&&Ne--,Ne=Math.min(Ne,o+1),!!(Ne%2)&&(l==="reverse"?(Ce=1-Ce,a&&(Ce-=a/C)):l==="mirror"&&(me=M)),q=js(0,1,Ce)*C}const oe=he?{done:!1,value:s[0]}:me.next(q);b&&(oe.value=b(oe.value));let{done:ae}=oe;!he&&D!==null&&(ae=p>=0?I>=T:I<=0);const Me=k===null&&(S==="finished"||S==="running"&&ae);return u&&u(oe.value),Me&&A(),oe},L=()=>{y&&y.stop(),y=void 0},V=()=>{S="idle",L(),g(),j(),R=P=null},A=()=>{S="finished",h&&h(),L(),g()},F=()=>{if(v)return;y||(y=n(W));const H=y.now();c&&c(),k!==null?R=H-k:(!R||S==="finished")&&(R=H),S==="finished"&&j(),P=R,k=null,S="running",y.start()};e&&F();const J={then(H,re){return w.then(H,re)},get time(){return Dr(I)},set time(H){H=ms(H),I=H,k!==null||!y||p===0?k=H:R=y.now()-H/p},get duration(){const H=N.calculatedDuration===null?fy(N):N.calculatedDuration;return Dr(H)},get speed(){return p},set speed(H){H===p||!y||(p=H,J.time=Dr(I))},get state(){return S},play:F,pause:()=>{S="paused",k=I},stop:()=>{v=!0,S!=="idle"&&(S="idle",d&&d(),V())},cancel:()=>{P!==null&&W(P),V()},complete:()=>{S="finished"},sample:H=>(R=0,W(H))};return J}function k4(e){let t;return()=>(t===void 0&&(t=e()),t)}const P4=k4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),D4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ql=10,T4=2e4,M4=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Hb(t.ease);function E4(e,t,{onUpdate:n,onComplete:s,...i}){if(!(P4()&&D4.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,l,c,d=!1;const h=()=>{c=new Promise(x=>{l=x})};h();let{keyframes:u,duration:m=300,ease:p,times:v}=i;if(M4(t,i)){const x=pd({...i,repeat:0,delay:0});let b={done:!1,value:u[0]};const N=[];let M=0;for(;!b.done&&M<T4;)b=x.sample(M),N.push(b.value),M+=Ql;v=void 0,u=N,m=M-Ql,p="linear"}const g=qR(e.owner.current,t,u,{...i,duration:m,ease:p,times:v}),w=()=>{d=!1,g.cancel()},j=()=>{d=!0,Ue.update(w),l(),h()};return g.onfinish=()=>{d||(e.set(BR(u,i)),s&&s(),j())},{then(x,b){return c.then(x,b)},attachTimeline(x){return g.timeline=x,g.onfinish=null,lt},get time(){return Dr(g.currentTime||0)},set time(x){g.currentTime=ms(x)},get speed(){return g.playbackRate},set speed(x){g.playbackRate=x},get duration(){return Dr(m)},play:()=>{a||(g.play(),Ir(w))},pause:()=>g.pause(),stop:()=>{if(a=!0,g.playState==="idle")return;const{currentTime:x}=g;if(x){const b=pd({...i,autoplay:!1});e.setWithVelocity(b.sample(x-Ql).value,b.sample(x).value,Ql)}j()},complete:()=>{d||g.finish()},cancel:j}}function A4({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const i=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:lt,pause:lt,stop:lt,then:o=>(o(),Promise.resolve()),cancel:lt,complete:lt});return t?pd({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const R4={type:"spring",stiffness:500,damping:25,restSpeed:10},I4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),O4={type:"keyframes",duration:.8},L4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F4=(e,{keyframes:t})=>t.length>2?O4:yi.has(e)?e.startsWith("scale")?I4(t[1]):R4:L4,xf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ws.test(t)||t==="0")&&!t.startsWith("url(")),_4=new Set(["brightness","contrast","saturate","opacity"]);function $4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(uu)||[];if(!s)return e;const i=n.replace(s,"");let o=_4.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const V4=/([a-z-]*)\(.*?\)/g,vf={...ws,getAnimatableNone:e=>{const t=e.match(V4);return t?t.map($4).join(" "):e}},q4={...Tb,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:vf,WebkitFilter:vf},Sg=e=>q4[e];function gS(e,t){let n=Sg(e);return n!==vf&&(n=ws),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xS=e=>/^0[^.\s]+$/.test(e);function B4(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||xS(e)}function U4(e,t,n,s){const i=xf(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=s.from!==void 0?s.from:e.get();let l;const c=[];for(let d=0;d<o.length;d++)o[d]===null&&(o[d]=d===0?a:o[d-1]),B4(o[d])&&c.push(d),typeof o[d]=="string"&&o[d]!=="none"&&o[d]!=="0"&&(l=o[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];o[h]=gS(t,l)}return o}function z4({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function Ng(e,t){return e[t]||e.default||e}const W4={skipAnimations:!1},Cg=(e,t,n,s={})=>i=>{const o=Ng(s,e)||{},a=o.delay||s.delay||0;let{elapsed:l=0}=s;l=l-ms(a);const c=U4(t,e,n,o),d=c[0],h=c[c.length-1],u=xf(e,d),m=xf(e,h);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:v=>{t.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(z4(o)||(p={...p,...F4(e,p)}),p.duration&&(p.duration=ms(p.duration)),p.repeatDelay&&(p.repeatDelay=ms(p.repeatDelay)),!u||!m||VR.current||o.type===!1||W4.skipAnimations)return A4(p);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=E4(t,e,p);if(v)return v}return pd(p)};function gd(e){return!!(nn(e)&&e.add)}const vS=e=>/^\-?\d*\.?\d+$/.test(e);function kg(e,t){e.indexOf(t)===-1&&e.push(t)}function Pg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Dg{constructor(){this.subscriptions=[]}add(t){return kg(this.subscriptions,t),()=>Pg(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const H4=e=>!isNaN(parseFloat(e));class G4{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:a}=At;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,Ue.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ue.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=H4(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dg);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mo(e,t){return new G4(e,t)}const yS=e=>t=>t.test(e),Q4={test:e=>e==="auto",parse:e=>e},jS=[ji,ve,lr,Gr,tR,eR,Q4],Wo=e=>jS.find(yS(e)),Y4=[...jS,Vt,ws],K4=e=>Y4.find(yS(e));function X4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,mo(n))}function J4(e,t){const n=mu(e,t);let{transitionEnd:s={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...s};for(const a in o){const l=pR(o[a]);X4(e,a,l)}}function Z4(e,t,n){var s,i;const o=Object.keys(t).filter(l=>!e.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],d=t[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(i=(s=n[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&i!==void 0?i:t[c]),h!=null&&(typeof h=="string"&&(vS(h)||xS(h))?h=parseFloat(h):!K4(h)&&ws.test(d)&&(h=gS(c,d)),e.addValue(c,mo(h,{owner:e})),n[c]===void 0&&(n[c]=h),h!==null&&e.setBaseTarget(c,h))}}function eI(e,t){return t?(t[e]||t.default||t).from:void 0}function tI(e,t,n){const s={};for(const i in e){const o=eI(i,t);if(o!==void 0)s[i]=o;else{const a=n.getValue(i);a&&(s[i]=a.get())}}return s}function nI({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function rI(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function wS(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(o=s);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const m=e.getValue(u),p=l[u];if(!m||p===void 0||h&&nI(h,u))continue;const v={delay:n,elapsed:0,...Ng(o||{},u)};if(window.HandoffAppearAnimations){const j=e.getProps()[bb];if(j){const y=window.HandoffAppearAnimations(j,u,m,Ue);y!==null&&(v.elapsed=y,v.isHandoff=!0)}}let g=!v.isHandoff&&!rI(m,p);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(g=!1),m.animation&&(g=!1),g)continue;m.start(Cg(u,m,p,e.shouldReduceMotion&&yi.has(u)?{type:!1}:v));const w=m.animation;gd(c)&&(c.add(u),w.then(()=>c.remove(u))),d.push(w)}return a&&Promise.all(d).then(()=>{a&&J4(e,a)}),d}function yf(e,t,n={}){const s=mu(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(wS(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:u}=i;return sI(e,t,d+c,h,u,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function sI(e,t,n=0,s=0,i=1,o){const a=[],l=(e.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(iI).forEach((d,h)=>{d.notify("AnimationStart",t),a.push(yf(d,t,{...o,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function iI(e,t){return e.sortNodePosition(t)}function oI(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>yf(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=yf(e,t,n);else{const i=typeof t=="function"?mu(e,t,n.custom):t;s=Promise.all(wS(e,i,n))}return s.then(()=>e.notify("AnimationComplete",t))}const aI=[...cg].reverse(),lI=cg.length;function cI(e){return t=>Promise.all(t.map(({animation:n,options:s})=>oI(e,n,s)))}function dI(e){let t=cI(e);const n=hI();let s=!0;const i=(c,d)=>{const h=mu(e,d);if(h){const{transition:u,transitionEnd:m,...p}=h;c={...c,...p,...m}}return c};function o(c){t=c(e)}function a(c,d){const h=e.getProps(),u=e.getVariantContext(!0)||{},m=[],p=new Set;let v={},g=1/0;for(let j=0;j<lI;j++){const y=aI[j],x=n[y],b=h[y]!==void 0?h[y]:u[y],N=za(b),M=y===d?x.isActive:null;M===!1&&(g=j);let S=b===u[y]&&b!==h[y]&&N;if(S&&s&&e.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...v},!x.isActive&&M===null||!b&&!x.prevProp||cu(b)||typeof b=="boolean")continue;let R=uI(x.prevProp,b)||y===d&&x.isActive&&!S&&N||j>g&&N,P=!1;const D=Array.isArray(b)?b:[b];let C=D.reduce(i,{});M===!1&&(C={});const{prevResolvedValues:T={}}=x,I={...T,...C},W=L=>{R=!0,p.has(L)&&(P=!0,p.delete(L)),x.needsAnimating[L]=!0};for(const L in I){const V=C[L],A=T[L];if(v.hasOwnProperty(L))continue;let F=!1;hd(V)&&hd(A)?F=!zb(V,A):F=V!==A,F?V!==void 0?W(L):p.add(L):V!==void 0&&p.has(L)?W(L):x.protectedKeys[L]=!0}x.prevProp=b,x.prevResolvedValues=C,x.isActive&&(v={...v,...C}),s&&e.blockInitialAnimation&&(R=!1),R&&(!S||P)&&m.push(...D.map(L=>({animation:L,options:{type:y,...c}})))}if(p.size){const j={};p.forEach(y=>{const x=e.getBaseTarget(y);x!==void 0&&(j[y]=x)}),m.push({animation:j})}let w=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(m):Promise.resolve()}function l(c,d,h){var u;if(n[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(c,d)}),n[c].isActive=d;const m=a(h,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n}}function uI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zb(t,e):!1}function Os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hI(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class mI extends Ms{constructor(t){super(t),t.animationState||(t.animationState=dI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),cu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fI=0;class pI extends Ms{constructor(){super(...arguments),this.id=fI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const gI={animation:{Feature:mI},exit:{Feature:pI}},py=(e,t)=>Math.abs(e-t);function xI(e,t){const n=py(e.x,t.x),s=py(e.y,t.y);return Math.sqrt(n**2+s**2)}class bS{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=wh(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=xI(u.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:v}=u,{timestamp:g}=At;this.history.push({...v,timestamp:g});const{onStart:w,onMove:j}=this.handlers;m||(w&&w(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,u)},this.handlePointerMove=(u,m)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=jh(m,this.transformPagePoint),Ue.update(this.updatePoint,!0)},this.handlePointerUp=(u,m)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=wh(u.type==="pointercancel"?this.lastMoveEventInfo:jh(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(u,w),v&&v(u,w)},!$b(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const a=hu(t),l=jh(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=At;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,wh(l,this.history)),this.removeListeners=hs(Pr(this.contextWindow,"pointermove",this.handlePointerMove),Pr(this.contextWindow,"pointerup",this.handlePointerUp),Pr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ir(this.updatePoint)}}function jh(e,t){return t?{point:t(e.point)}:e}function gy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wh({point:e},t){return{point:e,delta:gy(e,SS(t)),offset:gy(e,vI(t)),velocity:yI(t,.1)}}function vI(e){return e[0]}function SS(e){return e[e.length-1]}function yI(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=SS(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>ms(t)));)n--;if(!s)return{x:0,y:0};const o=Dr(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function fn(e){return e.max-e.min}function jf(e,t=0,n=.01){return Math.abs(e-t)<=n}function xy(e,t,n,s=.5){e.origin=s,e.originPoint=rt(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),(jf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=rt(n.min,n.max,e.origin)-e.originPoint,(jf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function va(e,t,n,s){xy(e.x,t.x,n.x,s?s.originX:void 0),xy(e.y,t.y,n.y,s?s.originY:void 0)}function vy(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function jI(e,t,n){vy(e.x,t.x,n.x),vy(e.y,t.y,n.y)}function yy(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function ya(e,t,n){yy(e.x,t.x,n.x),yy(e.y,t.y,n.y)}function wI(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?rt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?rt(n,e,s.max):Math.min(e,n)),e}function jy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bI(e,{top:t,left:n,bottom:s,right:i}){return{x:jy(e.x,n,i),y:jy(e.y,t,s)}}function wy(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function SI(e,t){return{x:wy(e.x,t.x),y:wy(e.y,t.y)}}function NI(e,t){let n=.5;const s=fn(e),i=fn(t);return i>s?n=Ha(t.min,t.max-s,e.min):s>i&&(n=Ha(e.min,e.max-i,t.min)),js(0,1,n)}function CI(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wf=.35;function kI(e=wf){return e===!1?e=0:e===!0&&(e=wf),{x:by(e,"left","right"),y:by(e,"top","bottom")}}function by(e,t,n){return{min:Sy(e,t),max:Sy(e,n)}}function Sy(e,t){return typeof e=="number"?e:e[t]||0}const Ny=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ui=()=>({x:Ny(),y:Ny()}),Cy=()=>({min:0,max:0}),ht=()=>({x:Cy(),y:Cy()});function jn(e){return[e("x"),e("y")]}function NS({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function PI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function DI(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function bh(e){return e===void 0||e===1}function bf({scale:e,scaleX:t,scaleY:n}){return!bh(e)||!bh(t)||!bh(n)}function $s(e){return bf(e)||CS(e)||e.z||e.rotate||e.rotateX||e.rotateY}function CS(e){return ky(e.x)||ky(e.y)}function ky(e){return e&&e!=="0%"}function xd(e,t,n){const s=e-n,i=t*s;return n+i}function Py(e,t,n,s,i){return i!==void 0&&(e=xd(e,i,s)),xd(e,n,s)+t}function Sf(e,t=0,n=1,s,i){e.min=Py(e.min,t,n,s,i),e.max=Py(e.max,t,n,s,i)}function kS(e,{x:t,y:n}){Sf(e.x,t.translate,t.scale,t.originPoint),Sf(e.y,n.translate,n.scale,n.originPoint)}function TI(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,a;for(let l=0;l<i;l++){o=n[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&zi(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,kS(e,a)),s&&$s(o.latestValues)&&zi(e,o.latestValues))}t.x=Dy(t.x),t.y=Dy(t.y)}function Dy(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Xr(e,t){e.min=e.min+t,e.max=e.max+t}function Ty(e,t,[n,s,i]){const o=t[i]!==void 0?t[i]:.5,a=rt(e.min,e.max,o);Sf(e,t[n],t[s],a,t.scale)}const MI=["x","scaleX","originX"],EI=["y","scaleY","originY"];function zi(e,t){Ty(e.x,t,MI),Ty(e.y,t,EI)}function PS(e,t){return NS(DI(e.getBoundingClientRect(),t))}function AI(e,t,n){const s=PS(e,n),{scroll:i}=t;return i&&(Xr(s.x,i.offset.x),Xr(s.y,i.offset.y)),s}const DS=({current:e})=>e?e.ownerDocument.defaultView:null,RI=new WeakMap;class II{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hu(h,"page").point)},o=(h,u)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=qb(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(w=>{let j=this.getAxisMotionValue(w).get()||0;if(lr.test(j)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[w];x&&(j=fn(x)*(parseFloat(j)/100))}}this.originPoint[w]=j}),v&&Ue.update(()=>v(h,u),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(h,u)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:g}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:w}=u;if(p&&this.currentDirection===null){this.currentDirection=OI(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,w),this.updateAxis("y",u.point,w),this.visualElement.render(),g&&g(h,u)},l=(h,u)=>this.stop(h,u),c=()=>jn(h=>{var u;return this.getAnimationState(h)==="paused"&&((u=this.getAxisMotionValue(h).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new bS(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:DS(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ue.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Yl(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=wI(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&qi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=bI(i.layoutBox,n):this.constraints=!1,this.elastic=kI(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=CI(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qi(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=AI(s,i.root,this.visualElement.getTransformPagePoint());let a=SI(i.layout.layoutBox,o);if(n){const l=n(PI(a));this.hasMutatedConstraints=!!l,l&&(a=NS(l))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=jn(h=>{if(!Yl(h,n,this.currentDirection))return;let u=c&&c[h]||{};a&&(u={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:s?t[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...u};return this.startAxisValueAnimation(h,v)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Cg(t,s,0,n))}stopAnimation(){jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){jn(n=>{const{drag:s}=this.getProps();if(!Yl(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];o.set(t[n]-rt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qi(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();i[a]=NI({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),jn(a=>{if(!Yl(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(rt(c,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;RI.set(this.visualElement,this);const t=this.visualElement.current,n=Pr(t,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();qi(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const a=Cr(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(jn(h=>{const u=this.getAxisMotionValue(h);u&&(this.originPoint[h]+=c[h].translate,u.set(u.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=wf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Yl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function OI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class LI extends Ms{constructor(t){super(t),this.removeGroupControls=lt,this.removeListeners=lt,this.controls=new II(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const My=e=>(t,n)=>{e&&Ue.update(()=>e(t,n))};class FI extends Ms{constructor(){super(...arguments),this.removePointerDownListener=lt}onPointerDown(t){this.session=new bS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:My(t),onStart:My(n),onMove:s,onEnd:(o,a)=>{delete this.session,i&&Ue.update(()=>i(o,a))}}}mount(){this.removePointerDownListener=Pr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _I(){const e=f.useContext(au);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,i=f.useId();return f.useEffect(()=>s(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Sc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ey(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ho={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ve.test(e))e=parseFloat(e);else return e;const n=Ey(e,t.target.x),s=Ey(e,t.target.y);return`${n}% ${s}%`}},$I={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=ws.parse(e);if(i.length>5)return s;const o=ws.createTransformer(e),a=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const d=rt(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),o(i)}};class VI extends ce.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;GA(qI),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Sc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,a=s.projection;return a&&(a.isPresent=o,i||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Ue.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TS(e){const[t,n]=_I(),s=f.useContext(ug);return ce.createElement(VI,{...e,layoutGroup:s,switchLayoutGroup:f.useContext(Nb),isPresent:t,safeToRemove:n})}const qI={borderRadius:{...Ho,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ho,borderTopRightRadius:Ho,borderBottomLeftRadius:Ho,borderBottomRightRadius:Ho,boxShadow:$I},MS=["TopLeft","TopRight","BottomLeft","BottomRight"],BI=MS.length,Ay=e=>typeof e=="string"?parseFloat(e):e,Ry=e=>typeof e=="number"||ve.test(e);function UI(e,t,n,s,i,o){i?(e.opacity=rt(0,n.opacity!==void 0?n.opacity:1,zI(s)),e.opacityExit=rt(t.opacity!==void 0?t.opacity:1,0,WI(s))):o&&(e.opacity=rt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<BI;a++){const l=`border${MS[a]}Radius`;let c=Iy(t,l),d=Iy(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Ry(c)===Ry(d)?(e[l]=Math.max(rt(Ay(c),Ay(d),s),0),(lr.test(d)||lr.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=rt(t.rotate||0,n.rotate||0,s))}function Iy(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zI=ES(0,.5,Zb),WI=ES(.5,.95,lt);function ES(e,t,n){return s=>s<e?0:s>t?1:n(Ha(e,t,s))}function Oy(e,t){e.min=t.min,e.max=t.max}function vn(e,t){Oy(e.x,t.x),Oy(e.y,t.y)}function Ly(e,t,n,s,i){return e-=t,e=xd(e,1/n,s),i!==void 0&&(e=xd(e,1/i,s)),e}function HI(e,t=0,n=1,s=.5,i,o=e,a=e){if(lr.test(t)&&(t=parseFloat(t),t=rt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=rt(o.min,o.max,s);e===o&&(l-=t),e.min=Ly(e.min,t,n,l,i),e.max=Ly(e.max,t,n,l,i)}function Fy(e,t,[n,s,i],o,a){HI(e,t[n],t[s],t[i],t.scale,o,a)}const GI=["x","scaleX","originX"],QI=["y","scaleY","originY"];function _y(e,t,n,s){Fy(e.x,t,GI,n?n.x:void 0,s?s.x:void 0),Fy(e.y,t,QI,n?n.y:void 0,s?s.y:void 0)}function $y(e){return e.translate===0&&e.scale===1}function AS(e){return $y(e.x)&&$y(e.y)}function YI(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function RS(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Vy(e){return fn(e.x)/fn(e.y)}class KI{constructor(){this.members=[]}add(t){kg(this.members,t),t.scheduleRender()}remove(t){if(Pg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qy(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(s=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),h&&(s+=`rotateY(${h}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const XI=(e,t)=>e.depth-t.depth;class JI{constructor(){this.children=[],this.isDirty=!1}add(t){kg(this.children,t),this.isDirty=!0}remove(t){Pg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(XI),this.isDirty=!1,this.children.forEach(t)}}function ZI(e,t){const n=performance.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(Ir(s),e(o-t))};return Ue.read(s,!0),()=>Ir(s)}function eO(e){window.MotionDebug&&window.MotionDebug.record(e)}function tO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function nO(e,t,n){const s=nn(e)?e:mo(e);return s.start(Cg("",s,t,n)),s.animation}const By=["","X","Y","Z"],rO={visibility:"hidden"},Uy=1e3;let sO=0;const Vs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function IS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=sO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vs.totalNodes=Vs.resolvedTargetDeltas=Vs.recalculatedProjection=0,this.nodes.forEach(aO),this.nodes.forEach(hO),this.nodes.forEach(mO),this.nodes.forEach(lO),eO(Vs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new JI)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Dg),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tO(a),this.instance=a;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let u;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=ZI(m,250),Sc.hasAnimatedSinceResize&&(Sc.hasAnimatedSinceResize=!1,this.nodes.forEach(Wy))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||h.getDefaultTransition()||vO,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=h.getProps(),y=!this.targetLayout||!RS(this.targetLayout,v)||p,x=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,x);const b={...Ng(g,"layout"),onPlay:w,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else m||Wy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fO),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const u=this.path[h];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zy);return}this.isUpdating||this.nodes.forEach(dO),this.isUpdating=!1,this.nodes.forEach(uO),this.nodes.forEach(iO),this.nodes.forEach(oO),this.clearAllSnapshots();const l=performance.now();At.delta=js(0,1e3/60,l-At.timestamp),At.timestamp=l,At.isProcessing=!0,hh.update.process(At),hh.preRender.process(At),hh.render.process(At),At.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(cO),this.sharedNodes.forEach(pO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!AS(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&(l||$s(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),yO(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ht();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Xr(l.x,c.offset.x),Xr(l.y,c.offset.y)),l}removeElementScroll(a){const l=ht();vn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:u}=d;if(d!==this.root&&h&&u.layoutScroll){if(h.isRoot){vn(l,a);const{scroll:m}=this.root;m&&(Xr(l.x,-m.offset.x),Xr(l.y,-m.offset.y))}Xr(l.x,h.offset.x),Xr(l.y,h.offset.y)}}return l}applyTransform(a,l=!1){const c=ht();vn(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zi(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),$s(h.latestValues)&&zi(c,h.latestValues)}return $s(this.latestValues)&&zi(c,this.latestValues),c}removeTransform(a){const l=ht();vn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!$s(d.latestValues))continue;bf(d.latestValues)&&d.updateSnapshot();const h=ht(),u=d.measurePageBox();vn(h,u),_y(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return $s(this.latestValues)&&_y(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==At.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=At.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),ya(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),kS(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),ya(this.relativeTargetOrigin,this.target,p.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bf(this.parent.latestValues)||CS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===At.timestamp&&(d=!1),d)return;const{layout:h,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||u))return;vn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;TI(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=Ui(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ui(),this.projectionDeltaWithTransform=Ui());const g=this.projectionTransform;va(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=qy(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Vs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},u=Ui();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ht(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=p!==v,w=this.getStack(),j=!w||w.members.length<=1,y=!!(g&&!j&&this.options.crossfade===!0&&!this.path.some(xO));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const N=b/1e3;Hy(u.x,a.x,N),Hy(u.y,a.y,N),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ya(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gO(this.relativeTarget,this.relativeTargetOrigin,m,N),x&&YI(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ht()),vn(x,this.relativeTarget)),g&&(this.animationValues=h,UI(h,d,this.latestValues,N,y,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ue.update(()=>{Sc.hasAnimatedSinceResize=!0,this.currentAnimation=nO(0,Uy,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Uy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&OS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ht();const u=fn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+u;const m=fn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}vn(l,c),zi(l,h),va(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new KI),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<By.length;h++){const u="rotate"+By[h];c[u]&&(d[u]=c[u],a.setStaticValue(u,0))}a.render();for(const h in d)a.setStaticValue(h,d[h]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rO;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=bc(a==null?void 0:a.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=bc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(g.transform=h?h({},""):"none",this.hasProjected=!1),g}const m=u.animationValues||u.latestValues;this.applyTransformsToTarget(),d.transform=qy(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x:p,y:v}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,u.animationValues?d.opacity=u===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=u===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in dd){if(m[g]===void 0)continue;const{correct:w,applyTo:j}=dd[g],y=d.transform==="none"?m[g]:w(m[g],u);if(j){const x=j.length;for(let b=0;b<x;b++)d[j[b]]=y}else d[g]=y}return this.options.layoutId&&(d.pointerEvents=u===this?bc(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(zy),this.root.sharedNodes.clear()}}}function iO(e){e.updateLayout()}function oO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;o==="size"?jn(u=>{const m=a?n.measuredBox[u]:n.layoutBox[u],p=fn(m);m.min=s[u].min,m.max=m.min+p}):OS(o,n.layoutBox,s)&&jn(u=>{const m=a?n.measuredBox[u]:n.layoutBox[u],p=fn(s[u]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+p)});const l=Ui();va(l,s,n.layoutBox);const c=Ui();a?va(c,e.applyTransform(i,!0),n.measuredBox):va(c,s,n.layoutBox);const d=!AS(l);let h=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:m,layout:p}=u;if(m&&p){const v=ht();ya(v,n.layoutBox,m.layoutBox);const g=ht();ya(g,s,p.layoutBox),RS(v,g)||(h=!0),u.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function aO(e){Vs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cO(e){e.clearSnapshot()}function zy(e){e.clearMeasurements()}function dO(e){e.isLayoutDirty=!1}function uO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hO(e){e.resolveTargetDelta()}function mO(e){e.calcProjection()}function fO(e){e.resetRotation()}function pO(e){e.removeLeadSnapshot()}function Hy(e,t,n){e.translate=rt(t.translate,0,n),e.scale=rt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Gy(e,t,n,s){e.min=rt(t.min,n.min,s),e.max=rt(t.max,n.max,s)}function gO(e,t,n,s){Gy(e.x,t.x,n.x,s),Gy(e.y,t.y,n.y,s)}function xO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vO={duration:.45,ease:[.4,0,.1,1]},Qy=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Yy=Qy("applewebkit/")&&!Qy("chrome/")?Math.round:lt;function Ky(e){e.min=Yy(e.min),e.max=Yy(e.max)}function yO(e){Ky(e.x),Ky(e.y)}function OS(e,t,n){return e==="position"||e==="preserve-aspect"&&!jf(Vy(t),Vy(n),.2)}const jO=IS({attachResizeListener:(e,t)=>Cr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sh={current:void 0},LS=IS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sh.current){const e=new jO({});e.mount(window),e.setOptions({layoutScroll:!0}),Sh.current=e}return Sh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wO={pan:{Feature:FI},drag:{Feature:LI,ProjectionNode:LS,MeasureLayout:TS}},bO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function SO(e){const t=bO.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function Nf(e,t,n=1){const[s,i]=SO(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const a=o.trim();return vS(a)?parseFloat(a):a}else return mf(i)?Nf(i,t,n+1):i}function NO(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!mf(o))return;const a=Nf(o,s);a&&i.set(a)});for(const i in t){const o=t[i];if(!mf(o))continue;const a=Nf(o,s);a&&(t[i]=a,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const CO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),FS=e=>CO.has(e),kO=e=>Object.keys(e).some(FS),Xy=e=>e===ji||e===ve,Jy=(e,t)=>parseFloat(e.split(", ")[t]),Zy=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return Jy(i[1],t);{const o=s.match(/^matrix\((.+)\)$/);return o?Jy(o[1],e):0}},PO=new Set(["x","y","z"]),DO=hl.filter(e=>!PO.has(e));function TO(e){const t=[];return DO.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const fo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Zy(4,13),y:Zy(5,14)};fo.translateX=fo.x;fo.translateY=fo.y;const MO=(e,t,n)=>{const s=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(d=>{l[d]=fo[d](s,o)}),t.render();const c=t.measureViewportBox();return n.forEach(d=>{const h=t.getValue(d);h&&h.jump(l[d]),e[d]=fo[d](c,o)}),e},EO=(e,t,n={},s={})=>{t={...t},s={...s};const i=Object.keys(t).filter(FS);let o=[],a=!1;const l=[];if(i.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let h=n[c],u=Wo(h);const m=t[c];let p;if(hd(m)){const v=m.length,g=m[0]===null?1:0;h=m[g],u=Wo(h);for(let w=g;w<v&&m[w]!==null;w++)p?yg(Wo(m[w])===p):p=Wo(m[w])}else p=Wo(m);if(u!==p)if(Xy(u)&&Xy(p)){const v=d.get();typeof v=="string"&&d.set(parseFloat(v)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===ve&&(t[c]=m.map(parseFloat))}else u!=null&&u.transform&&(p!=null&&p.transform)&&(h===0||m===0)?h===0?d.set(p.transform(h)):t[c]=u.transform(m):(a||(o=TO(e),a=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],d.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=MO(t,e,l);return o.length&&o.forEach(([h,u])=>{e.getValue(h).set(u)}),e.render(),lu&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:t,transitionEnd:s}};function AO(e,t,n,s){return kO(t)?EO(e,t,n,s):{target:t,transitionEnd:s}}const RO=(e,t,n,s)=>{const i=NO(e,t,s);return t=i.target,s=i.transitionEnd,AO(e,t,n,s)},Cf={current:null},_S={current:!1};function IO(){if(_S.current=!0,!!lu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cf.current=e.matches;e.addListener(t),t()}else Cf.current=!1}function OO(e,t,n){const{willChange:s}=t;for(const i in t){const o=t[i],a=n[i];if(nn(o))e.addValue(i,o),gd(s)&&s.add(i);else if(nn(a))e.addValue(i,mo(o,{owner:e})),gd(s)&&s.remove(i);else if(a!==o)if(e.hasValue(i)){const l=e.getValue(i);!l.hasAnimated&&l.set(o)}else{const l=e.getStaticValue(i);e.addValue(i,mo(l!==void 0?l:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const e0=new WeakMap,$S=Object.keys(Wa),LO=$S.length,t0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FO=dg.length;class _O{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ue.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=du(n),this.isVariantNode=Sb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const u in h){const m=h[u];l[u]!==void 0&&nn(m)&&(m.set(l[u],!1),gd(d)&&d.add(u))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,e0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),_S.current||IO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){e0.delete(this.current),this.projection&&this.projection.unmount(),Ir(this.notifyUpdate),Ir(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=yi.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ue.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,i,o){let a,l;for(let c=0;c<LO;c++){const d=$S[c],{isEnabled:h,Feature:u,ProjectionNode:m,MeasureLayout:p}=Wa[d];m&&(a=m),h(n)&&(!this.features[d]&&u&&(this.features[d]=new u(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:u,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||u&&qi(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:p})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<t0.length;s++){const i=t0[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=OO(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<FO;s++){const i=dg[s],o=this.props[i];(za(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=mo(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(n=vg(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!nn(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class VS extends _O{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:i},o){let a=tI(s,t||{},this);if(i&&(n&&(n=i(n)),s&&(s=i(s)),a&&(a=i(a))),o){Z4(this,s,a);const l=RO(this,s,a,n);n=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:n,...s}}}function $O(e){return window.getComputedStyle(e)}class VO extends VS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(yi.has(n)){const s=Sg(n);return s&&s.default||0}else{const s=$O(t),i=(Pb(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return PS(t,n)}build(t,n,s,i){mg(t,n,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return xg(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,i){Rb(t,n,s,i)}}class qO extends VS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yi.has(n)){const s=Sg(n);return s&&s.default||0}return n=Ib.has(n)?n:lg(n),t.getAttribute(n)}measureInstanceViewportBox(){return ht()}scrapeMotionValuesFromProps(t,n){return Lb(t,n)}build(t,n,s,i){pg(t,n,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,s,i){Ob(t,n,s,i)}mount(t){this.isSVGTag=gg(t.tagName),super.mount(t)}}const BO=(e,t)=>hg(e)?new qO(t,{enableHardwareAcceleration:!1}):new VO(t,{enableHardwareAcceleration:!0}),UO={layout:{ProjectionNode:LS,MeasureLayout:TS}},zO={...gI,...LR,...wO,...UO},de=WA((e,t)=>SR(e,t,zO,BO));function qS(){const e=f.useRef(!1);return ag(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function WO(){const e=qS(),[t,n]=f.useState(0),s=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>Ue.postRender(s),[s]),t]}class HO extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function GO({children:e,isPresent:t}){const n=f.useId(),s=f.useRef(null),i=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(t||!s.current||!o||!a)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),f.createElement(HO,{isPresent:t,childRef:s,sizeRef:i},f.cloneElement(e,{ref:s}))}const Nh=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:a})=>{const l=Fb(QO),c=f.useId(),d=f.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const u of l.values())if(!u)return;s&&s()},register:h=>(l.set(h,!1),()=>l.delete(h))}),o?void 0:[n]);return f.useMemo(()=>{l.forEach((h,u)=>l.set(u,!1))},[n]),f.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(e=f.createElement(GO,{isPresent:n},e)),f.createElement(au.Provider,{value:d},e)};function QO(){return new Map}function YO(e){return f.useEffect(()=>()=>e(),[])}const qs=e=>e.key||"";function KO(e,t){e.forEach(n=>{const s=qs(n);t.set(s,n)})}function XO(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const JO=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const l=f.useContext(ug).forceRender||WO()[0],c=qS(),d=XO(e);let h=d;const u=f.useRef(new Map).current,m=f.useRef(h),p=f.useRef(new Map).current,v=f.useRef(!0);if(ag(()=>{v.current=!1,KO(d,p),m.current=h}),YO(()=>{v.current=!0,p.clear(),u.clear()}),v.current)return f.createElement(f.Fragment,null,h.map(y=>f.createElement(Nh,{key:qs(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},y)));h=[...h];const g=m.current.map(qs),w=d.map(qs),j=g.length;for(let y=0;y<j;y++){const x=g[y];w.indexOf(x)===-1&&!u.has(x)&&u.set(x,void 0)}return a==="wait"&&u.size&&(h=[]),u.forEach((y,x)=>{if(w.indexOf(x)!==-1)return;const b=p.get(x);if(!b)return;const N=g.indexOf(x);let M=y;if(!M){const S=()=>{u.delete(x);const k=Array.from(p.keys()).filter(R=>!w.includes(R));if(k.forEach(R=>p.delete(R)),m.current=d.filter(R=>{const P=qs(R);return P===x||k.includes(P)}),!u.size){if(c.current===!1)return;l(),s&&s()}};M=f.createElement(Nh,{key:qs(b),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:o,mode:a},b),u.set(x,M)}h.splice(N,0,M)}),h=h.map(y=>{const x=y.key;return u.has(x)?y:f.createElement(Nh,{key:qs(y),isPresent:!0,presenceAffectsLayout:o,mode:a},y)}),f.createElement(f.Fragment,null,u.size?h:h.map(y=>f.cloneElement(y)))},ZO=[{href:"/",label:"Main Dashboard",icon:ng}],e5=[{title:"Site & Project Mgt.",icon:yt,items:[{href:"/project-setup",label:"Setup New Project",icon:yt},{href:"/projects",label:"Projects List",icon:lb},{href:"/live-map-dashboard",label:"Live Map Dashboard",icon:rg},{href:"/schedules-tasks",label:"Schedules & Tasks",icon:Ba},{href:"/daily-logs",label:"Daily Logs",icon:rd}]},{title:"Forms & Documents",icon:st,items:[{href:"/forms-documents",label:"Forms Hub",icon:st},{href:"/reports",label:"Reports",icon:Kp},{href:"/projects",label:"Cloud Drive Links",query:"?tab=drive_links",icon:ru}]},{title:"HR, Attendance & Safety",icon:Ot,items:[{href:"/hr-dashboard",label:"Personnel Mgmt",icon:Ot},{href:"/hr-staff-registration",label:"Staff Registration",icon:Ua},{href:"/hr-attendance",label:"Attendance App",icon:ib},{href:"/hr-shifts",label:"Shift Management",icon:og},{href:"/hr-safety",label:"Safety & Compliance",icon:ho}]},{title:"Inventory & Procurement",icon:uo,items:[{href:"/inventory-dashboard",label:"Materials Inventory",icon:uo},{href:"/equipment-dispatch",label:"Equipment Dispatch",icon:si},{href:"/inventory-procurement-log",label:"Procurement Log",icon:hr}]},{title:"Stakeholders & Agreements",icon:sd,items:[{href:"/stakeholder-dashboard",label:"Stakeholders Hub",icon:sd},{href:"/stakeholder-contractor-registration",label:"Contractor Mgt.",icon:oi},{href:"/stakeholder-supplier-portal",label:"Supplier Portal",icon:Xp},{href:"/legal-agreements",label:"MOU/NCNDA/Agreements",icon:nu}]},{title:"Training & Certification",icon:co,items:[{href:"/fiber-handon-training",label:"Fiber Handon Training",icon:co}]},{title:"Quality & Communication",icon:ur,items:[{href:"/quality-control",label:"Quality Control",icon:ur},{href:"/communication",label:"Communication",icon:sg}]},{title:"System Dashboards",icon:ng,items:[{href:"/dashboard-sitemanager",label:"Site Manager DB",icon:vs},{href:"/dashboard-contractor",label:"Contractor DB",icon:oi},{href:"/dashboard-finance",label:"Finance DB",icon:Qe},{href:"/dashboard-admin",label:"Admin DB",icon:Ua}]},{title:"AI & System",icon:dr,items:[{href:"/ai-tools",label:"AI Tools",icon:dr},{href:"/security-settings",label:"ERP Integration",icon:cb},{href:"/security-settings",label:"Security & Access",icon:ul}]}],t5=({className:e})=>{const t=pr(),n=(s,i)=>{const o=t.pathname,a=t.search;return i?o===s&&a===i:o===s};return r.jsx("aside",{className:ue("h-screen sticky top-0 overflow-y-auto custom-scrollbar",e),children:r.jsxs("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[r.jsx("div",{className:"flex h-16 items-center border-b px-4 lg:h-[70px] lg:px-6 bg-gradient-to-r from-primary to-primary/80 shadow-md",children:r.jsxs($e,{to:"/",className:"flex items-center gap-2 font-semibold text-primary-foreground",children:[r.jsx(yt,{className:"h-7 w-7"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm leading-tight",children:"Construction Management System"}),r.jsx("span",{className:"text-xs leading-tight opacity-80",children:" Access AI Tools"})]})]})}),r.jsx("div",{className:"flex-1 py-2",children:r.jsxs("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4 space-y-0.5",children:[ZO.map(s=>r.jsxs($e,{to:s.href,className:ue("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary hover:bg-primary/10",n(s.href)&&"bg-primary/20 text-primary font-semibold scale-105 shadow-sm"),children:[r.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.href)),e5.map(s=>r.jsxs("div",{className:"py-1.5",children:[r.jsxs("h2",{className:"mb-1.5 px-3 text-xs font-semibold uppercase text-muted-foreground/80 tracking-wider flex items-center",children:[r.jsx(s.icon,{className:"h-4 w-4 mr-2 text-primary/70"})," ",s.title]}),r.jsx("div",{className:"space-y-0.5",children:s.items.map(i=>r.jsxs($e,{to:`${i.href}${i.query||""}`,className:ue("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary hover:bg-primary/10",n(i.href,i.query)&&"bg-primary/20 text-primary font-semibold scale-105 shadow-sm","ml-2 text-[13px]"),children:[r.jsx(i.icon,{className:"h-3.5 w-3.5"}),i.label]},i.href+(i.query||"")))})]},s.title))]})}),r.jsx("div",{className:"mt-auto p-4 border-t",children:r.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Powered by NTT Groups"})})]})})};function n5(e,t){const n=f.createContext(t),s=o=>{const{children:a,...l}=o,c=f.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:a})};s.displayName=e+"Provider";function i(o){const a=f.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,i]}function En(e,t=[]){let n=[];function s(o,a){const l=f.createContext(a),c=n.length;n=[...n,a];const d=u=>{var j;const{scope:m,children:p,...v}=u,g=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,w=f.useMemo(()=>v,Object.values(v));return r.jsx(g.Provider,{value:w,children:p})};d.displayName=o+"Provider";function h(u,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[c])||l,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${o}\``)}return[d,h]}const i=()=>{const o=n.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,r5(i,...t)]}function r5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(o)[`__scope${d}`];return{...l,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function zt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var pt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},s5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=s5.reduce((e,t)=>{const n=xs(`Primitive.${t}`),s=f.forwardRef((i,o)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Tg(e,t){e&&pi.flushSync(()=>e.dispatchEvent(t))}var BS={exports:{}},US={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=f;function i5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o5=typeof Object.is=="function"?Object.is:i5,a5=po.useState,l5=po.useEffect,c5=po.useLayoutEffect,d5=po.useDebugValue;function u5(e,t){var n=t(),s=a5({inst:{value:n,getSnapshot:t}}),i=s[0].inst,o=s[1];return c5(function(){i.value=n,i.getSnapshot=t,Ch(i)&&o({inst:i})},[e,n,t]),l5(function(){return Ch(i)&&o({inst:i}),e(function(){Ch(i)&&o({inst:i})})},[e]),d5(n),n}function Ch(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o5(e,n)}catch{return!0}}function h5(e,t){return t()}var m5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h5:u5;US.useSyncExternalStore=po.useSyncExternalStore!==void 0?po.useSyncExternalStore:m5;BS.exports=US;var f5=BS.exports;function p5(){return f5.useSyncExternalStore(g5,()=>!0,()=>!1)}function g5(){return()=>{}}var Mg="Avatar",[x5,P9]=En(Mg),[v5,zS]=x5(Mg),WS=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,o]=f.useState("idle");return r.jsx(v5,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:r.jsx(ge.span,{...s,ref:t})})});WS.displayName=Mg;var HS="AvatarImage",GS=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...o}=e,a=zS(HS,n),l=y5(s,o),c=zt(d=>{i(d),a.onImageLoadingStatusChange(d)});return pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ge.img,{...o,ref:t,src:s}):null});GS.displayName=HS;var QS="AvatarFallback",YS=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,o=zS(QS,n),[a,l]=f.useState(s===void 0);return f.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),a&&o.imageLoadingStatus!=="loaded"?r.jsx(ge.span,{...i,ref:t}):null});YS.displayName=QS;function n0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function y5(e,{referrerPolicy:t,crossOrigin:n}){const s=p5(),i=f.useRef(null),o=(()=>s?(i.current||(i.current=new window.Image),i.current):null)(),[a,l]=f.useState(()=>n0(o,e));return pt(()=>{l(n0(o,e))},[o,e]),pt(()=>{const c=u=>()=>{l(u)};if(!o)return;const d=c("loaded"),h=c("error");return o.addEventListener("load",d),o.addEventListener("error",h),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",d),o.removeEventListener("error",h)}},[o,n,t]),a}var KS=WS,XS=GS,JS=YS;const ZS=ce.forwardRef(({className:e,...t},n)=>r.jsx(KS,{ref:n,className:ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ZS.displayName=KS.displayName;const eN=ce.forwardRef(({className:e,...t},n)=>r.jsx(XS,{ref:n,className:ue("aspect-square h-full w-full",e),...t}));eN.displayName=XS.displayName;const tN=ce.forwardRef(({className:e,...t},n)=>r.jsx(JS,{ref:n,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));tN.displayName=JS.displayName;function ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var j5=tp[" useInsertionEffect ".trim().toString()]||pt;function Or({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[i,o,a]=w5({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const h=f.useRef(e!==void 0);f.useEffect(()=>{const u=h.current;u!==l&&console.warn(`${s} is changing from ${u?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const d=f.useCallback(h=>{var u;if(l){const m=b5(h)?h(e):h;m!==e&&((u=a.current)==null||u.call(a,m))}else o(h)},[l,e,o,a]);return[c,d]}function w5({defaultProp:e,onChange:t}){const[n,s]=f.useState(e),i=f.useRef(n),o=f.useRef(t);return j5(()=>{o.current=t},[t]),f.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,s,o]}function b5(e){return typeof e=="function"}function fu(e){const t=e+"CollectionProvider",[n,s]=En(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:w,children:j}=g,y=ce.useRef(null),x=ce.useRef(new Map).current;return r.jsx(i,{scope:w,itemMap:x,collectionRef:y,children:j})};a.displayName=t;const l=e+"CollectionSlot",c=xs(l),d=ce.forwardRef((g,w)=>{const{scope:j,children:y}=g,x=o(l,j),b=Oe(w,x.collectionRef);return r.jsx(c,{ref:b,children:y})});d.displayName=l;const h=e+"CollectionItemSlot",u="data-radix-collection-item",m=xs(h),p=ce.forwardRef((g,w)=>{const{scope:j,children:y,...x}=g,b=ce.useRef(null),N=Oe(w,b),M=o(h,j);return ce.useEffect(()=>(M.itemMap.set(b,{ref:b,...x}),()=>void M.itemMap.delete(b))),r.jsx(m,{[u]:"",ref:N,children:y})});p.displayName=h;function v(g){const w=o(e+"CollectionConsumer",g);return ce.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(w.itemMap.values()).sort((M,S)=>x.indexOf(M.ref.current)-x.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:d,ItemSlot:p},v,s]}var S5=f.createContext(void 0);function pu(e){const t=f.useContext(S5);return e||t||"ltr"}function N5(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e);f.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var C5="DismissableLayer",kf="dismissableLayer.update",k5="dismissableLayer.pointerDownOutside",P5="dismissableLayer.focusOutside",r0,nN=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ko=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,d=f.useContext(nN),[h,u]=f.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),v=Oe(t,S=>u(S)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=g.indexOf(w),y=h?g.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=j,N=T5(S=>{const k=S.target,R=[...d.branches].some(P=>P.contains(k));!b||R||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),M=M5(S=>{const k=S.target;[...d.branches].some(P=>P.contains(k))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return N5(S=>{y===d.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),f.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(r0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),s0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=r0)}},[h,m,n,d]),f.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),s0())},[h,d]),f.useEffect(()=>{const S=()=>p({});return document.addEventListener(kf,S),()=>document.removeEventListener(kf,S)},[]),r.jsx(ge.div,{...c,ref:v,style:{pointerEvents:x?b?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,M.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,N.onPointerDownCapture)})});ko.displayName=C5;var D5="DismissableLayerBranch",rN=f.forwardRef((e,t)=>{const n=f.useContext(nN),s=f.useRef(null),i=Oe(t,s);return f.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(ge.div,{...e,ref:i})});rN.displayName=D5;function T5(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e),s=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const o=l=>{if(l.target&&!s.current){let c=function(){sN(k5,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);s.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function M5(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e),s=f.useRef(!1);return f.useEffect(()=>{const i=o=>{o.target&&!s.current&&sN(P5,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function s0(){const e=new CustomEvent(kf);document.dispatchEvent(e)}function sN(e,t,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?Tg(i,o):i.dispatchEvent(o)}var E5=ko,A5=rN,kh=0;function gu(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i0()),document.body.insertAdjacentElement("beforeend",e[1]??i0()),kh++,()=>{kh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kh--}},[])}function i0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ph="focusScope.autoFocusOnMount",Dh="focusScope.autoFocusOnUnmount",o0={bubbles:!1,cancelable:!0},R5="FocusScope",gl=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[l,c]=f.useState(null),d=zt(i),h=zt(o),u=f.useRef(null),m=Oe(t,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(s){let g=function(x){if(p.paused||!l)return;const b=x.target;l.contains(b)?u.current=b:Qr(u.current,{select:!0})},w=function(x){if(p.paused||!l)return;const b=x.relatedTarget;b!==null&&(l.contains(b)||Qr(u.current,{select:!0}))},j=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Qr(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),y.disconnect()}}},[s,l,p.paused]),f.useEffect(()=>{if(l){l0.add(p);const g=document.activeElement;if(!l.contains(g)){const j=new CustomEvent(Ph,o0);l.addEventListener(Ph,d),l.dispatchEvent(j),j.defaultPrevented||(I5($5(iN(l)),{select:!0}),document.activeElement===g&&Qr(l))}return()=>{l.removeEventListener(Ph,d),setTimeout(()=>{const j=new CustomEvent(Dh,o0);l.addEventListener(Dh,h),l.dispatchEvent(j),j.defaultPrevented||Qr(g??document.body,{select:!0}),l.removeEventListener(Dh,h),l0.remove(p)},0)}}},[l,d,h,p]);const v=f.useCallback(g=>{if(!n&&!s||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,j=document.activeElement;if(w&&j){const y=g.currentTarget,[x,b]=O5(y);x&&b?!g.shiftKey&&j===b?(g.preventDefault(),n&&Qr(x,{select:!0})):g.shiftKey&&j===x&&(g.preventDefault(),n&&Qr(b,{select:!0})):j===y&&g.preventDefault()}},[n,s,p.paused]);return r.jsx(ge.div,{tabIndex:-1,...a,ref:m,onKeyDown:v})});gl.displayName=R5;function I5(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Qr(s,{select:t}),document.activeElement!==n)return}function O5(e){const t=iN(e),n=a0(t,e),s=a0(t.reverse(),e);return[n,s]}function iN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function a0(e,t){for(const n of e)if(!L5(n,{upTo:t}))return n}function L5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function F5(e){return e instanceof HTMLInputElement&&"select"in e}function Qr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&F5(e)&&t&&e.select()}}var l0=_5();function _5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=c0(e,t),e.unshift(t)},remove(t){var n;e=c0(e,t),(n=e[0])==null||n.resume()}}}function c0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function $5(e){return e.filter(t=>t.tagName!=="A")}var V5=tp[" useId ".trim().toString()]||(()=>{}),q5=0;function qn(e){const[t,n]=f.useState(V5());return pt(()=>{e||n(s=>s??String(q5++))},[e]),e||(t?`radix-${t}`:"")}const B5=["top","right","bottom","left"],bs=Math.min,an=Math.max,vd=Math.round,Kl=Math.floor,cr=e=>({x:e,y:e}),U5={left:"right",right:"left",bottom:"top",top:"bottom"},z5={start:"end",end:"start"};function Pf(e,t,n){return an(e,bs(t,n))}function Lr(e,t){return typeof e=="function"?e(t):e}function Fr(e){return e.split("-")[0]}function Po(e){return e.split("-")[1]}function Eg(e){return e==="x"?"y":"x"}function Ag(e){return e==="y"?"height":"width"}function rr(e){return["top","bottom"].includes(Fr(e))?"y":"x"}function Rg(e){return Eg(rr(e))}function W5(e,t,n){n===void 0&&(n=!1);const s=Po(e),i=Rg(e),o=Ag(i);let a=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=yd(a)),[a,yd(a)]}function H5(e){const t=yd(e);return[Df(e),t,Df(t)]}function Df(e){return e.replace(/start|end/g,t=>z5[t])}function G5(e,t,n){const s=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?o:a;default:return[]}}function Q5(e,t,n,s){const i=Po(e);let o=G5(Fr(e),n==="start",s);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Df)))),o}function yd(e){return e.replace(/left|right|bottom|top/g,t=>U5[t])}function Y5(e){return{top:0,right:0,bottom:0,left:0,...e}}function oN(e){return typeof e!="number"?Y5(e):{top:e,right:e,bottom:e,left:e}}function jd(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function d0(e,t,n){let{reference:s,floating:i}=e;const o=rr(t),a=Rg(t),l=Ag(a),c=Fr(t),d=o==="y",h=s.x+s.width/2-i.width/2,u=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let p;switch(c){case"top":p={x:h,y:s.y-i.height};break;case"bottom":p={x:h,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:u};break;case"left":p={x:s.x-i.width,y:u};break;default:p={x:s.x,y:s.y}}switch(Po(t)){case"start":p[a]-=m*(n&&d?-1:1);break;case"end":p[a]+=m*(n&&d?-1:1);break}return p}const K5=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:u}=d0(d,s,c),m=s,p={},v=0;for(let g=0;g<l.length;g++){const{name:w,fn:j}=l[g],{x:y,y:x,data:b,reset:N}=await j({x:h,y:u,initialPlacement:s,placement:m,strategy:i,middlewareData:p,rects:d,platform:a,elements:{reference:e,floating:t}});h=y??h,u=x??u,p={...p,[w]:{...p[w],...b}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:h,y:u}=d0(d,m,c)),g=-1)}return{x:h,y:u,placement:m,strategy:i,middlewareData:p}};async function Ga(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=Lr(t,e),v=oN(p),w=l[m?u==="floating"?"reference":"floating":u],j=jd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),y=u==="floating"?{x:s,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),b=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},N=jd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(j.top-N.top+v.top)/b.y,bottom:(N.bottom-j.bottom+v.bottom)/b.y,left:(j.left-N.left+v.left)/b.x,right:(N.right-j.right+v.right)/b.x}}const X5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=Lr(e,t)||{};if(d==null)return{};const u=oN(h),m={x:n,y:s},p=Rg(i),v=Ag(p),g=await a.getDimensions(d),w=p==="y",j=w?"top":"left",y=w?"bottom":"right",x=w?"clientHeight":"clientWidth",b=o.reference[v]+o.reference[p]-m[p]-o.floating[v],N=m[p]-o.reference[p],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let S=M?M[x]:0;(!S||!await(a.isElement==null?void 0:a.isElement(M)))&&(S=l.floating[x]||o.floating[v]);const k=b/2-N/2,R=S/2-g[v]/2-1,P=bs(u[j],R),D=bs(u[y],R),C=P,T=S-g[v]-D,I=S/2-g[v]/2+k,W=Pf(C,I,T),L=!c.arrow&&Po(i)!=null&&I!==W&&o.reference[v]/2-(I<C?P:D)-g[v]/2<0,V=L?I<C?I-C:I-T:0;return{[p]:m[p]+V,data:{[p]:W,centerOffset:I-W-V,...L&&{alignmentOffset:V}},reset:L}}}),J5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...w}=Lr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=Fr(i),y=rr(l),x=Fr(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(x||!g?[yd(l)]:H5(l)),M=v!=="none";!m&&M&&N.push(...Q5(l,g,v,b));const S=[l,...N],k=await Ga(t,w),R=[];let P=((s=o.flip)==null?void 0:s.overflows)||[];if(h&&R.push(k[j]),u){const I=W5(i,a,b);R.push(k[I[0]],k[I[1]])}if(P=[...P,{placement:i,overflows:R}],!R.every(I=>I<=0)){var D,C;const I=(((D=o.flip)==null?void 0:D.index)||0)+1,W=S[I];if(W&&(!(u==="alignment"?y!==rr(W):!1)||P.every(A=>A.overflows[0]>0&&rr(A.placement)===y)))return{data:{index:I,overflows:P},reset:{placement:W}};let L=(C=P.filter(V=>V.overflows[0]<=0).sort((V,A)=>V.overflows[1]-A.overflows[1])[0])==null?void 0:C.placement;if(!L)switch(p){case"bestFit":{var T;const V=(T=P.filter(A=>{if(M){const F=rr(A.placement);return F===y||F==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(F=>F>0).reduce((F,J)=>F+J,0)]).sort((A,F)=>A[1]-F[1])[0])==null?void 0:T[0];V&&(L=V);break}case"initialPlacement":L=l;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function u0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function h0(e){return B5.some(t=>e[t]>=0)}const Z5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Lr(e,t);switch(s){case"referenceHidden":{const o=await Ga(t,{...i,elementContext:"reference"}),a=u0(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:h0(a)}}}case"escaped":{const o=await Ga(t,{...i,altBoundary:!0}),a=u0(o,n.floating);return{data:{escapedOffsets:a,escaped:h0(a)}}}default:return{}}}}};async function eL(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),a=Fr(n),l=Po(n),c=rr(n)==="y",d=["left","top"].includes(a)?-1:1,h=o&&c?-1:1,u=Lr(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*h,y:m*d}:{x:m*d,y:p*h}}const tL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:a,middlewareData:l}=t,c=await eL(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:a}}}}},nL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:j,y}=w;return{x:j,y}}},...c}=Lr(e,t),d={x:n,y:s},h=await Ga(t,c),u=rr(Fr(i)),m=Eg(u);let p=d[m],v=d[u];if(o){const w=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=p+h[w],x=p-h[j];p=Pf(y,p,x)}if(a){const w=u==="y"?"top":"left",j=u==="y"?"bottom":"right",y=v+h[w],x=v-h[j];v=Pf(y,v,x)}const g=l.fn({...t,[m]:p,[u]:v});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[m]:o,[u]:a}}}}}},rL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Lr(e,t),h={x:n,y:s},u=rr(i),m=Eg(u);let p=h[m],v=h[u];const g=Lr(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",b=o.reference[m]-o.floating[x]+w.mainAxis,N=o.reference[m]+o.reference[x]-w.mainAxis;p<b?p=b:p>N&&(p=N)}if(d){var j,y;const x=m==="y"?"width":"height",b=["top","left"].includes(Fr(i)),N=o.reference[u]-o.floating[x]+(b&&((j=a.offset)==null?void 0:j[u])||0)+(b?0:w.crossAxis),M=o.reference[u]+o.reference[x]+(b?0:((y=a.offset)==null?void 0:y[u])||0)-(b?w.crossAxis:0);v<N?v=N:v>M&&(v=M)}return{[m]:p,[u]:v}}}},sL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...d}=Lr(e,t),h=await Ga(t,d),u=Fr(i),m=Po(i),p=rr(i)==="y",{width:v,height:g}=o.floating;let w,j;u==="top"||u==="bottom"?(w=u,j=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(j=u,w=m==="end"?"top":"bottom");const y=g-h.top-h.bottom,x=v-h.left-h.right,b=bs(g-h[w],y),N=bs(v-h[j],x),M=!t.middlewareData.shift;let S=b,k=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=x),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(S=y),M&&!m){const P=an(h.left,0),D=an(h.right,0),C=an(h.top,0),T=an(h.bottom,0);p?k=v-2*(P!==0||D!==0?P+D:an(h.left,h.right)):S=g-2*(C!==0||T!==0?C+T:an(h.top,h.bottom))}await c({...t,availableWidth:k,availableHeight:S});const R=await a.getDimensions(l.floating);return v!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function xu(){return typeof window<"u"}function Do(e){return aN(e)?(e.nodeName||"").toLowerCase():"#document"}function un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gr(e){var t;return(t=(aN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aN(e){return xu()?e instanceof Node||e instanceof un(e).Node:!1}function Un(e){return xu()?e instanceof Element||e instanceof un(e).Element:!1}function mr(e){return xu()?e instanceof HTMLElement||e instanceof un(e).HTMLElement:!1}function m0(e){return!xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof un(e).ShadowRoot}function xl(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function iL(e){return["table","td","th"].includes(Do(e))}function vu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ig(e){const t=Og(),n=Un(e)?zn(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function oL(e){let t=Ss(e);for(;mr(t)&&!go(t);){if(Ig(t))return t;if(vu(t))return null;t=Ss(t)}return null}function Og(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function go(e){return["html","body","#document"].includes(Do(e))}function zn(e){return un(e).getComputedStyle(e)}function yu(e){return Un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ss(e){if(Do(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m0(e)&&e.host||gr(e);return m0(t)?t.host:t}function lN(e){const t=Ss(e);return go(t)?e.ownerDocument?e.ownerDocument.body:e.body:mr(t)&&xl(t)?t:lN(t)}function Qa(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=lN(e),o=i===((s=e.ownerDocument)==null?void 0:s.body),a=un(i);if(o){const l=Tf(a);return t.concat(a,a.visualViewport||[],xl(i)?i:[],l&&n?Qa(l):[])}return t.concat(i,Qa(i,[],n))}function Tf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cN(e){const t=zn(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=mr(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:s,l=vd(n)!==o||vd(s)!==a;return l&&(n=o,s=a),{width:n,height:s,$:l}}function Lg(e){return Un(e)?e:e.contextElement}function Ji(e){const t=Lg(e);if(!mr(t))return cr(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:o}=cN(t);let a=(o?vd(n.width):n.width)/s,l=(o?vd(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const aL=cr(0);function dN(e){const t=un(e);return!Og()||!t.visualViewport?aL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==un(e)?!1:t}function li(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Lg(e);let a=cr(1);t&&(s?Un(s)&&(a=Ji(s)):a=Ji(e));const l=lL(o,n,s)?dN(o):cr(0);let c=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,h=i.width/a.x,u=i.height/a.y;if(o){const m=un(o),p=s&&Un(s)?un(s):s;let v=m,g=Tf(v);for(;g&&s&&p!==v;){const w=Ji(g),j=g.getBoundingClientRect(),y=zn(g),x=j.left+(g.clientLeft+parseFloat(y.paddingLeft))*w.x,b=j.top+(g.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,d*=w.y,h*=w.x,u*=w.y,c+=x,d+=b,v=un(g),g=Tf(v)}}return jd({width:h,height:u,x:c,y:d})}function Fg(e,t){const n=yu(e).scrollLeft;return t?t.left+n:li(gr(e)).left+n}function uN(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:Fg(e,s)),o=s.top+t.scrollTop;return{x:i,y:o}}function cL(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const o=i==="fixed",a=gr(s),l=t?vu(t.floating):!1;if(s===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},d=cr(1);const h=cr(0),u=mr(s);if((u||!u&&!o)&&((Do(s)!=="body"||xl(a))&&(c=yu(s)),mr(s))){const p=li(s);d=Ji(s),h.x=p.x+s.clientLeft,h.y=p.y+s.clientTop}const m=a&&!u&&!o?uN(a,c,!0):cr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function dL(e){return Array.from(e.getClientRects())}function uL(e){const t=gr(e),n=yu(e),s=e.ownerDocument.body,i=an(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=an(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+Fg(e);const l=-n.scrollTop;return zn(s).direction==="rtl"&&(a+=an(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:a,y:l}}function hL(e,t){const n=un(e),s=gr(e),i=n.visualViewport;let o=s.clientWidth,a=s.clientHeight,l=0,c=0;if(i){o=i.width,a=i.height;const d=Og();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:l,y:c}}function mL(e,t){const n=li(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,o=mr(e)?Ji(e):cr(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=i*o.x,d=s*o.y;return{width:a,height:l,x:c,y:d}}function f0(e,t,n){let s;if(t==="viewport")s=hL(e,n);else if(t==="document")s=uL(gr(e));else if(Un(t))s=mL(t,n);else{const i=dN(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return jd(s)}function hN(e,t){const n=Ss(e);return n===t||!Un(n)||go(n)?!1:zn(n).position==="fixed"||hN(n,t)}function fL(e,t){const n=t.get(e);if(n)return n;let s=Qa(e,[],!1).filter(l=>Un(l)&&Do(l)!=="body"),i=null;const o=zn(e).position==="fixed";let a=o?Ss(e):e;for(;Un(a)&&!go(a);){const l=zn(a),c=Ig(a);!c&&l.position==="fixed"&&(i=null),(o?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||xl(a)&&!c&&hN(e,a))?s=s.filter(h=>h!==a):i=l,a=Ss(a)}return t.set(e,s),s}function pL(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const a=[...n==="clippingAncestors"?vu(t)?[]:fL(t,this._c):[].concat(n),s],l=a[0],c=a.reduce((d,h)=>{const u=f0(t,h,i);return d.top=an(u.top,d.top),d.right=bs(u.right,d.right),d.bottom=bs(u.bottom,d.bottom),d.left=an(u.left,d.left),d},f0(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gL(e){const{width:t,height:n}=cN(e);return{width:t,height:n}}function xL(e,t,n){const s=mr(t),i=gr(t),o=n==="fixed",a=li(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=cr(0);function d(){c.x=Fg(i)}if(s||!s&&!o)if((Do(t)!=="body"||xl(i))&&(l=yu(t)),s){const p=li(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&d();o&&!s&&i&&d();const h=i&&!s&&!o?uN(i,l):cr(0),u=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:u,y:m,width:a.width,height:a.height}}function Th(e){return zn(e).position==="static"}function p0(e,t){if(!mr(e)||zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gr(e)===n&&(n=n.ownerDocument.body),n}function mN(e,t){const n=un(e);if(vu(e))return n;if(!mr(e)){let i=Ss(e);for(;i&&!go(i);){if(Un(i)&&!Th(i))return i;i=Ss(i)}return n}let s=p0(e,t);for(;s&&iL(s)&&Th(s);)s=p0(s,t);return s&&go(s)&&Th(s)&&!Ig(s)?n:s||oL(e)||n}const vL=async function(e){const t=this.getOffsetParent||mN,n=this.getDimensions,s=await n(e.floating);return{reference:xL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function yL(e){return zn(e).direction==="rtl"}const jL={convertOffsetParentRelativeRectToViewportRelativeRect:cL,getDocumentElement:gr,getClippingRect:pL,getOffsetParent:mN,getElementRects:vL,getClientRects:dL,getDimensions:gL,getScale:Ji,isElement:Un,isRTL:yL};function fN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wL(e,t){let n=null,s;const i=gr(e);function o(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:h,top:u,width:m,height:p}=d;if(l||t(),!m||!p)return;const v=Kl(u),g=Kl(i.clientWidth-(h+m)),w=Kl(i.clientHeight-(u+p)),j=Kl(h),x={rootMargin:-v+"px "+-g+"px "+-w+"px "+-j+"px",threshold:an(0,bs(1,c))||1};let b=!0;function N(M){const S=M[0].intersectionRatio;if(S!==c){if(!b)return a();S?a(!1,S):s=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!fN(d,e.getBoundingClientRect())&&a(),b=!1}try{n=new IntersectionObserver(N,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,x)}n.observe(e)}return a(!0),o}function bL(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Lg(e),h=i||o?[...d?Qa(d):[],...Qa(t)]:[];h.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const u=d&&l?wL(d,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let v,g=c?li(e):null;c&&w();function w(){const j=li(e);g&&!fN(g,j)&&n(),g=j,v=requestAnimationFrame(w)}return n(),()=>{var j;h.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),u==null||u(),(j=p)==null||j.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const SL=tL,NL=nL,CL=J5,kL=sL,PL=Z5,g0=X5,DL=rL,TL=(e,t,n)=>{const s=new Map,i={platform:jL,...n},o={...i.platform,_c:s};return K5(e,t,{...i,platform:o})};var ML=typeof document<"u",EL=function(){},Nc=ML?f.useLayoutEffect:EL;function wd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!wd(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!wd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function pN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function x0(e,t){const n=pN(e);return Math.round(t*n)/n}function Mh(e){const t=f.useRef(e);return Nc(()=>{t.current=e}),t}function AL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,u]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(s);wd(m,s)||p(s);const[v,g]=f.useState(null),[w,j]=f.useState(null),y=f.useCallback(A=>{A!==M.current&&(M.current=A,g(A))},[]),x=f.useCallback(A=>{A!==S.current&&(S.current=A,j(A))},[]),b=o||v,N=a||w,M=f.useRef(null),S=f.useRef(null),k=f.useRef(h),R=c!=null,P=Mh(c),D=Mh(i),C=Mh(d),T=f.useCallback(()=>{if(!M.current||!S.current)return;const A={placement:t,strategy:n,middleware:m};D.current&&(A.platform=D.current),TL(M.current,S.current,A).then(F=>{const J={...F,isPositioned:C.current!==!1};I.current&&!wd(k.current,J)&&(k.current=J,pi.flushSync(()=>{u(J)}))})},[m,t,n,D,C]);Nc(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,u(A=>({...A,isPositioned:!1})))},[d]);const I=f.useRef(!1);Nc(()=>(I.current=!0,()=>{I.current=!1}),[]),Nc(()=>{if(b&&(M.current=b),N&&(S.current=N),b&&N){if(P.current)return P.current(b,N,T);T()}},[b,N,T,P,R]);const W=f.useMemo(()=>({reference:M,floating:S,setReference:y,setFloating:x}),[y,x]),L=f.useMemo(()=>({reference:b,floating:N}),[b,N]),V=f.useMemo(()=>{const A={position:n,left:0,top:0};if(!L.floating)return A;const F=x0(L.floating,h.x),J=x0(L.floating,h.y);return l?{...A,transform:"translate("+F+"px, "+J+"px)",...pN(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:J}},[n,l,L.floating,h.x,h.y]);return f.useMemo(()=>({...h,update:T,refs:W,elements:L,floatingStyles:V}),[h,T,W,L,V])}const RL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?g0({element:s.current,padding:i}).fn(n):{}:s?g0({element:s,padding:i}).fn(n):{}}}},IL=(e,t)=>({...SL(e),options:[e,t]}),OL=(e,t)=>({...NL(e),options:[e,t]}),LL=(e,t)=>({...DL(e),options:[e,t]}),FL=(e,t)=>({...CL(e),options:[e,t]}),_L=(e,t)=>({...kL(e),options:[e,t]}),$L=(e,t)=>({...PL(e),options:[e,t]}),VL=(e,t)=>({...RL(e),options:[e,t]});var qL="Arrow",gN=f.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...o}=e;return r.jsx(ge.svg,{...o,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});gN.displayName=qL;var BL=gN;function xN(e){const[t,n]=f.useState(void 0);return pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var _g="Popper",[vN,To]=En(_g),[UL,yN]=vN(_g),jN=e=>{const{__scopePopper:t,children:n}=e,[s,i]=f.useState(null);return r.jsx(UL,{scope:t,anchor:s,onAnchorChange:i,children:n})};jN.displayName=_g;var wN="PopperAnchor",bN=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,o=yN(wN,n),a=f.useRef(null),l=Oe(t,a);return f.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:r.jsx(ge.div,{...i,ref:l})});bN.displayName=wN;var $g="PopperContent",[zL,WL]=vN($g),SN=f.forwardRef((e,t)=>{var ae,Me,Ee,Ne,Ce,Le;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,w=yN($g,n),[j,y]=f.useState(null),x=Oe(t,rn=>y(rn)),[b,N]=f.useState(null),M=xN(b),S=(M==null?void 0:M.width)??0,k=(M==null?void 0:M.height)??0,R=s+(o!=="center"?"-"+o:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(d)?d:[d],C=D.length>0,T={padding:P,boundary:D.filter(GL),altBoundary:C},{refs:I,floatingStyles:W,placement:L,isPositioned:V,middlewareData:A}=AL({strategy:"fixed",placement:R,whileElementsMounted:(...rn)=>bL(...rn,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[IL({mainAxis:i+k,alignmentAxis:a}),c&&OL({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?LL():void 0,...T}),c&&FL({...T}),_L({...T,apply:({elements:rn,rects:Qn,availableWidth:Ao,availableHeight:Ro})=>{const{width:Io,height:qP}=Qn.reference,Pl=rn.floating.style;Pl.setProperty("--radix-popper-available-width",`${Ao}px`),Pl.setProperty("--radix-popper-available-height",`${Ro}px`),Pl.setProperty("--radix-popper-anchor-width",`${Io}px`),Pl.setProperty("--radix-popper-anchor-height",`${qP}px`)}}),b&&VL({element:b,padding:l}),QL({arrowWidth:S,arrowHeight:k}),m&&$L({strategy:"referenceHidden",...T})]}),[F,J]=kN(L),H=zt(v);pt(()=>{V&&(H==null||H())},[V,H]);const re=(ae=A.arrow)==null?void 0:ae.x,he=(Me=A.arrow)==null?void 0:Me.y,q=((Ee=A.arrow)==null?void 0:Ee.centerOffset)!==0,[me,oe]=f.useState();return pt(()=>{j&&oe(window.getComputedStyle(j).zIndex)},[j]),r.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:V?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(Ne=A.transformOrigin)==null?void 0:Ne.x,(Ce=A.transformOrigin)==null?void 0:Ce.y].join(" "),...((Le=A.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(zL,{scope:n,placedSide:F,onArrowChange:N,arrowX:re,arrowY:he,shouldHideArrow:q,children:r.jsx(ge.div,{"data-side":F,"data-align":J,...g,ref:x,style:{...g.style,animation:V?void 0:"none"}})})})});SN.displayName=$g;var NN="PopperArrow",HL={top:"bottom",right:"left",bottom:"top",left:"right"},CN=f.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,o=WL(NN,s),a=HL[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(BL,{...i,ref:n,style:{...i.style,display:"block"}})})});CN.displayName=NN;function GL(e){return e!==null}var QL=e=>({name:"transformOrigin",options:e,fn(t){var w,j,y;const{placement:n,rects:s,middlewareData:i}=t,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[d,h]=kN(n),u={start:"0%",center:"50%",end:"100%"}[h],m=(((j=i.arrow)==null?void 0:j.x)??0)+l/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let v="",g="";return d==="bottom"?(v=a?u:`${m}px`,g=`${-c}px`):d==="top"?(v=a?u:`${m}px`,g=`${s.floating.height+c}px`):d==="right"?(v=`${-c}px`,g=a?u:`${p}px`):d==="left"&&(v=`${s.floating.width+c}px`,g=a?u:`${p}px`),{data:{x:v,y:g}}}});function kN(e){const[t,n="center"]=e.split("-");return[t,n]}var Vg=jN,ju=bN,qg=SN,Bg=CN,YL="Portal",Mo=f.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[i,o]=f.useState(!1);pt(()=>o(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?fM.createPortal(r.jsx(ge.div,{...s,ref:t}),a):null});Mo.displayName=YL;function KL(e,t){return f.useReducer((n,s)=>t[n][s]??n,e)}var xn=e=>{const{present:t,children:n}=e,s=XL(t),i=typeof n=="function"?n({present:s.isPresent}):f.Children.only(n),o=Oe(s.ref,JL(i));return typeof n=="function"||s.isPresent?f.cloneElement(i,{ref:o}):null};xn.displayName="Presence";function XL(e){const[t,n]=f.useState(),s=f.useRef(null),i=f.useRef(e),o=f.useRef("none"),a=e?"mounted":"unmounted",[l,c]=KL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Xl(s.current);o.current=l==="mounted"?d:"none"},[l]),pt(()=>{const d=s.current,h=i.current;if(h!==e){const m=o.current,p=Xl(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),pt(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=p=>{const g=Xl(s.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=p=>{p.target===t&&(o.current=Xl(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function Xl(e){return(e==null?void 0:e.animationName)||"none"}function JL(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Eh="rovingFocusGroup.onEntryFocus",ZL={bubbles:!1,cancelable:!0},vl="RovingFocusGroup",[Mf,PN,eF]=fu(vl),[tF,wu]=En(vl,[eF]),[nF,rF]=tF(vl),DN=f.forwardRef((e,t)=>r.jsx(Mf.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Mf.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(sF,{...e,ref:t})})}));DN.displayName=vl;var sF=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...u}=e,m=f.useRef(null),p=Oe(t,m),v=pu(o),[g,w]=Or({prop:a,defaultProp:l??null,onChange:c,caller:vl}),[j,y]=f.useState(!1),x=zt(d),b=PN(n),N=f.useRef(!1),[M,S]=f.useState(0);return f.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Eh,x),()=>k.removeEventListener(Eh,x)},[x]),r.jsx(nF,{scope:n,orientation:s,dir:v,loop:i,currentTabStopId:g,onItemFocus:f.useCallback(k=>w(k),[w]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:f.useCallback(()=>S(k=>k-1),[]),children:r.jsx(ge.div,{tabIndex:j||M===0?-1:0,"data-orientation":s,...u,ref:p,style:{outline:"none",...e.style},onMouseDown:ie(e.onMouseDown,()=>{N.current=!0}),onFocus:ie(e.onFocus,k=>{const R=!N.current;if(k.target===k.currentTarget&&R&&!j){const P=new CustomEvent(Eh,ZL);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=b().filter(L=>L.focusable),C=D.find(L=>L.active),T=D.find(L=>L.id===g),W=[C,T,...D].filter(Boolean).map(L=>L.ref.current);EN(W,h)}}N.current=!1}),onBlur:ie(e.onBlur,()=>y(!1))})})}),TN="RovingFocusGroupItem",MN=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:o,children:a,...l}=e,c=qn(),d=o||c,h=rF(TN,n),u=h.currentTabStopId===d,m=PN(n),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=h;return f.useEffect(()=>{if(s)return p(),()=>v()},[s,p,v]),r.jsx(Mf.ItemSlot,{scope:n,id:d,focusable:s,active:i,children:r.jsx(ge.span,{tabIndex:u?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ie(e.onMouseDown,w=>{s?h.onItemFocus(d):w.preventDefault()}),onFocus:ie(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:ie(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const j=aF(w,h.orientation,h.dir);if(j!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=m().filter(b=>b.focusable).map(b=>b.ref.current);if(j==="last")x.reverse();else if(j==="prev"||j==="next"){j==="prev"&&x.reverse();const b=x.indexOf(w.currentTarget);x=h.loop?lF(x,b+1):x.slice(b+1)}setTimeout(()=>EN(x))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:g!=null}):a})})});MN.displayName=TN;var iF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function aF(e,t,n){const s=oF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return iF[s]}function EN(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function lF(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var AN=DN,RN=MN,cF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ni=new WeakMap,Jl=new WeakMap,Zl={},Ah=0,IN=function(e){return e&&(e.host||IN(e.parentNode))},dF=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=IN(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},uF=function(e,t,n,s){var i=dF(t,Array.isArray(e)?e:[e]);Zl[n]||(Zl[n]=new WeakMap);var o=Zl[n],a=[],l=new Set,c=new Set(i),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};i.forEach(d);var h=function(u){!u||c.has(u)||Array.prototype.forEach.call(u.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(s),v=p!==null&&p!=="false",g=(Ni.get(m)||0)+1,w=(o.get(m)||0)+1;Ni.set(m,g),o.set(m,w),a.push(m),g===1&&v&&Jl.set(m,!0),w===1&&m.setAttribute(n,"true"),v||m.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return h(t),l.clear(),Ah++,function(){a.forEach(function(u){var m=Ni.get(u)-1,p=o.get(u)-1;Ni.set(u,m),o.set(u,p),m||(Jl.has(u)||u.removeAttribute(s),Jl.delete(u)),p||u.removeAttribute(n)}),Ah--,Ah||(Ni=new WeakMap,Ni=new WeakMap,Jl=new WeakMap,Zl={})}},bu=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=t||cF(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),uF(s,i,n,"aria-hidden")):function(){return null}},tr=function(){return tr=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},tr.apply(this,arguments)};function ON(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function hF(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Cc="right-scroll-bar-position",kc="width-before-scroll-bar",mF="with-scroll-bars-hidden",fF="--removed-body-scroll-bar-size";function Rh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pF(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var gF=typeof window<"u"?f.useLayoutEffect:f.useEffect,v0=new WeakMap;function xF(e,t){var n=pF(t||null,function(s){return e.forEach(function(i){return Rh(i,s)})});return gF(function(){var s=v0.get(n);if(s){var i=new Set(s),o=new Set(e),a=n.current;i.forEach(function(l){o.has(l)||Rh(l,null)}),o.forEach(function(l){i.has(l)||Rh(l,a)})}v0.set(n,e)},[e]),n}function vF(e){return e}function yF(e,t){t===void 0&&(t=vF);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(s=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var h=a;a=[],h.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return i}function jF(e){e===void 0&&(e={});var t=yF(null);return t.options=tr({async:!0,ssr:!1},e),t}var LN=function(e){var t=e.sideCar,n=ON(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return f.createElement(s,tr({},n))};LN.isSideCarExport=!0;function wF(e,t){return e.useMedium(t),LN}var FN=jF(),Ih=function(){},Su=f.forwardRef(function(e,t){var n=f.useRef(null),s=f.useState({onScrollCapture:Ih,onWheelCapture:Ih,onTouchMoveCapture:Ih}),i=s[0],o=s[1],a=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,w=e.allowPinchZoom,j=e.as,y=j===void 0?"div":j,x=e.gapMode,b=ON(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,M=xF([n,t]),S=tr(tr({},b),i);return f.createElement(f.Fragment,null,h&&f.createElement(N,{sideCar:FN,removeScrollBar:d,shards:u,noRelative:p,noIsolation:v,inert:g,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:x}),a?f.cloneElement(f.Children.only(l),tr(tr({},S),{ref:M})):f.createElement(y,tr({},S,{className:c,ref:M}),l))});Su.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Su.classNames={fullWidth:kc,zeroRight:Cc};var y0,bF=function(){if(y0)return y0;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bF();return t&&e.setAttribute("nonce",t),e}function NF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kF=function(){var e=0,t=null;return{add:function(n){e==0&&(t=SF())&&(NF(t,n),CF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PF=function(){var e=kF();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_N=function(){var e=PF(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},DF={left:0,top:0,right:0,gap:0},Oh=function(e){return parseInt(e||"",10)||0},TF=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Oh(n),Oh(s),Oh(i)]},MF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DF;var t=TF(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},EF=_N(),Zi="data-scroll-locked",AF=function(e,t,n,s){var i=e.left,o=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mF,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Zi,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cc,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(kc,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(kc," .").concat(kc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Zi,`] {
    `).concat(fF,": ").concat(l,`px;
  }
`)},j0=function(){var e=parseInt(document.body.getAttribute(Zi)||"0",10);return isFinite(e)?e:0},RF=function(){f.useEffect(function(){return document.body.setAttribute(Zi,(j0()+1).toString()),function(){var e=j0()-1;e<=0?document.body.removeAttribute(Zi):document.body.setAttribute(Zi,e.toString())}},[])},IF=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;RF();var o=f.useMemo(function(){return MF(i)},[i]);return f.createElement(EF,{styles:AF(o,!t,i,n?"":"!important")})},Ef=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return Ef=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{Ef=!1}var Ci=Ef?{passive:!1}:!1,OF=function(e){return e.tagName==="TEXTAREA"},$N=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OF(e)&&n[t]==="visible")},LF=function(e){return $N(e,"overflowY")},FF=function(e){return $N(e,"overflowX")},w0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=VN(e,s);if(i){var o=qN(e,s),a=o[1],l=o[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},_F=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},$F=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},VN=function(e,t){return e==="v"?LF(t):FF(t)},qN=function(e,t){return e==="v"?_F(t):$F(t)},VF=function(e,t){return e==="h"&&t==="rtl"?-1:1},qF=function(e,t,n,s,i){var o=VF(e,window.getComputedStyle(t).direction),a=o*s,l=n.target,c=t.contains(l),d=!1,h=a>0,u=0,m=0;do{if(!l)break;var p=qN(e,l),v=p[0],g=p[1],w=p[2],j=g-w-o*v;(v||j)&&VN(e,l)&&(u+=j,m+=v);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(i&&Math.abs(u)<1||!i&&a>u)||!h&&(i&&Math.abs(m)<1||!i&&-a>m))&&(d=!0),d},tc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},b0=function(e){return[e.deltaX,e.deltaY]},S0=function(e){return e&&"current"in e?e.current:e},BF=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UF=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zF=0,ki=[];function WF(e){var t=f.useRef([]),n=f.useRef([0,0]),s=f.useRef(),i=f.useState(zF++)[0],o=f.useState(_N)[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=hF([e.lockRef.current],(e.shards||[]).map(S0),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var j=tc(g),y=n.current,x="deltaX"in g?g.deltaX:y[0]-j[0],b="deltaY"in g?g.deltaY:y[1]-j[1],N,M=g.target,S=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in g&&S==="h"&&M.type==="range")return!1;var k=w0(S,M);if(!k)return!0;if(k?N=S:(N=S==="v"?"h":"v",k=w0(S,M)),!k)return!1;if(!s.current&&"changedTouches"in g&&(x||b)&&(s.current=N),!N)return!0;var R=s.current||N;return qF(R,w,g,R==="h"?x:b,!0)},[]),c=f.useCallback(function(g){var w=g;if(!(!ki.length||ki[ki.length-1]!==o)){var j="deltaY"in w?b0(w):tc(w),y=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&BF(N.delta,j)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var x=(a.current.shards||[]).map(S0).filter(Boolean).filter(function(N){return N.contains(w.target)}),b=x.length>0?l(w,x[0]):!a.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),d=f.useCallback(function(g,w,j,y){var x={name:g,delta:w,target:j,should:y,shadowParent:HF(j)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(b){return b!==x})},1)},[]),h=f.useCallback(function(g){n.current=tc(g),s.current=void 0},[]),u=f.useCallback(function(g){d(g.type,b0(g),g.target,l(g,e.lockRef.current))},[]),m=f.useCallback(function(g){d(g.type,tc(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return ki.push(o),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ci),document.addEventListener("touchmove",c,Ci),document.addEventListener("touchstart",h,Ci),function(){ki=ki.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Ci),document.removeEventListener("touchmove",c,Ci),document.removeEventListener("touchstart",h,Ci)}},[]);var p=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(o,{styles:UF(i)}):null,p?f.createElement(IF,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function HF(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GF=wF(FN,WF);var BN=f.forwardRef(function(e,t){return f.createElement(Su,tr({},e,{ref:t,sideCar:GF}))});BN.classNames=Su.classNames;const Nu=BN;var Af=["Enter"," "],QF=["ArrowDown","PageUp","Home"],UN=["ArrowUp","PageDown","End"],YF=[...QF,...UN],KF={ltr:[...Af,"ArrowRight"],rtl:[...Af,"ArrowLeft"]},XF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yl="Menu",[Ya,JF,ZF]=fu(yl),[wi,zN]=En(yl,[ZF,To,wu]),Cu=To(),WN=wu(),[e_,bi]=wi(yl),[t_,jl]=wi(yl),HN=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:o,modal:a=!0}=e,l=Cu(t),[c,d]=f.useState(null),h=f.useRef(!1),u=zt(o),m=pu(i);return f.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),r.jsx(Vg,{...l,children:r.jsx(e_,{scope:t,open:n,onOpenChange:u,content:c,onContentChange:d,children:r.jsx(t_,{scope:t,onClose:f.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:h,dir:m,modal:a,children:s})})})};HN.displayName=yl;var n_="MenuAnchor",Ug=f.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Cu(n);return r.jsx(ju,{...i,...s,ref:t})});Ug.displayName=n_;var zg="MenuPortal",[r_,GN]=wi(zg,{forceMount:void 0}),QN=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,o=bi(zg,t);return r.jsx(r_,{scope:t,forceMount:n,children:r.jsx(xn,{present:n||o.open,children:r.jsx(Mo,{asChild:!0,container:i,children:s})})})};QN.displayName=zg;var Dn="MenuContent",[s_,Wg]=wi(Dn),YN=f.forwardRef((e,t)=>{const n=GN(Dn,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,o=bi(Dn,e.__scopeMenu),a=jl(Dn,e.__scopeMenu);return r.jsx(Ya.Provider,{scope:e.__scopeMenu,children:r.jsx(xn,{present:s||o.open,children:r.jsx(Ya.Slot,{scope:e.__scopeMenu,children:a.modal?r.jsx(i_,{...i,ref:t}):r.jsx(o_,{...i,ref:t})})})})}),i_=f.forwardRef((e,t)=>{const n=bi(Dn,e.__scopeMenu),s=f.useRef(null),i=Oe(t,s);return f.useEffect(()=>{const o=s.current;if(o)return bu(o)},[]),r.jsx(Hg,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),o_=f.forwardRef((e,t)=>{const n=bi(Dn,e.__scopeMenu);return r.jsx(Hg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),a_=xs("MenuContent.ScrollLock"),Hg=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...g}=e,w=bi(Dn,n),j=jl(Dn,n),y=Cu(n),x=WN(n),b=JF(n),[N,M]=f.useState(null),S=f.useRef(null),k=Oe(t,S,w.onContentChange),R=f.useRef(0),P=f.useRef(""),D=f.useRef(0),C=f.useRef(null),T=f.useRef("right"),I=f.useRef(0),W=v?Nu:f.Fragment,L=v?{as:a_,allowPinchZoom:!0}:void 0,V=F=>{var ae,Me;const J=P.current+F,H=b().filter(Ee=>!Ee.disabled),re=document.activeElement,he=(ae=H.find(Ee=>Ee.ref.current===re))==null?void 0:ae.textValue,q=H.map(Ee=>Ee.textValue),me=y_(q,J,he),oe=(Me=H.find(Ee=>Ee.textValue===me))==null?void 0:Me.ref.current;(function Ee(Ne){P.current=Ne,window.clearTimeout(R.current),Ne!==""&&(R.current=window.setTimeout(()=>Ee(""),1e3))})(J),oe&&setTimeout(()=>oe.focus())};f.useEffect(()=>()=>window.clearTimeout(R.current),[]),gu();const A=f.useCallback(F=>{var H,re;return T.current===((H=C.current)==null?void 0:H.side)&&w_(F,(re=C.current)==null?void 0:re.area)},[]);return r.jsx(s_,{scope:n,searchRef:P,onItemEnter:f.useCallback(F=>{A(F)&&F.preventDefault()},[A]),onItemLeave:f.useCallback(F=>{var J;A(F)||((J=S.current)==null||J.focus(),M(null))},[A]),onTriggerLeave:f.useCallback(F=>{A(F)&&F.preventDefault()},[A]),pointerGraceTimerRef:D,onPointerGraceIntentChange:f.useCallback(F=>{C.current=F},[]),children:r.jsx(W,{...L,children:r.jsx(gl,{asChild:!0,trapped:i,onMountAutoFocus:ie(o,F=>{var J;F.preventDefault(),(J=S.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:r.jsx(ko,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:m,onDismiss:p,children:r.jsx(AN,{asChild:!0,...x,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:M,onEntryFocus:ie(c,F=>{j.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(qg,{role:"menu","aria-orientation":"vertical","data-state":uC(w.open),"data-radix-menu-content":"",dir:j.dir,...y,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:ie(g.onKeyDown,F=>{const H=F.target.closest("[data-radix-menu-content]")===F.currentTarget,re=F.ctrlKey||F.altKey||F.metaKey,he=F.key.length===1;H&&(F.key==="Tab"&&F.preventDefault(),!re&&he&&V(F.key));const q=S.current;if(F.target!==q||!YF.includes(F.key))return;F.preventDefault();const oe=b().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);UN.includes(F.key)&&oe.reverse(),x_(oe)}),onBlur:ie(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(R.current),P.current="")}),onPointerMove:ie(e.onPointerMove,Ka(F=>{const J=F.target,H=I.current!==F.clientX;if(F.currentTarget.contains(J)&&H){const re=F.clientX>I.current?"right":"left";T.current=re,I.current=F.clientX}}))})})})})})})});YN.displayName=Dn;var l_="MenuGroup",Gg=f.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ge.div,{role:"group",...s,ref:t})});Gg.displayName=l_;var c_="MenuLabel",KN=f.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ge.div,{...s,ref:t})});KN.displayName=c_;var bd="MenuItem",N0="menu.itemSelect",ku=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,o=f.useRef(null),a=jl(bd,e.__scopeMenu),l=Wg(bd,e.__scopeMenu),c=Oe(t,o),d=f.useRef(!1),h=()=>{const u=o.current;if(!n&&u){const m=new CustomEvent(N0,{bubbles:!0,cancelable:!0});u.addEventListener(N0,p=>s==null?void 0:s(p),{once:!0}),Tg(u,m),m.defaultPrevented?d.current=!1:a.onClose()}};return r.jsx(XN,{...i,ref:c,disabled:n,onClick:ie(e.onClick,h),onPointerDown:u=>{var m;(m=e.onPointerDown)==null||m.call(e,u),d.current=!0},onPointerUp:ie(e.onPointerUp,u=>{var m;d.current||(m=u.currentTarget)==null||m.click()}),onKeyDown:ie(e.onKeyDown,u=>{const m=l.searchRef.current!=="";n||m&&u.key===" "||Af.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});ku.displayName=bd;var XN=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...o}=e,a=Wg(bd,n),l=WN(n),c=f.useRef(null),d=Oe(t,c),[h,u]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[o.children]),r.jsx(Ya.ItemSlot,{scope:n,disabled:s,textValue:i??m,children:r.jsx(RN,{asChild:!0,...l,focusable:!s,children:r.jsx(ge.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:d,onPointerMove:ie(e.onPointerMove,Ka(v=>{s?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(e.onPointerLeave,Ka(v=>a.onItemLeave(v))),onFocus:ie(e.onFocus,()=>u(!0)),onBlur:ie(e.onBlur,()=>u(!1))})})})}),d_="MenuCheckboxItem",JN=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(rC,{scope:e.__scopeMenu,checked:n,children:r.jsx(ku,{role:"menuitemcheckbox","aria-checked":Sd(n)?"mixed":n,...i,ref:t,"data-state":Yg(n),onSelect:ie(i.onSelect,()=>s==null?void 0:s(Sd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});JN.displayName=d_;var ZN="MenuRadioGroup",[u_,h_]=wi(ZN,{value:void 0,onValueChange:()=>{}}),eC=f.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,o=zt(s);return r.jsx(u_,{scope:e.__scopeMenu,value:n,onValueChange:o,children:r.jsx(Gg,{...i,ref:t})})});eC.displayName=ZN;var tC="MenuRadioItem",nC=f.forwardRef((e,t)=>{const{value:n,...s}=e,i=h_(tC,e.__scopeMenu),o=n===i.value;return r.jsx(rC,{scope:e.__scopeMenu,checked:o,children:r.jsx(ku,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":Yg(o),onSelect:ie(s.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});nC.displayName=tC;var Qg="MenuItemIndicator",[rC,m_]=wi(Qg,{checked:!1}),sC=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,o=m_(Qg,n);return r.jsx(xn,{present:s||Sd(o.checked)||o.checked===!0,children:r.jsx(ge.span,{...i,ref:t,"data-state":Yg(o.checked)})})});sC.displayName=Qg;var f_="MenuSeparator",iC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});iC.displayName=f_;var p_="MenuArrow",oC=f.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=Cu(n);return r.jsx(Bg,{...i,...s,ref:t})});oC.displayName=p_;var g_="MenuSub",[D9,aC]=wi(g_),ra="MenuSubTrigger",lC=f.forwardRef((e,t)=>{const n=bi(ra,e.__scopeMenu),s=jl(ra,e.__scopeMenu),i=aC(ra,e.__scopeMenu),o=Wg(ra,e.__scopeMenu),a=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,d={__scopeMenu:e.__scopeMenu},h=f.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return f.useEffect(()=>h,[h]),f.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),c(null)}},[l,c]),r.jsx(Ug,{asChild:!0,...d,children:r.jsx(XN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":uC(n.open),...e,ref:tu(t,i.onTriggerChange),onClick:u=>{var m;(m=e.onClick)==null||m.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(e.onPointerMove,Ka(u=>{o.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ie(e.onPointerLeave,Ka(u=>{var p,v;h();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(v=n.content)==null?void 0:v.dataset.side,w=g==="right",j=w?-5:5,y=m[w?"left":"right"],x=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:u.clientX+j,y:u.clientY},{x:y,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(u),u.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ie(e.onKeyDown,u=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&u.key===" "||KF[s.dir].includes(u.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),u.preventDefault())})})})});lC.displayName=ra;var cC="MenuSubContent",dC=f.forwardRef((e,t)=>{const n=GN(Dn,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,o=bi(Dn,e.__scopeMenu),a=jl(Dn,e.__scopeMenu),l=aC(cC,e.__scopeMenu),c=f.useRef(null),d=Oe(t,c);return r.jsx(Ya.Provider,{scope:e.__scopeMenu,children:r.jsx(xn,{present:s||o.open,children:r.jsx(Ya.Slot,{scope:e.__scopeMenu,children:r.jsx(Hg,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var u;a.isUsingKeyboardRef.current&&((u=c.current)==null||u.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ie(e.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ie(e.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ie(e.onKeyDown,h=>{var p;const u=h.currentTarget.contains(h.target),m=XF[a.dir].includes(h.key);u&&m&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});dC.displayName=cC;function uC(e){return e?"open":"closed"}function Sd(e){return e==="indeterminate"}function Yg(e){return Sd(e)?"indeterminate":e?"checked":"unchecked"}function x_(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function v_(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function y_(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=v_(e,Math.max(o,0));i.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function j_(e,t){const{x:n,y:s}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o],c=t[a],d=l.x,h=l.y,u=c.x,m=c.y;h>s!=m>s&&n<(u-d)*(s-h)/(m-h)+d&&(i=!i)}return i}function w_(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return j_(n,t)}function Ka(e){return t=>t.pointerType==="mouse"?e(t):void 0}var b_=HN,S_=Ug,N_=QN,C_=YN,k_=Gg,P_=KN,D_=ku,T_=JN,M_=eC,E_=nC,A_=sC,R_=iC,I_=oC,O_=lC,L_=dC,Pu="DropdownMenu",[F_,T9]=En(Pu,[zN]),Gt=zN(),[__,hC]=F_(Pu),mC=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,c=Gt(t),d=f.useRef(null),[h,u]=Or({prop:i,defaultProp:o??!1,onChange:a,caller:Pu});return r.jsx(__,{scope:t,triggerId:qn(),triggerRef:d,contentId:qn(),open:h,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(m=>!m),[u]),modal:l,children:r.jsx(b_,{...c,open:h,onOpenChange:u,dir:s,modal:l,children:n})})};mC.displayName=Pu;var fC="DropdownMenuTrigger",pC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,o=hC(fC,n),a=Gt(n);return r.jsx(S_,{asChild:!0,...a,children:r.jsx(ge.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:tu(t,o.triggerRef),onPointerDown:ie(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ie(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});pC.displayName=fC;var $_="DropdownMenuPortal",gC=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Gt(t);return r.jsx(N_,{...s,...n})};gC.displayName=$_;var xC="DropdownMenuContent",vC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=hC(xC,n),o=Gt(n),a=f.useRef(!1);return r.jsx(C_,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...s,ref:t,onCloseAutoFocus:ie(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ie(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vC.displayName=xC;var V_="DropdownMenuGroup",q_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(k_,{...i,...s,ref:t})});q_.displayName=V_;var B_="DropdownMenuLabel",yC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(P_,{...i,...s,ref:t})});yC.displayName=B_;var U_="DropdownMenuItem",jC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(D_,{...i,...s,ref:t})});jC.displayName=U_;var z_="DropdownMenuCheckboxItem",wC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(T_,{...i,...s,ref:t})});wC.displayName=z_;var W_="DropdownMenuRadioGroup",H_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(M_,{...i,...s,ref:t})});H_.displayName=W_;var G_="DropdownMenuRadioItem",bC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(E_,{...i,...s,ref:t})});bC.displayName=G_;var Q_="DropdownMenuItemIndicator",SC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(A_,{...i,...s,ref:t})});SC.displayName=Q_;var Y_="DropdownMenuSeparator",NC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(R_,{...i,...s,ref:t})});NC.displayName=Y_;var K_="DropdownMenuArrow",X_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(I_,{...i,...s,ref:t})});X_.displayName=K_;var J_="DropdownMenuSubTrigger",CC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(O_,{...i,...s,ref:t})});CC.displayName=J_;var Z_="DropdownMenuSubContent",kC=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=Gt(n);return r.jsx(L_,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kC.displayName=Z_;var e6=mC,t6=pC,n6=gC,PC=vC,DC=yC,TC=jC,MC=wC,EC=bC,AC=SC,RC=NC,IC=CC,OC=kC;const r6=e6,s6=t6,i6=ce.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs(IC,{ref:i,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,r.jsx(rb,{className:"ml-auto h-4 w-4"})]}));i6.displayName=IC.displayName;const o6=ce.forwardRef(({className:e,...t},n)=>r.jsx(OC,{ref:n,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));o6.displayName=OC.displayName;const LC=ce.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(n6,{children:r.jsx(PC,{ref:s,sideOffset:t,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));LC.displayName=PC.displayName;const sa=ce.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(TC,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));sa.displayName=TC.displayName;const a6=ce.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(MC,{ref:i,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(AC,{children:r.jsx(Jp,{className:"h-4 w-4"})})}),t]}));a6.displayName=MC.displayName;const l6=ce.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(EC,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(AC,{children:r.jsx(oA,{className:"h-2 w-2 fill-current"})})}),t]}));l6.displayName=EC.displayName;const FC=ce.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(DC,{ref:s,className:ue("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));FC.displayName=DC.displayName;const Rf=ce.forwardRef(({className:e,...t},n)=>r.jsx(RC,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));Rf.displayName=RC.displayName;const c6=({pageTitle:e})=>{const t="Site Manager",n="manager@cms.ntt",s=i=>{if(!i)return"SM";const o=i.split(" ");return o.length===1?o[0].substring(0,2).toUpperCase():(o[0][0]+o[o.length-1][0]).toUpperCase()};return r.jsxs("header",{className:"bg-background border-b border-border p-4 flex justify-between items-center shadow-sm sticky top-0 z-50",children:[r.jsx("h1",{className:"text-xl font-semibold text-foreground",children:e}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(O,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",children:r.jsx(nd,{className:"h-5 w-5"})}),r.jsxs(r6,{children:[r.jsx(s6,{asChild:!0,children:r.jsx(O,{variant:"ghost",className:"relative h-10 w-10 rounded-full p-0",children:r.jsxs(ZS,{className:"h-9 w-9",children:[r.jsx(eN,{src:"https://images.unsplash.com/photo-1531427186611-ecfd6d936c79",alt:t}),r.jsx(tN,{className:"bg-primary text-primary-foreground",children:s(t)})]})})}),r.jsxs(LC,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(FC,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:t}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n})]})}),r.jsx(Rf,{}),r.jsx(sa,{asChild:!0,children:r.jsxs($e,{to:"/settings",className:"flex items-center cursor-pointer",children:[r.jsx(IA,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profile"})]})}),r.jsx(sa,{asChild:!0,children:r.jsxs($e,{to:"/settings",className:"flex items-center cursor-pointer",children:[r.jsx(od,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Messages"})]})}),r.jsx(sa,{asChild:!0,children:r.jsxs($e,{to:"/settings",className:"flex items-center cursor-pointer",children:[r.jsx(ul,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Settings"})]})}),r.jsx(Rf,{}),r.jsxs(sa,{className:"flex items-center text-red-600 hover:!text-red-600 hover:!bg-red-50 cursor-pointer",children:[r.jsx(wA,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Log out"})]})]})]})]})]})};var _C=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),d6="VisuallyHidden",Kg=f.forwardRef((e,t)=>r.jsx(ge.span,{...e,ref:t,style:{..._C,...e.style}}));Kg.displayName=d6;var Xg="ToastProvider",[Jg,u6,h6]=fu("Toast"),[$C,M9]=En("Toast",[h6]),[m6,Du]=$C(Xg),VC=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=e,[l,c]=f.useState(null),[d,h]=f.useState(0),u=f.useRef(!1),m=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xg}\`. Expected non-empty \`string\`.`),r.jsx(Jg.Provider,{scope:t,children:r.jsx(m6,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:o,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>h(p=>p+1),[]),onToastRemove:f.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:a})})};VC.displayName=Xg;var qC="ToastViewport",f6=["F8"],If="toast.viewportPause",Of="toast.viewportResume",BC=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=f6,label:i="Notifications ({hotkey})",...o}=e,a=Du(qC,n),l=u6(n),c=f.useRef(null),d=f.useRef(null),h=f.useRef(null),u=f.useRef(null),m=Oe(t,u,a.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;f.useEffect(()=>{const w=j=>{var x;s.length!==0&&s.every(b=>j[b]||j.code===b)&&((x=u.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),f.useEffect(()=>{const w=c.current,j=u.current;if(v&&w&&j){const y=()=>{if(!a.isClosePausedRef.current){const M=new CustomEvent(If);j.dispatchEvent(M),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const M=new CustomEvent(Of);j.dispatchEvent(M),a.isClosePausedRef.current=!1}},b=M=>{!w.contains(M.relatedTarget)&&x()},N=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",y),w.addEventListener("focusout",b),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[v,a.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:w})=>{const y=l().map(x=>{const b=x.ref.current,N=[b,...P6(b)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return f.useEffect(()=>{const w=u.current;if(w){const j=y=>{var N,M,S;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const k=document.activeElement,R=y.shiftKey;if(y.target===w&&R){(N=d.current)==null||N.focus();return}const C=g({tabbingDirection:R?"backwards":"forwards"}),T=C.findIndex(I=>I===k);Lh(C.slice(T+1))?y.preventDefault():R?(M=d.current)==null||M.focus():(S=h.current)==null||S.focus()}};return w.addEventListener("keydown",j),()=>w.removeEventListener("keydown",j)}},[l,g]),r.jsxs(A5,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&r.jsx(Lf,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Lh(w)}}),r.jsx(Jg.Slot,{scope:n,children:r.jsx(ge.ol,{tabIndex:-1,...o,ref:m})}),v&&r.jsx(Lf,{ref:h,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Lh(w)}})]})});BC.displayName=qC;var UC="ToastFocusProxy",Lf=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,o=Du(UC,n);return r.jsx(Kg,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var d;const l=a.relatedTarget;!((d=o.viewport)!=null&&d.contains(l))&&s()}})});Lf.displayName=UC;var wl="Toast",p6="toast.swipeStart",g6="toast.swipeMove",x6="toast.swipeCancel",v6="toast.swipeEnd",zC=f.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:o,...a}=e,[l,c]=Or({prop:s,defaultProp:i??!0,onChange:o,caller:wl});return r.jsx(xn,{present:n||l,children:r.jsx(w6,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:zt(e.onPause),onResume:zt(e.onResume),onSwipeStart:ie(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(e.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:ie(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(e.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});zC.displayName=wl;var[y6,j6]=$C(wl,{onClose(){}}),w6=f.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:p,...v}=e,g=Du(wl,n),[w,j]=f.useState(null),y=Oe(t,I=>j(I)),x=f.useRef(null),b=f.useRef(null),N=i||g.duration,M=f.useRef(0),S=f.useRef(N),k=f.useRef(0),{onToastAdd:R,onToastRemove:P}=g,D=zt(()=>{var W;(w==null?void 0:w.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),a()}),C=f.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),M.current=new Date().getTime(),k.current=window.setTimeout(D,I))},[D]);f.useEffect(()=>{const I=g.viewport;if(I){const W=()=>{C(S.current),d==null||d()},L=()=>{const V=new Date().getTime()-M.current;S.current=S.current-V,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(If,L),I.addEventListener(Of,W),()=>{I.removeEventListener(If,L),I.removeEventListener(Of,W)}}},[g.viewport,N,c,d,C]),f.useEffect(()=>{o&&!g.isClosePausedRef.current&&C(N)},[o,N,g.isClosePausedRef,C]),f.useEffect(()=>(R(),()=>P()),[R,P]);const T=f.useMemo(()=>w?XC(w):null,[w]);return g.viewport?r.jsxs(r.Fragment,{children:[T&&r.jsx(b6,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),r.jsx(y6,{scope:n,onClose:D,children:pi.createPortal(r.jsx(Jg.ItemSlot,{scope:n,children:r.jsx(E5,{asChild:!0,onEscapeKeyDown:ie(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ie(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ie(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:ie(e.onPointerMove,I=>{if(!x.current)return;const W=I.clientX-x.current.x,L=I.clientY-x.current.y,V=!!b.current,A=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,J=A?F(0,W):0,H=A?0:F(0,L),re=I.pointerType==="touch"?10:2,he={x:J,y:H},q={originalEvent:I,delta:he};V?(b.current=he,nc(g6,u,q,{discrete:!1})):C0(he,g.swipeDirection,re)?(b.current=he,nc(p6,h,q,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(W)>re||Math.abs(L)>re)&&(x.current=null)}),onPointerUp:ie(e.onPointerUp,I=>{const W=b.current,L=I.target;if(L.hasPointerCapture(I.pointerId)&&L.releasePointerCapture(I.pointerId),b.current=null,x.current=null,W){const V=I.currentTarget,A={originalEvent:I,delta:W};C0(W,g.swipeDirection,g.swipeThreshold)?nc(v6,p,A,{discrete:!0}):nc(x6,m,A,{discrete:!0}),V.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),b6=e=>{const{__scopeToast:t,children:n,...s}=e,i=Du(wl,t),[o,a]=f.useState(!1),[l,c]=f.useState(!1);return C6(()=>a(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(Mo,{asChild:!0,children:r.jsx(Kg,{...s,children:o&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},S6="ToastTitle",WC=f.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ge.div,{...s,ref:t})});WC.displayName=S6;var N6="ToastDescription",HC=f.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(ge.div,{...s,ref:t})});HC.displayName=N6;var GC="ToastAction",QC=f.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(KC,{altText:n,asChild:!0,children:r.jsx(Zg,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${GC}\`. Expected non-empty \`string\`.`),null)});QC.displayName=GC;var YC="ToastClose",Zg=f.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=j6(YC,n);return r.jsx(KC,{asChild:!0,children:r.jsx(ge.button,{type:"button",...s,ref:t,onClick:ie(e.onClick,i.onClose)})})});Zg.displayName=YC;var KC=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function XC(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),k6(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=s.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...XC(s))}}),t}function nc(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?Tg(i,o):i.dispatchEvent(o)}var C0=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),o=s>i;return t==="left"||t==="right"?o&&s>n:!o&&i>n};function C6(e=()=>{}){const t=zt(e);pt(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function k6(e){return e.nodeType===e.ELEMENT_NODE}function P6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var D6=VC,JC=BC,ZC=zC,e2=WC,t2=HC,n2=QC,r2=Zg;const T6=D6,s2=ce.forwardRef(({className:e,...t},n)=>r.jsx(JC,{ref:n,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));s2.displayName=JC.displayName;const M6=Yp("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),i2=ce.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(ZC,{ref:s,className:ue(M6({variant:t}),e),...n}));i2.displayName=ZC.displayName;const E6=ce.forwardRef(({className:e,...t},n)=>r.jsx(n2,{ref:n,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));E6.displayName=n2.displayName;const o2=ce.forwardRef(({className:e,...t},n)=>r.jsx(r2,{ref:n,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(yb,{className:"h-4 w-4"})}));o2.displayName=r2.displayName;const a2=ce.forwardRef(({className:e,...t},n)=>r.jsx(e2,{ref:n,className:ue("text-sm font-semibold",e),...t}));a2.displayName=e2.displayName;const l2=ce.forwardRef(({className:e,...t},n)=>r.jsx(t2,{ref:n,className:ue("text-sm opacity-90",e),...t}));l2.displayName=t2.displayName;const A6=3,R6=1e6;let Fh=0;function I6(){return Fh=(Fh+1)%Number.MAX_SAFE_INTEGER,Fh.toString()}const _h=new Map,k0=e=>{if(_h.has(e))return;const t=setTimeout(()=>{_h.delete(e),ja({type:"REMOVE_TOAST",toastId:e})},R6);_h.set(e,t)},O6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,A6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?k0(n):e.toasts.forEach(s=>{k0(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Pc=[];let Dc={toasts:[]};function ja(e){Dc=O6(Dc,e),Pc.forEach(t=>{t(Dc)})}function Bs({...e}){const t=I6(),n=i=>ja({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>ja({type:"DISMISS_TOAST",toastId:t});return ja({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function fe(){const[e,t]=f.useState(Dc);return f.useEffect(()=>(Pc.push(t),()=>{const n=Pc.indexOf(t);n>-1&&Pc.splice(n,1)}),[e]),{...e,toast:Bs,dismiss:n=>ja({type:"DISMISS_TOAST",toastId:n})}}function c2(){const{toasts:e}=fe();return r.jsxs(T6,{children:[e.map(({id:t,title:n,description:s,action:i,...o})=>r.jsxs(i2,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(a2,{children:n}),s&&r.jsx(l2,{children:s})]}),i,r.jsx(o2,{})]},t)),r.jsx(s2,{})]})}const L6=e=>{if(e.startsWith("/projects/")&&e.length>10)return"Project Details";if(e.startsWith("/personnel-profile/")&&e.length>19)return"Personnel Profile";if(e.startsWith("/personnel-registration/")&&e.length>24)return"Edit Personnel";if(e.startsWith("/project-setup?edit=")&&e.length>20)return"Edit Project Details";if(e.startsWith("/contractors/")&&e.length>13)return"Contractor Details";if(e.startsWith("/partners/")&&e.length>10)return"Partner/Investor Details";switch(e){case"/":return"Dashboard";case"/site-manager-dashboard":return"Site Manager's Dashboard";case"/project-setup":return"Project Setup";case"/projects":return"Projects List";case"/personnel-dashboard":return"Personnel Management";case"/personnel-registration":return"Personnel Registration";case"/equipment-dispatch":return"Equipment Dispatch";case"/materials-inventory":return"Materials Inventory";case"/schedules":return"Schedules & Tasks";case"/daily-logs":return"Daily Logs";case"/safety-compliance":return"Safety & Compliance";case"/contractors":return"Contractors Management";case"/partners":return"Partnerships & Investors";case"/investments":return"Investment Overview";case"/fiber-teams":return"Fiber Team Management";case"/project-financials":return"Project P&L / Budget";case"/settings":return"General Settings";default:return"CMS"}},F6=()=>{const e=pr(),t=L6(e.pathname);return r.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[r.jsx(t5,{}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(c6,{pageTitle:t}),r.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6 bg-slate-50",children:r.jsx(JO,{mode:"wait",children:r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:r.jsx(iE,{})},e.pathname)})})]}),r.jsx(c2,{})]})};var nr=[],wn=[],_6=Uint8Array,$h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Pi=0,$6=$h.length;Pi<$6;++Pi)nr[Pi]=$h[Pi],wn[$h.charCodeAt(Pi)]=Pi;wn["-".charCodeAt(0)]=62;wn["_".charCodeAt(0)]=63;function V6(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var s=n===t?0:4-n%4;return[n,s]}function q6(e,t,n){return(t+n)*3/4-n}function Xa(e){var t,n=V6(e),s=n[0],i=n[1],o=new _6(q6(e,s,i)),a=0,l=i>0?s-4:s,c;for(c=0;c<l;c+=4)t=wn[e.charCodeAt(c)]<<18|wn[e.charCodeAt(c+1)]<<12|wn[e.charCodeAt(c+2)]<<6|wn[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=wn[e.charCodeAt(c)]<<2|wn[e.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=wn[e.charCodeAt(c)]<<10|wn[e.charCodeAt(c+1)]<<4|wn[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function B6(e){return nr[e>>18&63]+nr[e>>12&63]+nr[e>>6&63]+nr[e&63]}function U6(e,t,n){for(var s,i=[],o=t;o<n;o+=3)s=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(B6(s));return i.join("")}function Ja(e){for(var t,n=e.length,s=n%3,i=[],o=16383,a=0,l=n-s;a<l;a+=o)i.push(U6(e,a,a+o>l?l:a+o));return s===1?(t=e[n-1],i.push(nr[t>>2]+nr[t<<4&63]+"==")):s===2&&(t=(e[n-2]<<8)+e[n-1],i.push(nr[t>>10]+nr[t>>4&63]+nr[t<<2&63]+"=")),i.join("")}function jr(e){if(e===void 0)return{};if(!d2(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function z6(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function d2(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),s=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&s}const u2=!0,xo=BigInt("-9223372036854775808"),ex=BigInt("9223372036854775807"),Ff=BigInt("0"),W6=BigInt("8"),H6=BigInt("256");function h2(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function G6(e){e<Ff&&(e-=xo+xo);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let s=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],s++),e>>=W6;return Ja(n)}function Q6(e){const t=Xa(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=Ff,s=Ff;for(const i of t)n+=BigInt(i)*H6**s,s++;return n>ex&&(n+=xo+xo),n}function Y6(e){if(e<xo||ex<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Ja(new Uint8Array(t))}function K6(e){const t=Xa(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const X6=DataView.prototype.setBigInt64?Y6:G6,J6=DataView.prototype.getBigInt64?K6:Q6,P0=1024;function _f(e){if(e.length>P0)throw new Error(`Field name ${e} exceeds maximum field name length ${P0}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function vo(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(s=>vo(s));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const s=t[0][0];if(s==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Xa(e.$bytes).buffer}if(s==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return J6(e.$integer)}if(s==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Xa(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const a=new DataView(i.buffer).getFloat64(0,u2);if(!h2(a))throw new Error(`Float ${a} should be encoded as a number`);return a}if(s==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(s==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[s,i]of Object.entries(e))_f(s),n[s]=vo(i);return n}function eo(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function Nd(e,t,n,s){var a;if(e===void 0){const l=n&&` (present at path ${n} in original object ${eo(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<xo||ex<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:X6(e)}}if(typeof e=="number")if(h2(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,u2),{$float:Ja(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Ja(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,c)=>Nd(l,t,n+`[${c}]`,!1));if(e instanceof Set)throw new Error(Vh(n,"Set",[...e],t));if(e instanceof Map)throw new Error(Vh(n,"Map",[...e],t));if(!d2(e)){const l=(a=e==null?void 0:e.constructor)==null?void 0:a.name,c=l?`${l} `:"";throw new Error(Vh(n,c,e,t))}const i={},o=Object.entries(e);o.sort(([l,c],[d,h])=>l===d?0:l<d?-1:1);for(const[l,c]of o)c!==void 0?(_f(l),i[l]=Nd(c,t,n+`.${l}`,!1)):s&&(_f(l),i[l]=Z6(c,t,n+`.${l}`));return i}function Vh(e,t,n,s){return e?`${t}${eo(n)} is not a supported Convex type (present at path ${e} in original object ${eo(s)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${eo(n)} is not a supported Convex type.`}function Z6(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${eo(e)} but original value is undefined`);return Nd(e,t,n,!1)}function Ns(e){return Nd(e,e,"",!1)}var e3=Object.defineProperty,t3=(e,t,n)=>t in e?e3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qh=(e,t,n)=>t3(e,typeof t!="symbol"?t+"":t,n),D0,T0;const n3=Symbol.for("ConvexError");class $f extends(T0=Error,D0=n3,T0){constructor(t){super(typeof t=="string"?t:eo(t)),qh(this,"name","ConvexError"),qh(this,"data"),qh(this,D0,!0),this.data=t}}const m2=()=>Array.from({length:4},()=>0);m2();m2();const M0="1.25.0";var r3=Object.defineProperty,s3=(e,t,n)=>t in e?r3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E0=(e,t,n)=>s3(e,typeof t!="symbol"?t+"":t,n);const i3="color:rgb(0, 145, 255)";function f2(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class p2{constructor(t){E0(this,"_onLogLineFuncs"),E0(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let n=Math.random().toString(36).substring(2,15);for(let s=0;s<10&&this._onLogLineFuncs[n]!==void 0;s++)n=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[n]=t,()=>{delete this._onLogLineFuncs[n]}}logVerbose(...t){if(this._verbose)for(const n of Object.values(this._onLogLineFuncs))n("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const n of Object.values(this._onLogLineFuncs))n("info",...t)}warn(...t){for(const n of Object.values(this._onLogLineFuncs))n("warn",...t)}error(...t){for(const n of Object.values(this._onLogLineFuncs))n("error",...t)}}function g2(e){const t=new p2(e);return t.addLogLineListener((n,...s)=>{switch(n){case"debug":console.debug(...s);break;case"info":console.log(...s);break;case"warn":console.warn(...s);break;case"error":console.error(...s);break;default:console.log(...s)}}),t}function x2(e){return new p2(e)}function Cd(e,t,n,s,i){const o=f2(n);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const a=i.match(/^\[.*?\] /);if(a===null){e.error(`[CONVEX ${o}(${s})] Could not parse console.log`);return}const l=i.slice(1,a[0].length-2),c=i.slice(a[0].length);e.log(`%c[CONVEX ${o}(${s})] [${l}]`,i3,c)}else e.error(`[CONVEX ${o}(${s})] ${i}`)}function o3(e,t){const n=`[CONVEX FATAL ERROR] ${t}`;return e.error(n),new Error(n)}function Wi(e,t,n){return`[CONVEX ${f2(e)}(${t})] ${n.errorMessage}
  Called by client`}function Vf(e,t){return t.data=e.errorData,t}function kd(e){const t=e.split(":");let n,s;return t.length===1?(n=t[0],s="default"):(n=t.slice(0,t.length-1).join(":"),s=t[t.length-1]),n.endsWith(".js")&&(n=n.slice(0,-3)),`${n}:${s}`}function Js(e,t){return JSON.stringify({udfPath:kd(e),args:Ns(t)})}var a3=Object.defineProperty,l3=(e,t,n)=>t in e?a3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kn=(e,t,n)=>l3(e,typeof t!="symbol"?t+"":t,n);class c3{constructor(){Kn(this,"nextQueryId"),Kn(this,"querySetVersion"),Kn(this,"querySet"),Kn(this,"queryIdToToken"),Kn(this,"identityVersion"),Kn(this,"auth"),Kn(this,"outstandingQueriesOlderThanRestart"),Kn(this,"outstandingAuthOlderThanRestart"),Kn(this,"paused"),Kn(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,n,s,i){const o=kd(t),a=Js(o,n),l=this.querySet.get(a);if(l!==void 0)return l.numSubscribers+=1,{queryToken:a,modification:null,unsubscribe:()=>this.removeSubscriber(a)};{const c=this.nextQueryId++,d={id:c,canonicalizedUdfPath:o,args:n,numSubscribers:1,journal:s,componentPath:i};this.querySet.set(a,d),this.queryIdToToken.set(c,a);const h=this.querySetVersion,u=this.querySetVersion+1,m={type:"Add",queryId:c,udfPath:o,args:[Ns(n)],journal:s,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(c,m):this.querySetVersion=u,{queryToken:a,modification:{type:"ModifyQuerySet",baseVersion:h,newVersion:u,modifications:[m]},unsubscribe:()=>this.removeSubscriber(a)}}}transition(t){for(const n of t.modifications)switch(n.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);const s=n.journal;if(s!==void 0){const i=this.queryIdToToken.get(n.queryId);i!==void 0&&(this.querySet.get(i).journal=s)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}}queryId(t,n){const s=kd(t),i=Js(s,n),o=this.querySet.get(i);return o!==void 0?o.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}setAuth(t){this.auth={tokenType:"User",value:t};const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...this.auth}}setAdminAuth(t,n){const s={tokenType:"Admin",value:t,impersonating:n};this.auth=s;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...s}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var n;return((n=this.auth)==null?void 0:n.value)!==t}queryPath(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).canonicalizedUdfPath:null}queryArgs(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var n;return(n=this.querySet.get(t))==null?void 0:n.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const n=[];for(const o of this.querySet.values()){const a={type:"Add",queryId:o.id,udfPath:o.canonicalizedUdfPath,args:[Ns(o.args)],journal:o.journal,componentPath:o.componentPath};n.push(a),t.has(o.id)||this.outstandingQueriesOlderThanRestart.add(o.id)}this.querySetVersion=1;const s={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:n};if(!this.auth)return this.identityVersion=0,[s,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[s,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,n=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,n]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const n=this.querySet.get(t);if(n.numSubscribers>1)return n.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(n.id),this.outstandingQueriesOlderThanRestart.delete(n.id);const s=this.querySetVersion,i=this.querySetVersion+1,o={type:"Remove",queryId:n.id};return this.paused?this.pendingQuerySetModifications.has(n.id)?this.pendingQuerySetModifications.delete(n.id):this.pendingQuerySetModifications.set(n.id,o):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:s,newVersion:i,modifications:[o]}}}}var d3=Object.defineProperty,u3=(e,t,n)=>t in e?d3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rc=(e,t,n)=>u3(e,typeof t!="symbol"?t+"":t,n);class h3{constructor(t){this.logger=t,rc(this,"inflightRequests"),rc(this,"requestsOlderThanRestart"),rc(this,"inflightMutationsCount",0),rc(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,n){return new Promise(i=>{const o=n?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:o,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++})}onResponse(t){const n=this.inflightRequests.get(t.requestId);if(n===void 0||n.status.status==="Completed")return null;const s=n.message.type==="Mutation"?"mutation":"action",i=n.message.udfPath;for(const c of t.logLines)Cd(this.logger,"info",s,i,c);const o=n.status;let a,l;if(t.success)a={success:!0,logLines:t.logLines,value:vo(t.result)},l=()=>o.onResult(a);else{const c=t.result,{errorData:d}=t;Cd(this.logger,"error",s,i,c),a={success:!1,errorMessage:c,errorData:d!==void 0?vo(d):void 0,logLines:t.logLines},l=()=>o.onResult(a)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),n.message.type==="Action"?this.inflightActionsCount--:n.message.type==="Mutation"&&this.inflightMutationsCount--,{requestId:t.requestId,result:a}):(n.status={status:"Completed",result:a,ts:t.ts,onResolve:l},null)}removeCompleted(t){const n=new Map;for(const[s,i]of this.inflightRequests.entries()){const o=i.status;o.status==="Completed"&&o.ts.lessThanOrEqual(t)&&(o.onResolve(),n.set(s,o.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(s),this.requestsOlderThanRestart.delete(s))}return n}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[n,s]of this.inflightRequests){if(s.status.status==="NotSent"){s.status.status="Requested",t.push(s.message);continue}if(s.message.type==="Mutation")t.push(s.message);else if(s.message.type==="Action"){if(this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n),this.inflightActionsCount--,s.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");s.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return t}resume(){const t=[];for(const[,n]of this.inflightRequests)if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const n of this.inflightRequests.values())n.status.status!=="Completed"&&n.status.requestedAt.getTime()<t&&(t=n.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Za=Symbol.for("functionName"),m3=Symbol.for("toReferencePath");function f3(e){return e[m3]??null}function p3(e){return e.startsWith("function://")}function g3(e){let t;if(typeof e=="string")p3(e)?t={functionHandle:e}:t={name:e};else if(e[Za])t={name:e[Za]};else{const n=f3(e);if(!n)throw new Error(`${e} is not a functionReference`);t={reference:n}}return t}function cn(e){const t=g3(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const n=e[Za];if(!n)throw new Error(`${e} is not a functionReference`);return n}function v2(e){return{[Za]:e}}function y2(e=[]){const t={get(n,s){if(typeof s=="string"){const i=[...e,s];return y2(i)}else if(s===Za){if(e.length<2){const a=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}const i=e.slice(0,-1).join("/"),o=e[e.length-1];return o==="default"?i:i+":"+o}else return s===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const x3=y2();var v3=Object.defineProperty,y3=(e,t,n)=>t in e?v3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pd=(e,t,n)=>y3(e,typeof t!="symbol"?t+"":t,n);class el{constructor(t){Pd(this,"queryResults"),Pd(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...n){const s=jr(n[0]),i=cn(t),o=this.queryResults.get(Js(i,s));if(o!==void 0)return el.queryValue(o.result)}getAllQueries(t){const n=[],s=cn(t);for(const i of this.queryResults.values())i.udfPath===kd(s)&&n.push({args:i.args,value:el.queryValue(i.result)});return n}setQuery(t,n,s){const i=jr(n),o=cn(t),a=Js(o,i);let l;s===void 0?l=void 0:l={success:!0,value:s,logLines:[]};const c={udfPath:o,args:i,result:l};this.queryResults.set(a,c),this.modifiedQueries.push(a)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class j3{constructor(){Pd(this,"queryResults"),Pd(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,n){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!n.has(a.mutationId));const s=this.queryResults;this.queryResults=new Map(t);const i=new el(this.queryResults);for(const a of this.optimisticUpdates)a.update(i);const o=[];for(const[a,l]of this.queryResults){const c=s.get(a);(c===void 0||c.result!==l.result)&&o.push(a)}return o}applyOptimisticUpdate(t,n){this.optimisticUpdates.push({update:t,mutationId:n});const s=new el(this.queryResults);return t(s),s.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const n=this.queryResults.get(t);if(n===void 0)return;const s=n.result;if(s!==void 0){if(s.success)return s.value;throw s.errorData!==void 0?Vf(s,new $f(Wi("query",n.udfPath,s))):new Error(Wi("query",n.udfPath,s))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var s;const n=this.queryResults.get(t);return(s=n==null?void 0:n.result)==null?void 0:s.logLines}}var w3=Object.defineProperty,b3=(e,t,n)=>t in e?w3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bh=(e,t,n)=>b3(e,typeof t!="symbol"?t+"":t,n);class on{constructor(t,n){Bh(this,"low"),Bh(this,"high"),Bh(this,"__isUnsignedLong__"),this.low=t|0,this.high=n|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new on(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?A0:t>=S3?N3:new on(t%wa|0,t/wa|0)}toString(){return(BigInt(this.high)*BigInt(wa)+BigInt(this.low)).toString()}equals(t){return on.isLong(t)||(t=on.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return on.isLong(t)||(t=on.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?on.fromNumber(t):new on(t.low,t.high)}}const A0=new on(0,0),R0=65536,wa=R0*R0,S3=wa*wa,N3=new on(-1,-1);var C3=Object.defineProperty,k3=(e,t,n)=>t in e?C3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sc=(e,t,n)=>k3(e,typeof t!="symbol"?t+"":t,n);class I0{constructor(t,n){sc(this,"version"),sc(this,"remoteQuerySet"),sc(this,"queryPath"),sc(this,"logger"),this.version={querySet:0,ts:on.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=n}transition(t){const n=t.startVersion;if(this.version.querySet!==n.querySet||this.version.ts.notEquals(n.ts)||this.version.identity!==n.identity)throw new Error(`Invalid start version: ${n.ts.toString()}:${n.querySet}`);for(const s of t.modifications)switch(s.type){case"QueryUpdated":{const i=this.queryPath(s.queryId);if(i)for(const a of s.logLines)Cd(this.logger,"info","query",i,a);const o=vo(s.value??null);this.remoteQuerySet.set(s.queryId,{success:!0,value:o,logLines:s.logLines});break}case"QueryFailed":{const i=this.queryPath(s.queryId);if(i)for(const a of s.logLines)Cd(this.logger,"info","query",i,a);const{errorData:o}=s;this.remoteQuerySet.set(s.queryId,{success:!1,errorMessage:s.errorMessage,errorData:o!==void 0?vo(o):void 0,logLines:s.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(s.queryId);break}default:throw new Error(`Invalid modification ${s.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function Uh(e){const t=Xa(e);return on.fromBytesLE(Array.from(t))}function P3(e){const t=new Uint8Array(e.toBytesLE());return Ja(t)}function D3(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:Uh(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:Uh(e.startVersion.ts)},endVersion:{...e.endVersion,ts:Uh(e.endVersion.ts)}}}}function T3(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:P3(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var M3=Object.defineProperty,E3=(e,t,n)=>t in e?M3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mt=(e,t,n)=>E3(e,typeof t!="symbol"?t+"":t,n);const A3=1e3,R3=1001,I3=1005,O3=4040,j2={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function L3(e){if(e===void 0)return"Unknown";for(const t of Object.keys(j2))if(e.startsWith(t))return t;return"Unknown"}class F3{constructor(t,n,s,i){Mt(this,"socket"),Mt(this,"connectionCount"),Mt(this,"_hasEverConnected",!1),Mt(this,"lastCloseReason"),Mt(this,"defaultInitialBackoff"),Mt(this,"maxBackoff"),Mt(this,"retries"),Mt(this,"serverInactivityThreshold"),Mt(this,"reconnectDueToServerInactivityTimeout"),Mt(this,"uri"),Mt(this,"onOpen"),Mt(this,"onResume"),Mt(this,"onMessage"),Mt(this,"webSocketConstructor"),Mt(this,"logger"),Mt(this,"onServerDisconnectError"),this.webSocketConstructor=s,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=3e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=n.onOpen,this.onResume=n.onResume,this.onMessage=n.onMessage,this.onServerDisconnectError=n.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`)}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})),this.lastCloseReason!=="InitialConnect"&&this.logger.log("WebSocket reconnected"),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=n=>{const s=n.message;this.logger.log(`WebSocket error: ${s}`)},t.onmessage=n=>{this.resetServerInactivityTimeout();const s=D3(JSON.parse(n.data));this._logVerbose(`received ws message with type ${s.type}`),this.onMessage(s).hasSyncedPastLastReconnect&&(this.retries=0)},t.onclose=n=>{if(this._logVerbose("begin ws.onclose"),this.lastCloseReason===null&&(this.lastCloseReason=n.reason??"OnCloseInvoked"),n.code!==A3&&n.code!==R3&&n.code!==I3&&n.code!==O3){let i=`WebSocket closed with code ${n.code}`;n.reason&&(i+=`: ${n.reason}`),this.logger.log(i),this.onServerDisconnectError&&n.reason&&this.onServerDisconnectError(i)}const s=L3(n.reason);this.scheduleReconnect(s)}}socketState(){return this.socket.state}sendMessage(t){const n={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const s=T3(t),i=JSON.stringify(s);try{this.socket.ws.send(i)}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`sent message with type ${t.type}: ${JSON.stringify(n)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(n)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const n=this.nextBackoff(t);this.logger.log(`Attempting reconnect in ${n}ms`),setTimeout(()=>this.connect(),n)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return new Promise(n=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),n()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws,n=new Promise(s=>{t.onclose=()=>{s()}});return t.close(),n}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const s=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:j2[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(s,this.maxBackoff),o=i*(Math.random()-.5);return i+o}}function _3(){return $3()}function $3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class ia extends Error{}ia.prototype.name="InvalidTokenError";function V3(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let s=n.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function q3(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return V3(t)}catch{return atob(t)}}function B3(e,t){if(typeof e!="string")throw new ia("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,s=e.split(".")[n];if(typeof s!="string")throw new ia(`Invalid token specified: missing part #${n+1}`);let i;try{i=q3(s)}catch(o){throw new ia(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new ia(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}var U3=Object.defineProperty,z3=(e,t,n)=>t in e?U3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t,n)=>z3(e,typeof t!="symbol"?t+"":t,n);const W3=20*24*60*60*1e3,O0=2;class H3{constructor(t,n,s){yn(this,"authState",{state:"noAuth"}),yn(this,"configVersion",0),yn(this,"syncState"),yn(this,"authenticate"),yn(this,"stopSocket"),yn(this,"tryRestartSocket"),yn(this,"pauseSocket"),yn(this,"resumeSocket"),yn(this,"clearAuth"),yn(this,"logger"),yn(this,"refreshTokenLeewaySeconds"),yn(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=n.authenticate,this.stopSocket=n.stopSocket,this.tryRestartSocket=n.tryRestartSocket,this.pauseSocket=n.pauseSocket,this.resumeSocket=n.resumeSocket,this.clearAuth=n.clearAuth,this.logger=s.logger,this.refreshTokenLeewaySeconds=s.refreshTokenLeewaySeconds}async setConfig(t,n){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const s=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});s.isFromOutdatedConfig||(s.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:n},hasRetried:!1}),this.authenticate(s.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:n}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:n}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(n+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=O0){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${O0-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const n=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});n.isFromOutdatedConfig||(n.value&&this.syncState.isNewAuth(n.value)?(this.authenticate(n.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:n.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const n=this.decodeToken(t);if(!n){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:s,exp:i}=n;if(!s||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const o=i-s;if(o<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let a=Math.min(W3,(o-this.refreshTokenLeewaySeconds)*1e3);a<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${o}s`),a=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},a);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${a}ms`)}async fetchTokenAndGuardAgainstRace(t,n){const s=++this.configVersion;this._logVerbose(`fetching token with config version ${s}`);const i=await t(n);return this.configVersion!==s?(this._logVerbose(`stale config version, expected ${s}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const n=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(n)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return B3(t)}catch(n){return this._logVerbose(`Error decoding token: ${n instanceof Error?n.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const G3=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Q3(e,t){const n={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:n})}function Y3(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function K3(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const n of G3){const s=performance.getEntriesByName(n).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...s)}return t.map(Y3)}var X3=Object.defineProperty,J3=(e,t,n)=>t in e?X3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t,n)=>J3(e,typeof t!="symbol"?t+"":t,n);class Z3{constructor(t,n,s){if(Et(this,"address"),Et(this,"state"),Et(this,"requestManager"),Et(this,"webSocketManager"),Et(this,"authenticationManager"),Et(this,"remoteQuerySet"),Et(this,"optimisticQueryResults"),Et(this,"_transitionHandlerCounter",0),Et(this,"_nextRequestId"),Et(this,"_onTransitionFns",new Map),Et(this,"_sessionId"),Et(this,"firstMessageReceived",!1),Et(this,"debug"),Et(this,"logger"),Et(this,"maxObservedTimestamp"),Et(this,"mark",m=>{this.debug&&Q3(m,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(s==null?void 0:s.skipConvexDeploymentUrlCheck)!==!0&&z6(t),s={...s};const i=s.authRefreshTokenLeewaySeconds??2;let o=s.webSocketConstructor;if(!o&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");o=o||WebSocket,this.debug=s.reportDebugInfoToConvex??!1,this.address=t,this.logger=s.logger===!1?x2({verbose:s.verbose??!1}):s.logger!==!0&&s.logger?s.logger:g2({verbose:s.verbose??!1});const a=t.search("://");if(a===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(a+3),c=t.substring(0,a);let d;if(c==="http")d="ws";else if(c==="https")d="wss";else throw new Error(`Unknown parent protocol ${c}`);const h=`${d}://${l}/api/${M0}/sync`;this.state=new c3,this.remoteQuerySet=new I0(m=>this.state.queryPath(m),this.logger),this.requestManager=new h3(this.logger),this.authenticationManager=new H3(this.state,{authenticate:m=>{const p=this.state.setAuth(m);return this.webSocketManager.sendMessage(p),p.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:()=>{this.webSocketManager.pause(),this.state.pause()},resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new j3,this.addOnTransitionHandler(m=>{n(m.queries.map(p=>p.token))}),this._nextRequestId=0,this._sessionId=_3();const{unsavedChangesWarning:u}=s;if(typeof window>"u"||typeof window.addEventListener>"u"){if(u===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else u!==!1&&window.addEventListener("beforeunload",m=>{if(this.requestManager.hasIncompleteRequests()){m.preventDefault();const p="Are you sure you want to leave? Your changes may not be saved.";return(m||window.event).returnValue=p,p}});this.webSocketManager=new F3(h,{onOpen:m=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...m,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const p=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new I0(w=>this.state.queryPath(w),this.logger);const[v,g]=this.state.restart(p);g&&this.webSocketManager.sendMessage(g),this.webSocketManager.sendMessage(v);for(const w of this.requestManager.restart())this.webSocketManager.sendMessage(w)},onResume:()=>{const[m,p]=this.state.resume();p&&this.webSocketManager.sendMessage(p),m&&this.webSocketManager.sendMessage(m);for(const v of this.requestManager.resume())this.webSocketManager.sendMessage(v)},onMessage:m=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),m.type){case"Transition":{this.observedTimestamp(m.endVersion.ts),this.authenticationManager.onTransition(m),this.remoteQuerySet.transition(m),this.state.transition(m);const p=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(p);break}case"MutationResponse":{m.success&&this.observedTimestamp(m.ts);const p=this.requestManager.onResponse(m);p!==null&&this.notifyOnQueryResultChanges(new Map([[p.requestId,p.result]]));break}case"ActionResponse":{this.requestManager.onResponse(m);break}case"AuthError":{this.authenticationManager.onAuthError(m);break}case"FatalError":{const p=o3(this.logger,m.error);throw this.webSocketManager.terminate(),p}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:s.onServerDisconnectError},o,this.logger),this.mark("convexClientConstructed")}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const n=this.remoteQuerySet.remoteQueryResults(),s=new Map;for(const[o,a]of n){const l=this.state.queryToken(o);if(l!==null){const c={result:a,udfPath:this.state.queryPath(o),args:this.state.queryArgs(o)};s.set(l,c)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(s,new Set(t.keys()));this.handleTransition({queries:i.map(o=>{const a=this.optimisticQueryResults.rawQueryResult(o);return{token:o,modification:{kind:"Updated",result:a.result}}}),reflectedMutations:Array.from(t).map(([o,a])=>({requestId:o,result:a})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const n of this._onTransitionFns.values())n(t)}addOnTransitionHandler(t){const n=this._transitionHandlerCounter++;return this._onTransitionFns.set(n,t),()=>this._onTransitionFns.delete(n)}setAuth(t,n){this.authenticationManager.setConfig(t,n)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,n){const s=this.state.setAdminAuth(t,n);this.webSocketManager.sendMessage(s)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,n,s){const i=jr(n),{modification:o,queryToken:a,unsubscribe:l}=this.state.subscribe(t,i,s==null?void 0:s.journal,s==null?void 0:s.componentPath);return o!==null&&this.webSocketManager.sendMessage(o),{queryToken:a,unsubscribe:()=>{const c=l();c&&this.webSocketManager.sendMessage(c)}}}localQueryResult(t,n){const s=jr(n),i=Js(t,s);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,n){const s=jr(n),i=Js(t,s);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,n){const s=jr(n),i=Js(t,s);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}async mutation(t,n,s){const i=await this.mutationInternal(t,n,s);if(!i.success)throw i.errorData!==void 0?Vf(i,new $f(Wi("mutation",t,i))):new Error(Wi("mutation",t,i));return i.value}async mutationInternal(t,n,s,i){const{mutationPromise:o}=this.enqueueMutation(t,n,s,i);return o}enqueueMutation(t,n,s,i){const o=jr(n);this.tryReportLongDisconnect();const a=this.nextRequestId;if(this._nextRequestId++,s!==void 0){const h=s.optimisticUpdate;if(h!==void 0){const u=v=>{h(v,o)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},p=this.optimisticQueryResults.applyOptimisticUpdate(u,a).map(v=>{const g=this.localQueryResultByToken(v);return{token:v,modification:{kind:"Updated",result:g===void 0?void 0:{success:!0,value:g,logLines:[]}}}});this.handleTransition({queries:p,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:a,udfPath:t,componentPath:i,args:[Ns(o)]},c=this.webSocketManager.sendMessage(l),d=this.requestManager.request(l,c);return{requestId:a,mutationPromise:d}}async action(t,n){const s=await this.actionInternal(t,n);if(!s.success)throw s.errorData!==void 0?Vf(s,new $f(Wi("action",t,s))):new Error(Wi("action",t,s));return s.value}async actionInternal(t,n,s){const i=jr(n),o=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const a={type:"Action",requestId:o,udfPath:t,componentPath:s,args:[Ns(i)]},l=this.webSocketManager.sendMessage(a);return this.requestManager.request(a,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=K3(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const n=`${this.address}/api/debug_event`;fetch(n,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${M0}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(s=>{s.ok||this.logger.warn("Analytics request failed with response:",s.body)}).catch(s=>{this.logger.warn("Analytics response failed with error:",s)})}}var e$=Object.defineProperty,t$=(e,t,n)=>t in e?e$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ur=(e,t,n)=>t$(e,typeof t!="symbol"?t+"":t,n);if(typeof ce>"u")throw new Error("Required dependency 'react' not found");function w2(e,t,n){function s(i){return i$(i),t.mutation(e,i,{optimisticUpdate:n})}return s.withOptimisticUpdate=function(o){if(n!==void 0)throw new Error(`Already specified optimistic update for mutation ${cn(e)}`);return w2(e,t,o)},s}class n${constructor(t,n){if(Ur(this,"address"),Ur(this,"cachedSync"),Ur(this,"listeners"),Ur(this,"options"),Ur(this,"closed",!1),Ur(this,"_logger"),Ur(this,"adminAuth"),Ur(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(n==null?void 0:n.logger)===!1?x2({verbose:(n==null?void 0:n.verbose)??!1}):(n==null?void 0:n.logger)!==!0&&(n!=null&&n.logger)?n.logger:g2({verbose:(n==null?void 0:n.verbose)??!1}),this.options={...n,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new Z3(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,n){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,n??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,n){if(this.adminAuth=t,this.fakeUserIdentity=n,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,n)}watchQuery(t,...n){const[s,i]=n,o=cn(t);return{onUpdate:a=>{const{queryToken:l,unsubscribe:c}=this.sync.subscribe(o,s,i),d=this.listeners.get(l);return d!==void 0?d.add(a):this.listeners.set(l,new Set([a])),()=>{if(this.closed)return;const h=this.listeners.get(l);h.delete(a),h.size===0&&this.listeners.delete(l),c()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(o,s)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(o,s)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(o,s)}}}mutation(t,...n){const[s,i]=n,o=cn(t);return this.sync.mutation(o,s,i)}action(t,...n){const s=cn(t);return this.sync.action(s,...n)}query(t,...n){const s=this.watchQuery(t,...n),i=s.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((o,a)=>{const l=s.onUpdate(()=>{l();try{o(s.localQueryResult())}catch(c){a(c)}})})}connectionState(){return this.sync.connectionState()}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const n of t){const s=this.listeners.get(n);if(s)for(const i of s)i()}}}const tx=ce.createContext(void 0);function r$(){return f.useContext(tx)}const s$=({client:e,children:t})=>ce.createElement(tx.Provider,{value:e},t);function Cn(e,...t){const n=t[0]==="skip",s=t[0]==="skip"?{}:jr(t[0]),i=typeof e=="string"?v2(e):e,o=cn(i),a=f.useMemo(()=>n?{}:{query:{query:i,args:s}},[JSON.stringify(Ns(s)),o,n]),c=d$(a).query;if(c instanceof Error)throw c;return c}function xt(e){const t=typeof e=="string"?v2(e):e,n=f.useContext(tx);if(n===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return f.useMemo(()=>w2(t,n),[n,cn(t)])}function i$(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var o$=Object.defineProperty,a$=(e,t,n)=>t in e?o$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zh=(e,t,n)=>a$(e,typeof t!="symbol"?t+"":t,n);class l${constructor(t){zh(this,"createWatch"),zh(this,"queries"),zh(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const n of Object.keys(t)){const{query:s,args:i}=t[n];if(cn(s),this.queries[n]===void 0)this.addQuery(n,s,i);else{const o=this.queries[n];(cn(s)!==cn(o.query)||JSON.stringify(Ns(i))!==JSON.stringify(Ns(o.args)))&&(this.removeQuery(n),this.addQuery(n,s,i))}}for(const n of Object.keys(this.queries))t[n]===void 0&&this.removeQuery(n)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const n={};for(const s of Object.keys(t)){const{query:i,args:o}=t[s];cn(i);const a=this.createWatch(i,o);let l;try{l=a.localQueryResult()}catch(c){if(c instanceof Error)l=c;else throw c}n[s]=l}return n}setCreateWatch(t){this.createWatch=t;for(const n of Object.keys(this.queries)){const{query:s,args:i,watch:o}=this.queries[n],a=o.journal();this.removeQuery(n),this.addQuery(n,s,i,a)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,n,s,i){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(n,s,i),a=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:n,args:s,watch:o,unsubscribe:a}}removeQuery(t){const n=this.queries[t];if(n===void 0)throw new Error(`No query found with identifier ${t}.`);n.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function c$({getCurrentValue:e,subscribe:t}){const[n,s]=f.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=n.value;return(n.getCurrentValue!==e||n.subscribe!==t)&&(i=e(),s({getCurrentValue:e,subscribe:t,value:i})),f.useEffect(()=>{let o=!1;const a=()=>{o||s(c=>{if(c.getCurrentValue!==e||c.subscribe!==t)return c;const d=e();return c.value===d?c:{...c,value:d}})},l=t(a);return a(),()=>{o=!0,l()}},[e,t]),i}function d$(e){const t=r$();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const n=f.useMemo(()=>(s,i,o)=>t.watchQuery(s,i,{journal:o}),[t]);return u$(e,n)}function u$(e,t){const[n]=f.useState(()=>new l$(t));n.createWatch!==t&&n.setCreateWatch(t),f.useEffect(()=>()=>n.destroy(),[n]);const s=f.useMemo(()=>({getCurrentValue:()=>n.getLocalResults(e),subscribe:i=>(n.setQueries(e),n.subscribe(i))}),[n,e]);return c$(s)}const Fe=x3,b2=f.createContext({}),bl=()=>{const e=f.useContext(b2);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},h$=({children:e})=>{const[t,n]=f.useState(null),[s,i]=f.useState(!0),[o,a]=f.useState(null),l=xt(Fe.users.authenticateUser),c=xt(Fe.users.createUser);f.useEffect(()=>{const v=localStorage.getItem("userEmail");v&&a(v),i(!1)},[]);const d=Cn(Fe.users.authenticateUser,o?{email:o}:"skip");f.useEffect(()=>{d&&n(d.user)},[d]);const p={user:t,loading:s,signIn:async v=>{try{const g=await l({email:v});return g?(localStorage.setItem("userEmail",v),a(v),n(g.user),{success:!0}):{success:!1,error:"User not found"}}catch(g){return console.error("Sign in error:",g),{success:!1,error:g.message}}},signUp:async v=>{try{const g=await c(v);if(g){localStorage.setItem("userEmail",v.email),a(v.email);const w=await l({email:v.email});return w&&n(w.user),{success:!0,userId:g}}}catch(g){return console.error("Sign up error:",g),{success:!1,error:g.message}}},signOut:()=>{localStorage.removeItem("userEmail"),a(null),n(null)},isAuthenticated:!!t};return r.jsx(b2.Provider,{value:p,children:e})};var Tu="Dialog",[S2,E9]=En(Tu),[m$,Gn]=S2(Tu),N2=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,h]=Or({prop:s,defaultProp:i??!1,onChange:o,caller:Tu});return r.jsx(m$,{scope:t,triggerRef:l,contentRef:c,contentId:qn(),titleId:qn(),descriptionId:qn(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(u=>!u),[h]),modal:a,children:n})};N2.displayName=Tu;var C2="DialogTrigger",f$=f.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gn(C2,n),o=Oe(t,i.triggerRef);return r.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sx(i.open),...s,ref:o,onClick:ie(e.onClick,i.onOpenToggle)})});f$.displayName=C2;var nx="DialogPortal",[p$,k2]=S2(nx,{forceMount:void 0}),P2=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,o=Gn(nx,t);return r.jsx(p$,{scope:t,forceMount:n,children:f.Children.map(s,a=>r.jsx(xn,{present:n||o.open,children:r.jsx(Mo,{asChild:!0,container:i,children:a})}))})};P2.displayName=nx;var Dd="DialogOverlay",D2=f.forwardRef((e,t)=>{const n=k2(Dd,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=Gn(Dd,e.__scopeDialog);return o.modal?r.jsx(xn,{present:s||o.open,children:r.jsx(x$,{...i,ref:t})}):null});D2.displayName=Dd;var g$=xs("DialogOverlay.RemoveScroll"),x$=f.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gn(Dd,n);return r.jsx(Nu,{as:g$,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(ge.div,{"data-state":sx(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ci="DialogContent",T2=f.forwardRef((e,t)=>{const n=k2(ci,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=Gn(ci,e.__scopeDialog);return r.jsx(xn,{present:s||o.open,children:o.modal?r.jsx(v$,{...i,ref:t}):r.jsx(y$,{...i,ref:t})})});T2.displayName=ci;var v$=f.forwardRef((e,t)=>{const n=Gn(ci,e.__scopeDialog),s=f.useRef(null),i=Oe(t,n.contentRef,s);return f.useEffect(()=>{const o=s.current;if(o)return bu(o)},[]),r.jsx(M2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,o=>o.preventDefault())})}),y$=f.forwardRef((e,t)=>{const n=Gn(ci,e.__scopeDialog),s=f.useRef(!1),i=f.useRef(!1);return r.jsx(M2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),M2=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,l=Gn(ci,n),c=f.useRef(null),d=Oe(t,c);return gu(),r.jsxs(r.Fragment,{children:[r.jsx(gl,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(ko,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sx(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(j$,{titleId:l.titleId}),r.jsx(b$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rx="DialogTitle",E2=f.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gn(rx,n);return r.jsx(ge.h2,{id:i.titleId,...s,ref:t})});E2.displayName=rx;var A2="DialogDescription",R2=f.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gn(A2,n);return r.jsx(ge.p,{id:i.descriptionId,...s,ref:t})});R2.displayName=A2;var I2="DialogClose",O2=f.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Gn(I2,n);return r.jsx(ge.button,{type:"button",...s,ref:t,onClick:ie(e.onClick,()=>i.onOpenChange(!1))})});O2.displayName=I2;function sx(e){return e?"open":"closed"}var L2="DialogTitleWarning",[A9,F2]=n5(L2,{contentName:ci,titleName:rx,docsSlug:"dialog"}),j$=({titleId:e})=>{const t=F2(L2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},w$="DialogDescriptionWarning",b$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F2(w$).contentName}}.`;return f.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},S$=N2,N$=P2,_2=D2,$2=T2,V2=E2,q2=R2,C$=O2;const tt=S$,k$=N$,B2=ce.forwardRef(({className:e,...t},n)=>r.jsx(_2,{ref:n,className:ue("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));B2.displayName=_2.displayName;const Ke=ce.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(k$,{children:[r.jsx(B2,{}),r.jsxs($2,{ref:s,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(C$,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(yb,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ke.displayName=$2.displayName;const Xe=({className:e,...t})=>r.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xe.displayName="DialogHeader";const wt=({className:e,...t})=>r.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wt.displayName="DialogFooter";const Je=ce.forwardRef(({className:e,...t},n)=>r.jsx(V2,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",e),...t}));Je.displayName=V2.displayName;const ut=ce.forwardRef(({className:e,...t},n)=>r.jsx(q2,{ref:n,className:ue("text-sm text-muted-foreground",e),...t}));ut.displayName=q2.displayName;const $=ce.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));$.displayName="Input";const we=ce.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));we.displayName="Textarea";function L0(e,[t,n]){return Math.min(n,Math.max(t,e))}function U2(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var P$=[" ","Enter","ArrowUp","ArrowDown"],D$=[" ","Enter"],di="Select",[Mu,Eu,T$]=fu(di),[Eo,R9]=En(di,[T$,To]),Au=To(),[M$,Es]=Eo(di),[E$,A$]=Eo(di),z2=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:u,disabled:m,required:p,form:v}=e,g=Au(t),[w,j]=f.useState(null),[y,x]=f.useState(null),[b,N]=f.useState(!1),M=pu(d),[S,k]=Or({prop:s,defaultProp:i??!1,onChange:o,caller:di}),[R,P]=Or({prop:a,defaultProp:l,onChange:c,caller:di}),D=f.useRef(null),C=w?v||!!w.closest("form"):!0,[T,I]=f.useState(new Set),W=Array.from(T).map(L=>L.props.value).join(";");return r.jsx(Vg,{...g,children:r.jsxs(M$,{required:p,scope:t,trigger:w,onTriggerChange:j,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:qn(),value:R,onValueChange:P,open:S,onOpenChange:k,dir:M,triggerPointerDownPosRef:D,disabled:m,children:[r.jsx(Mu.Provider,{scope:t,children:r.jsx(E$,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(L=>{I(V=>new Set(V).add(L))},[]),onNativeOptionRemove:f.useCallback(L=>{I(V=>{const A=new Set(V);return A.delete(L),A})},[]),children:n})}),C?r.jsxs(fk,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:u,value:R,onChange:L=>P(L.target.value),disabled:m,form:v,children:[R===void 0?r.jsx("option",{value:""}):null,Array.from(T)]},W):null]})})};z2.displayName=di;var W2="SelectTrigger",H2=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,o=Au(n),a=Es(W2,n),l=a.disabled||s,c=Oe(t,a.onTriggerChange),d=Eu(n),h=f.useRef("touch"),[u,m,p]=gk(g=>{const w=d().filter(x=>!x.disabled),j=w.find(x=>x.value===a.value),y=xk(w,g,j);y!==void 0&&a.onValueChange(y.value)}),v=g=>{l||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(ju,{asChild:!0,...o,children:r.jsx(ge.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pk(a.value)?"":void 0,...i,ref:c,onClick:ie(i.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&v(g)}),onPointerDown:ie(i.onPointerDown,g=>{h.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ie(i.onKeyDown,g=>{const w=u.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(w&&g.key===" ")&&P$.includes(g.key)&&(v(),g.preventDefault())})})})});H2.displayName=W2;var G2="SelectValue",Q2=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:o,placeholder:a="",...l}=e,c=Es(G2,n),{onValueNodeHasChildrenChange:d}=c,h=o!==void 0,u=Oe(t,c.onValueNodeChange);return pt(()=>{d(h)},[d,h]),r.jsx(ge.span,{...l,ref:u,style:{pointerEvents:"none"},children:pk(c.value)?r.jsx(r.Fragment,{children:a}):o})});Q2.displayName=G2;var R$="SelectIcon",Y2=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(ge.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});Y2.displayName=R$;var I$="SelectPortal",K2=e=>r.jsx(Mo,{asChild:!0,...e});K2.displayName=I$;var ui="SelectContent",X2=f.forwardRef((e,t)=>{const n=Es(ui,e.__scopeSelect),[s,i]=f.useState();if(pt(()=>{i(new DocumentFragment)},[]),!n.open){const o=s;return o?pi.createPortal(r.jsx(J2,{scope:e.__scopeSelect,children:r.jsx(Mu.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx(Z2,{...e,ref:t})});X2.displayName=ui;var In=10,[J2,As]=Eo(ui),O$="SelectContentImpl",L$=xs("SelectContent.RemoveScroll"),Z2=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:w,...j}=e,y=Es(ui,n),[x,b]=f.useState(null),[N,M]=f.useState(null),S=Oe(t,ae=>b(ae)),[k,R]=f.useState(null),[P,D]=f.useState(null),C=Eu(n),[T,I]=f.useState(!1),W=f.useRef(!1);f.useEffect(()=>{if(x)return bu(x)},[x]),gu();const L=f.useCallback(ae=>{const[Me,...Ee]=C().map(Le=>Le.ref.current),[Ne]=Ee.slice(-1),Ce=document.activeElement;for(const Le of ae)if(Le===Ce||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===Me&&N&&(N.scrollTop=0),Le===Ne&&N&&(N.scrollTop=N.scrollHeight),Le==null||Le.focus(),document.activeElement!==Ce))return},[C,N]),V=f.useCallback(()=>L([k,x]),[L,k,x]);f.useEffect(()=>{T&&V()},[T,V]);const{onOpenChange:A,triggerPointerDownPosRef:F}=y;f.useEffect(()=>{if(x){let ae={x:0,y:0};const Me=Ne=>{var Ce,Le;ae={x:Math.abs(Math.round(Ne.pageX)-(((Ce=F.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((Le=F.current)==null?void 0:Le.y)??0))}},Ee=Ne=>{ae.x<=10&&ae.y<=10?Ne.preventDefault():x.contains(Ne.target)||A(!1),document.removeEventListener("pointermove",Me),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[x,A,F]),f.useEffect(()=>{const ae=()=>A(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[A]);const[J,H]=gk(ae=>{const Me=C().filter(Ce=>!Ce.disabled),Ee=Me.find(Ce=>Ce.ref.current===document.activeElement),Ne=xk(Me,ae,Ee);Ne&&setTimeout(()=>Ne.ref.current.focus())}),re=f.useCallback((ae,Me,Ee)=>{const Ne=!W.current&&!Ee;(y.value!==void 0&&y.value===Me||Ne)&&(R(ae),Ne&&(W.current=!0))},[y.value]),he=f.useCallback(()=>x==null?void 0:x.focus(),[x]),q=f.useCallback((ae,Me,Ee)=>{const Ne=!W.current&&!Ee;(y.value!==void 0&&y.value===Me||Ne)&&D(ae)},[y.value]),me=s==="popper"?qf:ek,oe=me===qf?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:w}:{};return r.jsx(J2,{scope:n,content:x,viewport:N,onViewportChange:M,itemRefCallback:re,selectedItem:k,onItemLeave:he,itemTextRefCallback:q,focusSelectedItem:V,selectedItemText:P,position:s,isPositioned:T,searchRef:J,children:r.jsx(Nu,{as:L$,allowPinchZoom:!0,children:r.jsx(gl,{asChild:!0,trapped:y.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:ie(i,ae=>{var Me;(Me=y.trigger)==null||Me.focus({preventScroll:!0}),ae.preventDefault()}),children:r.jsx(ko,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(me,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ae=>ae.preventDefault(),...j,...oe,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:ie(j.onKeyDown,ae=>{const Me=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Me&&ae.key.length===1&&H(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ne=C().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ce=ae.target,Le=Ne.indexOf(Ce);Ne=Ne.slice(Le+1)}setTimeout(()=>L(Ne)),ae.preventDefault()}})})})})})})});Z2.displayName=O$;var F$="SelectItemAlignedPosition",ek=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,o=Es(ui,n),a=As(ui,n),[l,c]=f.useState(null),[d,h]=f.useState(null),u=Oe(t,S=>h(S)),m=Eu(n),p=f.useRef(!1),v=f.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:j,focusSelectedItem:y}=a,x=f.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&g&&w&&j){const S=o.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),P=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ce=P.left-k.left,Le=R.left-Ce,rn=S.left-Le,Qn=S.width+rn,Ao=Math.max(Qn,k.width),Ro=window.innerWidth-In,Io=L0(Le,[In,Math.max(In,Ro-Ao)]);l.style.minWidth=Qn+"px",l.style.left=Io+"px"}else{const Ce=k.right-P.right,Le=window.innerWidth-R.right-Ce,rn=window.innerWidth-S.right-Le,Qn=S.width+rn,Ao=Math.max(Qn,k.width),Ro=window.innerWidth-In,Io=L0(Le,[In,Math.max(In,Ro-Ao)]);l.style.minWidth=Qn+"px",l.style.right=Io+"px"}const D=m(),C=window.innerHeight-In*2,T=g.scrollHeight,I=window.getComputedStyle(d),W=parseInt(I.borderTopWidth,10),L=parseInt(I.paddingTop,10),V=parseInt(I.borderBottomWidth,10),A=parseInt(I.paddingBottom,10),F=W+L+T+A+V,J=Math.min(w.offsetHeight*5,F),H=window.getComputedStyle(g),re=parseInt(H.paddingTop,10),he=parseInt(H.paddingBottom,10),q=S.top+S.height/2-In,me=C-q,oe=w.offsetHeight/2,ae=w.offsetTop+oe,Me=W+L+ae,Ee=F-Me;if(Me<=q){const Ce=D.length>0&&w===D[D.length-1].ref.current;l.style.bottom="0px";const Le=d.clientHeight-g.offsetTop-g.offsetHeight,rn=Math.max(me,oe+(Ce?he:0)+Le+V),Qn=Me+rn;l.style.height=Qn+"px"}else{const Ce=D.length>0&&w===D[0].ref.current;l.style.top="0px";const rn=Math.max(q,W+g.offsetTop+(Ce?re:0)+oe)+Ee;l.style.height=rn+"px",g.scrollTop=Me-q+g.offsetTop}l.style.margin=`${In}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=C+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,l,d,g,w,j,o.dir,s]);pt(()=>x(),[x]);const[b,N]=f.useState();pt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const M=f.useCallback(S=>{S&&v.current===!0&&(x(),y==null||y(),v.current=!1)},[x,y]);return r.jsx($$,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:r.jsx(ge.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ek.displayName=F$;var _$="SelectPopperPosition",qf=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=In,...o}=e,a=Au(n);return r.jsx(qg,{...a,...o,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qf.displayName=_$;var[$$,ix]=Eo(ui,{}),Bf="SelectViewport",tk=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,o=As(Bf,n),a=ix(Bf,n),l=Oe(t,o.onViewportChange),c=f.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Mu.Slot,{scope:n,children:r.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ie(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&u){const p=Math.abs(c.current-h.scrollTop);if(p>0){const v=window.innerHeight-In*2,g=parseFloat(u.style.minHeight),w=parseFloat(u.style.height),j=Math.max(g,w);if(j<v){const y=j+p,x=Math.min(v,y),b=y-x;u.style.height=x+"px",u.style.bottom==="0px"&&(h.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});tk.displayName=Bf;var nk="SelectGroup",[V$,q$]=Eo(nk),B$=f.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=qn();return r.jsx(V$,{scope:n,id:i,children:r.jsx(ge.div,{role:"group","aria-labelledby":i,...s,ref:t})})});B$.displayName=nk;var rk="SelectLabel",sk=f.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=q$(rk,n);return r.jsx(ge.div,{id:i.id,...s,ref:t})});sk.displayName=rk;var Td="SelectItem",[U$,ik]=Eo(Td),ok=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:o,...a}=e,l=Es(Td,n),c=As(Td,n),d=l.value===s,[h,u]=f.useState(o??""),[m,p]=f.useState(!1),v=Oe(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,s,i)}),g=qn(),w=f.useRef("touch"),j=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(U$,{scope:n,value:s,disabled:i,textId:g,isSelected:d,onItemTextChange:f.useCallback(y=>{u(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:r.jsx(Mu.ItemSlot,{scope:n,value:s,disabled:i,textValue:h,children:r.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:ie(a.onFocus,()=>p(!0)),onBlur:ie(a.onBlur,()=>p(!1)),onClick:ie(a.onClick,()=>{w.current!=="mouse"&&j()}),onPointerUp:ie(a.onPointerUp,()=>{w.current==="mouse"&&j()}),onPointerDown:ie(a.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:ie(a.onPointerMove,y=>{var x;w.current=y.pointerType,i?(x=c.onItemLeave)==null||x.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(a.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:ie(a.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(D$.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});ok.displayName=Td;var oa="SelectItemText",ak=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...o}=e,a=Es(oa,n),l=As(oa,n),c=ik(oa,n),d=A$(oa,n),[h,u]=f.useState(null),m=Oe(t,j=>u(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),p=h==null?void 0:h.textContent,v=f.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return pt(()=>(g(v),()=>w(v)),[g,w,v]),r.jsxs(r.Fragment,{children:[r.jsx(ge.span,{id:c.textId,...o,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?pi.createPortal(o.children,a.valueNode):null]})});ak.displayName=oa;var lk="SelectItemIndicator",ck=f.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return ik(lk,n).isSelected?r.jsx(ge.span,{"aria-hidden":!0,...s,ref:t}):null});ck.displayName=lk;var Uf="SelectScrollUpButton",dk=f.forwardRef((e,t)=>{const n=As(Uf,e.__scopeSelect),s=ix(Uf,e.__scopeSelect),[i,o]=f.useState(!1),a=Oe(t,s.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(hk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});dk.displayName=Uf;var zf="SelectScrollDownButton",uk=f.forwardRef((e,t)=>{const n=As(zf,e.__scopeSelect),s=ix(zf,e.__scopeSelect),[i,o]=f.useState(!1),a=Oe(t,s.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;o(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?r.jsx(hk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uk.displayName=zf;var hk=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,o=As("SelectScrollButton",n),a=f.useRef(null),l=Eu(n),c=f.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),pt(()=>{var h;const d=l().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),r.jsx(ge.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ie(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:ie(i.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:ie(i.onPointerLeave,()=>{c()})})}),z$="SelectSeparator",mk=f.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(ge.div,{"aria-hidden":!0,...s,ref:t})});mk.displayName=z$;var Wf="SelectArrow",W$=f.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Au(n),o=Es(Wf,n),a=As(Wf,n);return o.open&&a.position==="popper"?r.jsx(Bg,{...i,...s,ref:t}):null});W$.displayName=Wf;var H$="SelectBubbleInput",fk=f.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const i=f.useRef(null),o=Oe(s,i),a=U2(t);return f.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const u=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(u)}},[a,t]),r.jsx(ge.select,{...n,style:{..._C,...n.style},ref:o,defaultValue:t})});fk.displayName=H$;function pk(e){return e===""||e===void 0}function gk(e){const t=zt(e),n=f.useRef(""),s=f.useRef(0),i=f.useCallback(a=>{const l=n.current+a;t(l),function c(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,o]}function xk(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=G$(e,Math.max(o,0));i.length===1&&(a=a.filter(d=>d!==n));const c=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function G$(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Q$=z2,vk=H2,Y$=Q2,K$=Y2,X$=K2,yk=X2,J$=tk,jk=sk,wk=ok,Z$=ak,e8=ck,bk=dk,Sk=uk,Nk=mk;const te=Q$,ne=Y$,Z=ce.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(vk,{ref:s,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,r.jsx(K$,{asChild:!0,children:r.jsx(Zp,{className:"h-4 w-4 opacity-50"})})]}));Z.displayName=vk.displayName;const Ck=ce.forwardRef(({className:e,...t},n)=>r.jsx(bk,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(sb,{className:"h-4 w-4"})}));Ck.displayName=bk.displayName;const kk=ce.forwardRef(({className:e,...t},n)=>r.jsx(Sk,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Zp,{className:"h-4 w-4"})}));kk.displayName=Sk.displayName;const ee=ce.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(X$,{children:r.jsxs(yk,{ref:i,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(Ck,{}),r.jsx(J$,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(kk,{})]})}));ee.displayName=yk.displayName;const t8=ce.forwardRef(({className:e,...t},n)=>r.jsx(jk,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));t8.displayName=jk.displayName;const _=ce.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(wk,{ref:s,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(e8,{children:r.jsx(Jp,{className:"h-4 w-4"})})}),r.jsx(Z$,{children:t})]}));_.displayName=wk.displayName;const n8=ce.forwardRef(({className:e,...t},n)=>r.jsx(Nk,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",e),...t}));n8.displayName=Nk.displayName;var r8="Label",Pk=f.forwardRef((e,t)=>r.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Pk.displayName=r8;var Dk=Pk;const s8=Yp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=ce.forwardRef(({className:e,...t},n)=>r.jsx(Dk,{ref:n,className:ue(s8(),e),...t}));E.displayName=Dk.displayName;function i8(e,t){const n=localStorage.getItem(e);try{return n?JSON.parse(n):t}catch(s){return console.error("Error parsing localStorage key:",e,s),t}}const je=(e,t)=>{const[n,s]=f.useState(()=>i8(e,t));return f.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(n))}catch(i){console.error("Error setting localStorage key:",e,i)}},[e,n]),[n,s]},o8=({onSubmit:e,onCancel:t})=>{const[n,s]=f.useState(""),[i,o]=f.useState(""),[a,l]=f.useState("Medium"),[c,d]=f.useState("All Sites"),{toast:h}=fe(),u=m=>{if(m.preventDefault(),!n||!i){h({variant:"destructive",title:"Missing Fields",description:"Title and Message are required for an alert."});return}e({id:`ALERT-${Date.now()}`,title:n,message:i,severity:a,target:c,timestamp:new Date().toISOString(),status:"Active"})};return r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-title",children:"Alert Title"}),r.jsx($,{id:"alert-title",value:n,onChange:m=>s(m.target.value),placeholder:"e.g., Critical Weather Warning"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-message",children:"Message"}),r.jsx(we,{id:"alert-message",value:i,onChange:m=>o(m.target.value),placeholder:"Detailed alert message...",rows:4})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-severity",children:"Severity"}),r.jsxs(te,{value:a,onValueChange:l,children:[r.jsx(Z,{id:"alert-severity",children:r.jsx(ne,{placeholder:"Select Severity"})}),r.jsxs(ee,{children:[r.jsxs(_,{value:"Critical",children:[r.jsx(ys,{className:"inline h-4 w-4 mr-2 text-red-600"}),"Critical"]}),r.jsxs(_,{value:"High",children:[r.jsx(be,{className:"inline h-4 w-4 mr-2 text-orange-500"}),"High"]}),r.jsxs(_,{value:"Medium",children:[r.jsx(su,{className:"inline h-4 w-4 mr-2 text-yellow-500"}),"Medium"]}),r.jsx(_,{value:"Low",children:"Low"})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-target",children:"Target Audience/Sites"}),r.jsx($,{id:"alert-target",value:c,onChange:m=>d(m.target.value),placeholder:"e.g., All Sites, Sector B, MEP Team"})]})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Send Alert"})]})]})},a8=()=>{const e=Pt(),{toast:t}=fe(),[n,s]=je("cmsUrgentAlerts",[]),[i,o]=f.useState(!1),a=h=>{s(u=>[h,...u].sort((m,p)=>new Date(p.timestamp)-new Date(m.timestamp))),t({title:"Urgent Alert Sent!",description:`"${h.title}" has been broadcasted.`,variant:h.severity==="Critical"?"destructive":"default"}),o(!1)},l=h=>{switch(h==null?void 0:h.toLowerCase()){case"critical":return"border-red-500 bg-red-500 text-red-50";case"high":return"border-orange-500 bg-orange-500 text-orange-50";case"medium":return"border-yellow-500 bg-yellow-500 text-yellow-900";default:return"border-blue-500 bg-blue-500 text-blue-50"}},c=[{title:"Projects List",description:"Manage all projects.",link:"/projects",icon:lb,color:"bg-gradient-to-br from-blue-500 to-blue-700",textColor:"text-white"},{title:"Setup New Project",description:"Initiate and configure new projects.",link:"/project-setup",icon:yt,color:"bg-gradient-to-br from-green-500 to-green-700",textColor:"text-white"},{title:"Forms Hub",description:"Access all system forms.",link:"/forms-documents",icon:st,color:"bg-gradient-to-br from-indigo-500 to-indigo-700",textColor:"text-white"},{title:"Daily Logs",description:"Record daily site activities.",link:"/daily-logs",icon:rd,color:"bg-gradient-to-br from-teal-500 to-teal-700",textColor:"text-white"}],d=[{title:"Site Manager DB",link:"/dashboard-sitemanager",icon:vs,group:"Dashboards",color:"from-sky-400 to-sky-600"},{title:"Live Map",link:"/live-map-dashboard",icon:rg,group:"Site & Project",color:"from-emerald-400 to-emerald-600"},{title:"Schedules & Tasks",link:"/schedules-tasks",icon:Ba,group:"Site & Project",color:"from-rose-400 to-rose-600"},{title:"Reports",link:"/reports",icon:Kp,group:"Documents",color:"from-slate-400 to-slate-600"},{title:"Personnel Mgmt",link:"/hr-dashboard",icon:Ot,group:"HR & Safety",color:"from-violet-400 to-violet-600"},{title:"Staff Registration",link:"/hr-staff-registration",icon:Ua,group:"HR & Safety",color:"from-purple-400 to-purple-600"},{title:"Attendance App",link:"/hr-attendance",icon:ib,group:"HR & Safety",color:"from-fuchsia-400 to-fuchsia-600"},{title:"Shift Management",link:"/hr-shifts",icon:og,group:"HR & Safety",color:"from-pink-400 to-pink-600"},{title:"Safety & Compliance",link:"/hr-safety",icon:ho,group:"HR & Safety",color:"from-yellow-400 to-yellow-600"},{title:"Materials Inventory",link:"/inventory-dashboard",icon:uo,group:"Inventory",color:"from-lime-400 to-lime-600"},{title:"Equipment Dispatch",link:"/equipment-dispatch",icon:si,group:"Inventory",color:"from-orange-400 to-orange-600"},{title:"Procurement Log",link:"/inventory-procurement-log",icon:hr,group:"Inventory",color:"from-amber-400 to-amber-600"},{title:"Stakeholders Hub",link:"/stakeholder-dashboard",icon:sd,group:"Stakeholders",color:"from-cyan-400 to-cyan-600"},{title:"Contractor Mgt.",link:"/stakeholder-contractor-registration",icon:oi,group:"Stakeholders",color:"from-sky-400 to-sky-600"},{title:"Supplier Portal",link:"/stakeholder-supplier-portal",icon:Xp,group:"Stakeholders",color:"from-blue-400 to-blue-600"},{title:"MOU/NCNDA/Agreements",link:"/legal-agreements",icon:nu,group:"Stakeholders",color:"from-indigo-400 to-indigo-600"},{title:"Fiber Handon Training",link:"/fiber-handon-training",icon:co,group:"Training",color:"from-purple-500 to-purple-700"},{title:"Quality Control",link:"/quality-control",icon:ur,group:"Quality & Comm.",color:"from-green-400 to-green-600"},{title:"Communication",link:"/communication",icon:sg,group:"Quality & Comm.",color:"from-teal-400 to-teal-600"},{title:"AI Tools",link:"/ai-tools",icon:dr,group:"AI & System",color:"from-red-400 to-red-600"},{title:"ERP Integration",link:"/security-settings",icon:cb,group:"AI & System",color:"from-gray-400 to-gray-600"},{title:"Security & Access",link:"/security-settings",icon:ul,group:"AI & System",color:"from-slate-400 to-slate-600"},{title:"Cloud Drive Links",link:"/projects?tab=drive_links",icon:ru,group:"Documents",color:"from-sky-400 to-sky-600"}];return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 bg-slate-100 min-h-screen",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-indigo-600",children:"Construction Management Dashboard"}),r.jsx("p",{className:"text-muted-foreground text-lg",children:"Welcome! Central hub for your construction operations."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:c.map((h,u)=>r.jsx(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:u*.08,type:"spring",stiffness:120},children:r.jsxs(B,{className:`shadow-xl hover:shadow-2xl transition-all duration-300 ${h.color} ${h.textColor} overflow-hidden group hover:scale-105`,children:[r.jsxs(G,{className:"pb-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx(h.icon,{className:"h-10 w-10 opacity-80 group-hover:opacity-100 transition-opacity"})}),r.jsx(z,{className:"text-2xl font-semibold pt-3",children:h.title})]}),r.jsx(Q,{className:"pb-4 min-h-[50px]",children:r.jsx(pe,{className:`${h.textColor} opacity-90 text-sm`,children:h.description})}),r.jsx(ct,{className:"bg-black/10 p-4",children:r.jsx(O,{asChild:!0,variant:"ghost",className:`w-full ${h.textColor} hover:bg-white/20 justify-start`,children:r.jsxs($e,{to:h.link,children:["Access ",h.title.replace("Hub","").replace("Dashboard","").trim(),r.jsx("span",{className:"ml-auto text-xl",children:""})]})})})]})},h.title))}),r.jsxs(B,{className:"mb-8 shadow-xl border-t-4 border-red-600 bg-gradient-to-br from-red-50 via-red-100 to-rose-50",children:[r.jsxs(G,{className:"flex flex-row justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold text-red-700 flex items-center",children:[r.jsx(ys,{className:"mr-3 h-7 w-7 animate-pulse"}),"Urgent Alerts & Notifications"]}),r.jsx(pe,{className:"text-red-600",children:"Critical updates and immediate action items."})]}),r.jsxs(O,{onClick:()=>o(!0),className:"bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," Create Alert"]})]}),r.jsxs(Q,{children:[n.length===0?r.jsx("p",{className:"text-muted-foreground",children:"No urgent alerts at this time. System is operating normally."}):r.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-2",children:n.slice(0,5).map(h=>r.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${l(h.severity)} shadow-md`,children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("h4",{className:"font-semibold",children:[h.title," ",r.jsxs("span",{className:"text-xs opacity-80",children:["(",h.severity,")"]})]}),r.jsx("span",{className:"text-xs opacity-70",children:new Date(h.timestamp).toLocaleString()})]}),r.jsx("p",{className:"text-sm mt-1",children:h.message}),r.jsxs("p",{className:"text-xs opacity-70 mt-1",children:["Target: ",h.target]})]},h.id))}),n.length>5&&r.jsx($e,{to:"/urgent-alerts",className:"text-sm text-primary hover:underline mt-3 block text-right",children:"View All Alerts "})]})]}),r.jsx("h2",{className:"text-2xl font-semibold tracking-tight text-gray-700 mb-4 mt-10",children:"All Modules"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:d.map((h,u)=>r.jsx(de.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:u*.03},children:r.jsx(B,{className:"shadow-lg hover:shadow-xl transition-all duration-300 group cursor-pointer hover:scale-105 bg-white hover:bg-slate-50",onClick:()=>e(h.link),children:r.jsxs(Q,{className:"p-4 flex flex-col items-center text-center",children:[r.jsx("div",{className:`p-3 rounded-full bg-gradient-to-tr ${h.color||"from-slate-400 to-slate-600"} text-white mb-3 shadow-md group-hover:shadow-lg transition-shadow`,children:r.jsx(h.icon,{className:"h-7 w-7"})}),r.jsx("p",{className:"text-sm font-medium text-gray-700 group-hover:text-primary transition-colors",children:h.title}),r.jsx("p",{className:"text-xs text-muted-foreground",children:h.group})]})})},h.title))}),r.jsx(tt,{open:i,onOpenChange:o,children:r.jsxs(Ke,{className:"sm:max-w-lg",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:"Create Urgent Alert"}),r.jsx(ut,{children:"Compose and broadcast an urgent notification. Use responsibly."})]}),r.jsx(o8,{onSubmit:a,onCancel:()=>o(!1)})]})})]})},l8=({onSubmit:e,onCancel:t})=>{const[n,s]=f.useState(""),[i,o]=f.useState(""),[a,l]=f.useState("Medium"),[c,d]=f.useState("All Sites"),{toast:h}=fe(),u=m=>{if(m.preventDefault(),!n||!i){h({variant:"destructive",title:"Missing Fields",description:"Title and Message are required for an alert."});return}e({title:n,message:i,severity:a,target:c,status:"Active"})};return r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-title",children:"Alert Title"}),r.jsx($,{id:"alert-title",value:n,onChange:m=>s(m.target.value),placeholder:"e.g., Critical Weather Warning"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-message",children:"Message"}),r.jsx(we,{id:"alert-message",value:i,onChange:m=>o(m.target.value),placeholder:"Detailed alert message...",rows:4})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-severity",children:"Severity"}),r.jsxs(te,{value:a,onValueChange:l,children:[r.jsx(Z,{id:"alert-severity",children:r.jsx(ne,{placeholder:"Select Severity"})}),r.jsxs(ee,{children:[r.jsxs(_,{value:"Critical",children:[r.jsx(ys,{className:"inline h-4 w-4 mr-2 text-red-600"}),"Critical"]}),r.jsxs(_,{value:"High",children:[r.jsx(be,{className:"inline h-4 w-4 mr-2 text-orange-500"}),"High"]}),r.jsxs(_,{value:"Medium",children:[r.jsx(su,{className:"inline h-4 w-4 mr-2 text-yellow-500"}),"Medium"]}),r.jsx(_,{value:"Low",children:"Low"})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"alert-target",children:"Target Audience/Sites"}),r.jsx($,{id:"alert-target",value:c,onChange:m=>d(m.target.value),placeholder:"e.g., All Sites, Sector B, MEP Team"})]})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Send Alert"})]})]})},c8=()=>{Pt();const{toast:e}=fe(),{user:t}=bl(),n=Cn(Fe.communications.listNotices)||[],s=Cn(Fe.projects.listProjects)||[],i=Cn(Fe.equipment.listEquipment)||[],o=Cn(Fe.attendance.listAttendanceRecords)||[],a=xt(Fe.communications.createNotice),[l,c]=f.useState(!1),d=async m=>{try{await a({title:m.title,content:m.message,noticeType:"Alert",priority:m.severity,targetAudience:m.target,isActive:!0,createdBy:(t==null?void 0:t.userId)||"anonymous"}),e({title:"Urgent Alert Sent!",description:`"${m.title}" has been broadcasted.`,variant:m.severity==="Critical"?"destructive":"default"}),c(!1)}catch{e({variant:"destructive",title:"Failed to Send Alert",description:"Could not broadcast alert. Please try again."})}},h={totalProjects:s.length,activeProjects:s.filter(m=>m.projectStatus==="In Progress").length,completedProjects:s.filter(m=>m.projectStatus==="Completed").length,totalEquipment:i.length,availableEquipment:i.filter(m=>m.status==="Available").length,inUseEquipment:i.filter(m=>m.status==="In Use").length,todayAttendance:o.filter(m=>{const p=new Date().toDateString();return new Date(m.timestamp).toDateString()===p}).length,activeAlerts:n.filter(m=>m.isActive).length},u=[{title:"Site & Project Management",items:[{name:"Setup New Project",icon:yt,path:"/project-setup",color:"bg-blue-500"},{name:"View All Projects",icon:FolderPlus,path:"/projects",color:"bg-blue-600"},{name:"Live Map Dashboard",icon:rg,path:"/live-map-dashboard",color:"bg-green-500"},{name:"Schedules & Tasks",icon:Ba,path:"/schedules-tasks",color:"bg-purple-500"},{name:"Daily Logs",icon:rd,path:"/daily-logs",color:"bg-orange-500"}]},{title:"HR, Attendance & Safety",items:[{name:"HR Dashboard",icon:Ot,path:"/hr-dashboard",color:"bg-cyan-500"},{name:"Staff Registration",icon:Ua,path:"/hr-staff-registration",color:"bg-cyan-600"},{name:"Attendance Tracking",icon:rd,path:"/hr-attendance",color:"bg-green-600"},{name:"Shift Management",icon:Ba,path:"/hr-shifts",color:"bg-blue-700"},{name:"Health & Safety",icon:ho,path:"/hr-safety",color:"bg-red-500"}]},{title:"Inventory & Equipment",items:[{name:"Inventory Dashboard",icon:uo,path:"/inventory-dashboard",color:"bg-amber-500"},{name:"Equipment Dispatch",icon:hr,path:"/equipment-dispatch",color:"bg-amber-600"},{name:"Procurement Log",icon:sd,path:"/inventory-procurement-log",color:"bg-yellow-500"}]},{title:"Stakeholders & Legal",items:[{name:"Stakeholder Dashboard",icon:og,path:"/stakeholder-dashboard",color:"bg-indigo-500"},{name:"Contractor Registration",icon:si,path:"/stakeholder-contractor-registration",color:"bg-indigo-600"},{name:"Supplier Portal",icon:Xp,path:"/stakeholder-supplier-portal",color:"bg-purple-600"},{name:"Legal Agreements",icon:nu,path:"/legal-agreements",color:"bg-gray-600"}]},{title:"Forms & Documents",items:[{name:"Forms Hub",icon:st,path:"/forms-documents",color:"bg-teal-500"},{name:"Purchase Requests",icon:Qe,path:"/forms/purchase-request",color:"bg-green-700"},{name:"Site Inspection",icon:ur,path:"/forms/site-inspection-checklist",color:"bg-blue-800"},{name:"Work Completion",icon:co,path:"/forms/work-completion-report",color:"bg-emerald-600"}]},{title:"System Dashboards",items:[{name:"Site Manager",icon:vs,path:"/dashboard-sitemanager",color:"bg-orange-600"},{name:"Contractor Portal",icon:si,path:"/dashboard-contractor",color:"bg-gray-700"},{name:"Finance Dashboard",icon:Qe,path:"/dashboard-finance",color:"bg-green-800"},{name:"Admin Dashboard",icon:ul,path:"/dashboard-admin",color:"bg-red-600"}]},{title:"Communication & AI",items:[{name:"Communication Hub",icon:sg,path:"/communication",color:"bg-pink-500"},{name:"AI Tools",icon:dr,path:"/ai-tools",color:"bg-violet-500"},{name:"Quality Control",icon:Rr,path:"/quality-control",color:"bg-slate-500"},{name:"Reports",icon:Kp,path:"/reports",color:"bg-stone-500"}]}];return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Construction Management Dashboard"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Streamlined project management and operational oversight"})]}),r.jsxs(O,{onClick:()=>c(!0),className:"bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(ys,{className:"mr-2 h-4 w-4"}),"Send Urgent Alert"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(B,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(z,{className:"text-sm font-medium",children:"Active Projects"}),r.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.activeProjects}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",h.totalProjects," total"]})]})]}),r.jsxs(B,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(z,{className:"text-sm font-medium",children:"Available Equipment"}),r.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.availableEquipment}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",h.totalEquipment," total"]})]})]}),r.jsxs(B,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(z,{className:"text-sm font-medium",children:"Today's Attendance"}),r.jsx(oi,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.todayAttendance}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"clock-ins recorded"})]})]}),r.jsxs(B,{children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(z,{className:"text-sm font-medium",children:"Active Alerts"}),r.jsx(be,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:h.activeAlerts}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"requiring attention"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map((m,p)=>r.jsxs(B,{className:"shadow-lg",children:[r.jsx(G,{children:r.jsx(z,{className:"text-lg font-semibold",children:m.title})}),r.jsx(Q,{className:"space-y-2",children:m.items.map((v,g)=>r.jsx(O,{variant:"ghost",className:"w-full justify-start h-auto p-3 hover:bg-muted",asChild:!0,children:r.jsxs($e,{to:v.path,className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-md ${v.color} text-white`,children:r.jsx(v.icon,{className:"h-4 w-4"})}),r.jsx("span",{className:"font-medium",children:v.name})]})},g))})]},p))}),n.length>0&&r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(be,{className:"mr-2 h-5 w-5"}),"Recent Alerts"]})}),r.jsx(Q,{children:r.jsx("div",{className:"space-y-2",children:n.slice(0,5).map(m=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:m.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:m.content})]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(m._creationTime).toLocaleDateString()})]},m._id))})})]}),r.jsx(tt,{open:l,onOpenChange:c,children:r.jsxs(Ke,{className:"sm:max-w-[600px]",children:[r.jsxs(Xe,{children:[r.jsxs(Je,{className:"flex items-center text-red-600",children:[r.jsx(ys,{className:"mr-2 h-5 w-5"}),"Send Urgent Alert"]}),r.jsx(ut,{children:"Broadcast an important message to staff and stakeholders across all project sites."})]}),r.jsx(l8,{onSubmit:d,onCancel:()=>c(!1)})]})})]})};function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function jt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function xe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Se(e){xe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||yo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Bt(e,t){xe(2,arguments);var n=Se(e),s=jt(t);return isNaN(s)?new Date(NaN):(s&&n.setDate(n.getDate()+s),n)}function Wn(e,t){xe(2,arguments);var n=Se(e),s=jt(t);if(isNaN(s))return new Date(NaN);if(!s)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+s+1,0);var a=o.getDate();return i>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function d8(e,t){xe(2,arguments);var n=Se(e).getTime(),s=jt(t);return new Date(n+s)}var u8={};function Rs(){return u8}function fr(e,t){var n,s,i,o,a,l,c,d;xe(1,arguments);var h=Rs(),u=jt((n=(s=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Se(e),p=m.getDay(),v=(p<u?7:0)+p-u;return m.setDate(m.getDate()-v),m.setHours(0,0,0,0),m}function hi(e){return xe(1,arguments),fr(e,{weekStartsOn:1})}function h8(e){xe(1,arguments);var t=Se(e),n=t.getFullYear(),s=new Date(0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);var i=hi(s),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var a=hi(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function m8(e){xe(1,arguments);var t=h8(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var s=hi(n);return s}function tl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function jo(e){xe(1,arguments);var t=Se(e);return t.setHours(0,0,0,0),t}var f8=864e5;function sr(e,t){xe(2,arguments);var n=jo(e),s=jo(t),i=n.getTime()-tl(n),o=s.getTime()-tl(s);return Math.round((i-o)/f8)}function Hf(e,t){xe(2,arguments);var n=jt(t),s=n*7;return Bt(e,s)}function p8(e,t){xe(2,arguments);var n=jt(t);return Wn(e,n*12)}function g8(e){xe(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(yo(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(s){var i=Se(s);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function x8(e){xe(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(yo(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(s){var i=Se(s);(n===void 0||n>i||isNaN(i.getDate()))&&(n=i)}),n||new Date(NaN)}var Tk=6e4,Mk=36e5;function Kt(e,t){xe(2,arguments);var n=jo(e),s=jo(t);return n.getTime()===s.getTime()}function ox(e){return xe(1,arguments),e instanceof Date||yo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ek(e){if(xe(1,arguments),!ox(e)&&typeof e!="number")return!1;var t=Se(e);return!isNaN(Number(t))}function nl(e,t){xe(2,arguments);var n=Se(e),s=Se(t),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}var v8=6048e5;function y8(e,t,n){xe(2,arguments);var s=fr(e,n),i=fr(t,n),o=s.getTime()-tl(s),a=i.getTime()-tl(i);return Math.round((o-a)/v8)}function F0(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Ak(e,t){xe(2,arguments);var n=Se(e),s=Se(t),i=F0(n,s),o=Math.abs(sr(n,s));n.setDate(n.getDate()-i*o);var a=+(F0(n,s)===-i),l=i*(o-a);return l===0?0:l}function ax(e){xe(1,arguments);var t=Se(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function en(e){xe(1,arguments);var t=Se(e);return t.setDate(1),t.setHours(0,0,0,0),t}function j8(e){xe(1,arguments);var t=Se(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function lx(e,t){var n,s,i,o,a,l,c,d;xe(1,arguments);var h=Rs(),u=jt((n=(s=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Se(e),p=m.getDay(),v=(p<u?-7:0)+6-(p-u);return m.setDate(m.getDate()+v),m.setHours(23,59,59,999),m}function Rk(e){return xe(1,arguments),lx(e,{weekStartsOn:1})}function w8(e,t){xe(2,arguments);var n=jt(t);return d8(e,-n)}var b8=864e5;function S8(e){xe(1,arguments);var t=Se(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),i=n-s;return Math.floor(i/b8)+1}function Md(e){xe(1,arguments);var t=1,n=Se(e),s=n.getUTCDay(),i=(s<t?7:0)+s-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Ik(e){xe(1,arguments);var t=Se(e),n=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var i=Md(s),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=Md(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function N8(e){xe(1,arguments);var t=Ik(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var s=Md(n);return s}var C8=6048e5;function k8(e){xe(1,arguments);var t=Se(e),n=Md(t).getTime()-N8(t).getTime();return Math.round(n/C8)+1}function Ed(e,t){var n,s,i,o,a,l,c,d;xe(1,arguments);var h=Rs(),u=jt((n=(s=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Se(e),p=m.getUTCDay(),v=(p<u?7:0)+p-u;return m.setUTCDate(m.getUTCDate()-v),m.setUTCHours(0,0,0,0),m}function Ok(e,t){var n,s,i,o,a,l,c,d;xe(1,arguments);var h=Se(e),u=h.getUTCFullYear(),m=Rs(),p=jt((n=(s=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&s!==void 0?s:(c=m.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(u+1,0,p),v.setUTCHours(0,0,0,0);var g=Ed(v,t),w=new Date(0);w.setUTCFullYear(u,0,p),w.setUTCHours(0,0,0,0);var j=Ed(w,t);return h.getTime()>=g.getTime()?u+1:h.getTime()>=j.getTime()?u:u-1}function P8(e,t){var n,s,i,o,a,l,c,d;xe(1,arguments);var h=Rs(),u=jt((n=(s=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=Ok(e,t),p=new Date(0);p.setUTCFullYear(m,0,u),p.setUTCHours(0,0,0,0);var v=Ed(p,t);return v}var D8=6048e5;function T8(e,t){xe(1,arguments);var n=Se(e),s=Ed(n,t).getTime()-P8(n,t).getTime();return Math.round(s/D8)+1}function _e(e,t){for(var n=e<0?"-":"",s=Math.abs(e).toString();s.length<t;)s="0"+s;return n+s}var M8={y:function(t,n){var s=t.getUTCFullYear(),i=s>0?s:1-s;return _e(n==="yy"?i%100:i,n.length)},M:function(t,n){var s=t.getUTCMonth();return n==="M"?String(s+1):_e(s+1,2)},d:function(t,n){return _e(t.getUTCDate(),n.length)},a:function(t,n){var s=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(t,n){return _e(t.getUTCHours()%12||12,n.length)},H:function(t,n){return _e(t.getUTCHours(),n.length)},m:function(t,n){return _e(t.getUTCMinutes(),n.length)},s:function(t,n){return _e(t.getUTCSeconds(),n.length)},S:function(t,n){var s=n.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,s-3));return _e(o,n.length)}};const zr=M8;var Di={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},E8={G:function(t,n,s){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})}},y:function(t,n,s){if(n==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return s.ordinalNumber(o,{unit:"year"})}return zr.y(t,n)},Y:function(t,n,s,i){var o=Ok(t,i),a=o>0?o:1-o;if(n==="YY"){var l=a%100;return _e(l,2)}return n==="Yo"?s.ordinalNumber(a,{unit:"year"}):_e(a,n.length)},R:function(t,n){var s=Ik(t);return _e(s,n.length)},u:function(t,n){var s=t.getUTCFullYear();return _e(s,n.length)},Q:function(t,n,s){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return _e(i,2);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,s){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return _e(i,2);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,s){var i=t.getUTCMonth();switch(n){case"M":case"MM":return zr.M(t,n);case"Mo":return s.ordinalNumber(i+1,{unit:"month"});case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,s){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return _e(i+1,2);case"Lo":return s.ordinalNumber(i+1,{unit:"month"});case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,s,i){var o=T8(t,i);return n==="wo"?s.ordinalNumber(o,{unit:"week"}):_e(o,n.length)},I:function(t,n,s){var i=k8(t);return n==="Io"?s.ordinalNumber(i,{unit:"week"}):_e(i,n.length)},d:function(t,n,s){return n==="do"?s.ordinalNumber(t.getUTCDate(),{unit:"date"}):zr.d(t,n)},D:function(t,n,s){var i=S8(t);return n==="Do"?s.ordinalNumber(i,{unit:"dayOfYear"}):_e(i,n.length)},E:function(t,n,s){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,s,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return _e(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,s,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return _e(a,n.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,s){var i=t.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return _e(o,n.length);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return s.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(i,{width:"short",context:"formatting"});case"iiii":default:return s.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,s){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,s){var i=t.getUTCHours(),o;switch(i===12?o=Di.noon:i===0?o=Di.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,s){var i=t.getUTCHours(),o;switch(i>=17?o=Di.evening:i>=12?o=Di.afternoon:i>=4?o=Di.morning:o=Di.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,s){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),s.ordinalNumber(i,{unit:"hour"})}return zr.h(t,n)},H:function(t,n,s){return n==="Ho"?s.ordinalNumber(t.getUTCHours(),{unit:"hour"}):zr.H(t,n)},K:function(t,n,s){var i=t.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(i,{unit:"hour"}):_e(i,n.length)},k:function(t,n,s){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?s.ordinalNumber(i,{unit:"hour"}):_e(i,n.length)},m:function(t,n,s){return n==="mo"?s.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):zr.m(t,n)},s:function(t,n,s){return n==="so"?s.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):zr.s(t,n)},S:function(t,n){return zr.S(t,n)},X:function(t,n,s,i){var o=i._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return $0(a);case"XXXX":case"XX":return Us(a);case"XXXXX":case"XXX":default:return Us(a,":")}},x:function(t,n,s,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(n){case"x":return $0(a);case"xxxx":case"xx":return Us(a);case"xxxxx":case"xxx":default:return Us(a,":")}},O:function(t,n,s,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+_0(a,":");case"OOOO":default:return"GMT"+Us(a,":")}},z:function(t,n,s,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+_0(a,":");case"zzzz":default:return"GMT"+Us(a,":")}},t:function(t,n,s,i){var o=i._originalDate||t,a=Math.floor(o.getTime()/1e3);return _e(a,n.length)},T:function(t,n,s,i){var o=i._originalDate||t,a=o.getTime();return _e(a,n.length)}};function _0(e,t){var n=e>0?"-":"+",s=Math.abs(e),i=Math.floor(s/60),o=s%60;if(o===0)return n+String(i);var a=t||"";return n+String(i)+a+_e(o,2)}function $0(e,t){if(e%60===0){var n=e>0?"-":"+";return n+_e(Math.abs(e)/60,2)}return Us(e,t)}function Us(e,t){var n=t||"",s=e>0?"-":"+",i=Math.abs(e),o=_e(Math.floor(i/60),2),a=_e(i%60,2);return s+o+n+a}const A8=E8;var V0=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Lk=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},R8=function(t,n){var s=t.match(/(P+)(p+)?/)||[],i=s[1],o=s[2];if(!o)return V0(t,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",V0(i,n)).replace("{{time}}",Lk(o,n))},I8={p:Lk,P:R8};const O8=I8;var L8=["D","DD"],F8=["YY","YYYY"];function _8(e){return L8.indexOf(e)!==-1}function $8(e){return F8.indexOf(e)!==-1}function q0(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var V8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},q8=function(t,n,s){var i,o=V8[t];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+i:i+" ago":i};const B8=q8;function Wh(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,s=e.formats[n]||e.formats[e.defaultWidth];return s}}var U8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H8={date:Wh({formats:U8,defaultWidth:"full"}),time:Wh({formats:z8,defaultWidth:"full"}),dateTime:Wh({formats:W8,defaultWidth:"full"})};const G8=H8;var Q8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y8=function(t,n,s,i){return Q8[t]};const K8=Y8;function Go(e){return function(t,n){var s=n!=null&&n.context?String(n.context):"standalone",i;if(s==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return i[d]}}var X8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},J8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Z8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rV=function(t,n){var s=Number(t),i=s%100;if(i>20||i<10)switch(i%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},sV={ordinalNumber:rV,era:Go({values:X8,defaultWidth:"wide"}),quarter:Go({values:J8,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Go({values:Z8,defaultWidth:"wide"}),day:Go({values:eV,defaultWidth:"wide"}),dayPeriod:Go({values:tV,defaultWidth:"wide",formattingValues:nV,defaultFormattingWidth:"wide"})};const iV=sV;function Qo(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a=o[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?aV(l,function(u){return u.test(a)}):oV(l,function(u){return u.test(a)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var h=t.slice(a.length);return{value:d,rest:h}}}function oV(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function aV(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function lV(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.match(e.matchPattern);if(!s)return null;var i=s[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(i.length);return{value:a,rest:l}}}var cV=/^(\d+)(th|st|nd|rd)?/i,dV=/\d+/i,uV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hV={any:[/^b/i,/^(a|c)/i]},mV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fV={any:[/1/i,/2/i,/3/i,/4/i]},pV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wV={ordinalNumber:lV({matchPattern:cV,parsePattern:dV,valueCallback:function(t){return parseInt(t,10)}}),era:Qo({matchPatterns:uV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any"}),quarter:Qo({matchPatterns:mV,defaultMatchWidth:"wide",parsePatterns:fV,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qo({matchPatterns:pV,defaultMatchWidth:"wide",parsePatterns:gV,defaultParseWidth:"any"}),day:Qo({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:vV,defaultParseWidth:"any"}),dayPeriod:Qo({matchPatterns:yV,defaultMatchWidth:"any",parsePatterns:jV,defaultParseWidth:"any"})};const bV=wV;var SV={code:"en-US",formatDistance:B8,formatLong:G8,formatRelative:K8,localize:iV,match:bV,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Fk=SV;var NV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kV=/^'([^]*?)'?$/,PV=/''/g,DV=/[a-zA-Z]/;function Pe(e,t,n){var s,i,o,a,l,c,d,h,u,m,p,v,g,w,j,y,x,b;xe(2,arguments);var N=String(t),M=Rs(),S=(s=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:M.locale)!==null&&s!==void 0?s:Fk,k=jt((o=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:M.firstWeekContainsDate)!==null&&a!==void 0?a:(u=M.locale)===null||u===void 0||(m=u.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=jt((p=(v=(g=(w=n==null?void 0:n.weekStartsOn)!==null&&w!==void 0?w:n==null||(j=n.locale)===null||j===void 0||(y=j.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:M.weekStartsOn)!==null&&v!==void 0?v:(x=M.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&p!==void 0?p:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var P=Se(e);if(!Ek(P))throw new RangeError("Invalid time value");var D=tl(P),C=w8(P,D),T={firstWeekContainsDate:k,weekStartsOn:R,locale:S,_originalDate:P},I=N.match(CV).map(function(W){var L=W[0];if(L==="p"||L==="P"){var V=O8[L];return V(W,S.formatLong)}return W}).join("").match(NV).map(function(W){if(W==="''")return"'";var L=W[0];if(L==="'")return TV(W);var V=A8[L];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&$8(W)&&q0(W,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&_8(W)&&q0(W,t,String(e)),V(C,W,S.localize,T);if(L.match(DV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return W}).join("");return I}function TV(e){var t=e.match(kV);return t?t[1].replace(PV,"'"):e}function MV(e){xe(1,arguments);var t=Se(e),n=t.getFullYear(),s=t.getMonth(),i=new Date(0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}var EV=6048e5;function AV(e){xe(1,arguments);var t=Se(e),n=hi(t).getTime()-m8(t).getTime();return Math.round(n/EV)+1}function RV(e){xe(1,arguments);var t=Se(e),n=t.getTime();return n}function IV(e){return xe(1,arguments),Math.floor(RV(e)/1e3)}function OV(e,t){var n,s,i,o,a,l,c,d;xe(1,arguments);var h=Se(e),u=h.getFullYear(),m=Rs(),p=jt((n=(s=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&s!==void 0?s:(c=m.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(u+1,0,p),v.setHours(0,0,0,0);var g=fr(v,t),w=new Date(0);w.setFullYear(u,0,p),w.setHours(0,0,0,0);var j=fr(w,t);return h.getTime()>=g.getTime()?u+1:h.getTime()>=j.getTime()?u:u-1}function LV(e,t){var n,s,i,o,a,l,c,d;xe(1,arguments);var h=Rs(),u=jt((n=(s=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&s!==void 0?s:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=OV(e,t),p=new Date(0);p.setFullYear(m,0,u),p.setHours(0,0,0,0);var v=fr(p,t);return v}var FV=6048e5;function _V(e,t){xe(1,arguments);var n=Se(e),s=fr(n,t).getTime()-LV(n,t).getTime();return Math.round(s/FV)+1}function $V(e){xe(1,arguments);var t=Se(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function VV(e,t){return xe(1,arguments),y8($V(e),en(e),t)+1}function Gf(e,t){xe(2,arguments);var n=Se(e),s=Se(t);return n.getTime()>s.getTime()}function _k(e,t){xe(2,arguments);var n=Se(e),s=Se(t);return n.getTime()<s.getTime()}function cx(e,t){xe(2,arguments);var n=Se(e),s=Se(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function qV(e,t){xe(2,arguments);var n=Se(e),s=Se(t);return n.getFullYear()===s.getFullYear()}function Hh(e,t){xe(2,arguments);var n=jt(t);return Bt(e,-n)}function zs(e,t){var n;xe(1,arguments);var s=jt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=WV(e),o;if(i.date){var a=HV(i.date,s);o=GV(a.restDateString,a.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var l=o.getTime(),c=0,d;if(i.time&&(c=QV(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(d=YV(i.timezone),isNaN(d))return new Date(NaN)}else{var h=new Date(l+c),u=new Date(0);return u.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),u.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),u}return new Date(l+c+d)}var ic={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WV(e){var t={},n=e.split(ic.dateTimeDelimiter),s;if(n.length>2)return t;if(/:/.test(n[0])?s=n[0]:(t.date=n[0],s=n[1],ic.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ic.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){var i=ic.timezone.exec(s);i?(t.time=s.replace(i[1],""),t.timezone=i[1]):t.time=s}return t}function HV(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};var i=s[1]?parseInt(s[1]):null,o=s[2]?parseInt(s[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((s[1]||s[2]).length)}}function GV(e,t){if(t===null)return new Date(NaN);var n=e.match(BV);if(!n)return new Date(NaN);var s=!!n[4],i=Yo(n[1]),o=Yo(n[2])-1,a=Yo(n[3]),l=Yo(n[4]),c=Yo(n[5])-1;if(s)return e7(t,l,c)?KV(t,l,c):new Date(NaN);var d=new Date(0);return!JV(t,o,a)||!ZV(t,i)?new Date(NaN):(d.setUTCFullYear(t,o,Math.max(i,a)),d)}function Yo(e){return e?parseInt(e):1}function QV(e){var t=e.match(UV);if(!t)return NaN;var n=Gh(t[1]),s=Gh(t[2]),i=Gh(t[3]);return t7(n,s,i)?n*Mk+s*Tk+i*1e3:NaN}function Gh(e){return e&&parseFloat(e.replace(",","."))||0}function YV(e){if(e==="Z")return 0;var t=e.match(zV);if(!t)return 0;var n=t[1]==="+"?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return n7(s,i)?n*(s*Mk+i*Tk):NaN}function KV(e,t,n){var s=new Date(0);s.setUTCFullYear(e,0,4);var i=s.getUTCDay()||7,o=(t-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+o),s}var XV=[31,null,31,30,31,30,31,31,30,31,30,31];function $k(e){return e%400===0||e%4===0&&e%100!==0}function JV(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(XV[t]||($k(e)?29:28))}function ZV(e,t){return t>=1&&t<=($k(e)?366:365)}function e7(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function t7(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function n7(e,t){return t>=0&&t<=59}function Qh(e,t){xe(2,arguments);var n=Se(e),s=jt(t),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,s,15),a.setHours(0,0,0,0);var l=MV(a);return n.setMonth(s,Math.min(o,l)),n}function B0(e,t){xe(2,arguments);var n=Se(e),s=jt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(s),n)}var ye=function(){return ye=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ye.apply(this,arguments)};function r7(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function Vk(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function Sl(e){return e.mode==="multiple"}function Nl(e){return e.mode==="range"}function Ru(e){return e.mode==="single"}var s7={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function i7(e,t){return Pe(e,"LLLL y",t)}function o7(e,t){return Pe(e,"d",t)}function a7(e,t){return Pe(e,"LLLL",t)}function l7(e){return"".concat(e)}function c7(e,t){return Pe(e,"cccccc",t)}function d7(e,t){return Pe(e,"yyyy",t)}var u7=Object.freeze({__proto__:null,formatCaption:i7,formatDay:o7,formatMonthCaption:a7,formatWeekNumber:l7,formatWeekdayName:c7,formatYearCaption:d7}),h7=function(e,t,n){return Pe(e,"do MMMM (EEEE)",n)},m7=function(){return"Month: "},f7=function(){return"Go to next month"},p7=function(){return"Go to previous month"},g7=function(e,t){return Pe(e,"cccc",t)},x7=function(e){return"Week n. ".concat(e)},v7=function(){return"Year: "},y7=Object.freeze({__proto__:null,labelDay:h7,labelMonthDropdown:m7,labelNext:f7,labelPrevious:p7,labelWeekNumber:x7,labelWeekday:g7,labelYearDropdown:v7});function j7(){var e="buttons",t=s7,n=Fk,s={},i={},o=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:u7,labels:y7,locale:n,modifiersClassNames:s,modifiers:i,numberOfMonths:o,styles:a,today:l,mode:"default"}}function w7(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,i=e.toMonth,o=e.fromDate,a=e.toDate;return s?o=en(s):t&&(o=new Date(t,0,1)),i?a=ax(i):n&&(a=new Date(n,11,31)),{fromDate:o?jo(o):void 0,toDate:a?jo(a):void 0}}var qk=f.createContext(void 0);function b7(e){var t,n=e.initialProps,s=j7(),i=w7(n),o=i.fromDate,a=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!o||!a)&&(l="buttons");var c;(Ru(n)||Sl(n)||Nl(n))&&(c=n.onSelect);var d=ye(ye(ye({},s),n),{captionLayout:l,classNames:ye(ye({},s.classNames),n.classNames),components:ye({},n.components),formatters:ye(ye({},s.formatters),n.formatters),fromDate:o,labels:ye(ye({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:ye(ye({},s.modifiers),n.modifiers),modifiersClassNames:ye(ye({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:ye(ye({},s.styles),n.styles),toDate:a});return r.jsx(qk.Provider,{value:d,children:e.children})}function We(){var e=f.useContext(qk);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Bk(e){var t=We(),n=t.locale,s=t.classNames,i=t.styles,o=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function S7(e){return r.jsx("svg",ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Uk(e){var t,n,s=e.onChange,i=e.value,o=e.children,a=e.caption,l=e.className,c=e.style,d=We(),h=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:S7;return r.jsxs("div",{className:l,style:c,children:[r.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:s,children:o}),r.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,r.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function N7(e){var t,n=We(),s=n.fromDate,i=n.toDate,o=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,h=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});var u=[];if(qV(s,i))for(var m=en(s),p=s.getMonth();p<=i.getMonth();p++)u.push(Qh(m,p));else for(var m=en(new Date),p=0;p<=11;p++)u.push(Qh(m,p));var v=function(w){var j=Number(w.target.value),y=Qh(en(e.displayMonth),j);e.onChange(y)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Uk;return r.jsx(g,{name:"months","aria-label":h(),className:c.dropdown_month,style:o.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:u.map(function(w){return r.jsx("option",{value:w.getMonth(),children:l(w,{locale:a})},w.getMonth())})})}function C7(e){var t,n=e.displayMonth,s=We(),i=s.fromDate,o=s.toDate,a=s.locale,l=s.styles,c=s.classNames,d=s.components,h=s.formatters.formatYearCaption,u=s.labels.labelYearDropdown,m=[];if(!i)return r.jsx(r.Fragment,{});if(!o)return r.jsx(r.Fragment,{});for(var p=i.getFullYear(),v=o.getFullYear(),g=p;g<=v;g++)m.push(B0(j8(new Date),g));var w=function(y){var x=B0(en(n),Number(y.target.value));e.onChange(x)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Uk;return r.jsx(j,{name:"years","aria-label":u(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:h(n,{locale:a}),children:m.map(function(y){return r.jsx("option",{value:y.getFullYear(),children:h(y,{locale:a})},y.getFullYear())})})}function k7(e,t){var n=f.useState(e),s=n[0],i=n[1],o=t===void 0?s:t;return[o,i]}function P7(e){var t=e.month,n=e.defaultMonth,s=e.today,i=t||n||s||new Date,o=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&nl(o,i)<0){var d=-1*(c-1);i=Wn(o,d)}return a&&nl(i,a)<0&&(i=a),en(i)}function D7(){var e=We(),t=P7(e),n=k7(t,e.month),s=n[0],i=n[1],o=function(a){var l;if(!e.disableNavigation){var c=en(a);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,o]}function T7(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,i=en(e),o=en(Wn(i,s)),a=nl(o,i),l=[],c=0;c<a;c++){var d=Wn(i,c);l.push(d)}return n&&(l=l.reverse()),l}function M7(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,a=s?o:1,l=en(e);if(!n)return Wn(l,a);var c=nl(n,e);if(!(c<o))return Wn(l,a)}}function E7(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,a=s?o:1,l=en(e);if(!n)return Wn(l,-a);var c=nl(l,n);if(!(c<=0))return Wn(l,-a)}}var zk=f.createContext(void 0);function A7(e){var t=We(),n=D7(),s=n[0],i=n[1],o=T7(s,t),a=M7(s,t),l=E7(s,t),c=function(u){return o.some(function(m){return cx(u,m)})},d=function(u,m){c(u)||(m&&_k(u,m)?i(Wn(u,1+t.numberOfMonths*-1)):i(u))},h={currentMonth:s,displayMonths:o,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:a,isDateDisplayed:c};return r.jsx(zk.Provider,{value:h,children:e.children})}function Cl(){var e=f.useContext(zk);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function U0(e){var t,n=We(),s=n.classNames,i=n.styles,o=n.components,a=Cl().goToMonth,l=function(h){a(Wn(h,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:Bk,d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:i.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:d}),r.jsx(N7,{onChange:l,displayMonth:e.displayMonth}),r.jsx(C7,{onChange:l,displayMonth:e.displayMonth})]})}function R7(e){return r.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function I7(e){return r.jsx("svg",ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ad=f.forwardRef(function(e,t){var n=We(),s=n.classNames,i=n.styles,o=[s.button_reset,s.button];e.className&&o.push(e.className);var a=o.join(" "),l=ye(ye({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),r.jsx("button",ye({},e,{ref:t,type:"button",className:a,style:l}))});function O7(e){var t,n,s=We(),i=s.dir,o=s.locale,a=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,h=c.labelNext,u=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var m=d(e.previousMonth,{locale:o}),p=[a.nav_button,a.nav_button_previous].join(" "),v=h(e.nextMonth,{locale:o}),g=[a.nav_button,a.nav_button_next].join(" "),w=(t=u==null?void 0:u.IconRight)!==null&&t!==void 0?t:I7,j=(n=u==null?void 0:u.IconLeft)!==null&&n!==void 0?n:R7;return r.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(Ad,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?r.jsx(w,{className:a.nav_icon,style:l.nav_icon}):r.jsx(j,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(Ad,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?r.jsx(j,{className:a.nav_icon,style:l.nav_icon}):r.jsx(w,{className:a.nav_icon,style:l.nav_icon})})]})}function z0(e){var t=We().numberOfMonths,n=Cl(),s=n.previousMonth,i=n.nextMonth,o=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(v){return cx(e.displayMonth,v)}),c=l===0,d=l===a.length-1,h=t>1&&(c||!d),u=t>1&&(d||!c),m=function(){s&&o(s)},p=function(){i&&o(i)};return r.jsx(O7,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:u,nextMonth:i,previousMonth:s,onPreviousClick:m,onNextClick:p})}function L7(e){var t,n=We(),s=n.classNames,i=n.disableNavigation,o=n.styles,a=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Bk,d;return i?d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?d=r.jsx(U0,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?d=r.jsxs(r.Fragment,{children:[r.jsx(U0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(z0,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=r.jsxs(r.Fragment,{children:[r.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(z0,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:o.caption,children:d})}function F7(e){var t=We(),n=t.footer,s=t.styles,i=t.classNames.tfoot;return n?r.jsx("tfoot",{className:i,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function _7(e,t,n){for(var s=n?hi(new Date):fr(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var a=Bt(s,o);i.push(a)}return i}function $7(){var e=We(),t=e.classNames,n=e.styles,s=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=_7(i,o,a);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(h,u){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(h,{locale:i}),children:l(h,{locale:i})},u)})]})}function V7(){var e,t=We(),n=t.classNames,s=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:$7;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(o,{})})}function q7(e){var t=We(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var dx=f.createContext(void 0);function B7(e){if(!Sl(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(dx.Provider,{value:t,children:e.children})}return r.jsx(U7,{initialProps:e.initialProps,children:e.children})}function U7(e){var t=e.initialProps,n=e.children,s=t.selected,i=t.min,o=t.max,a=function(d,h,u){var m,p;(m=t.onDayClick)===null||m===void 0||m.call(t,d,h,u);var v=!!(h.selected&&i&&(s==null?void 0:s.length)===i);if(!v){var g=!!(!h.selected&&o&&(s==null?void 0:s.length)===o);if(!g){var w=s?Vk([],s,!0):[];if(h.selected){var j=w.findIndex(function(y){return Kt(d,y)});w.splice(j,1)}else w.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,w,d,h,u)}}},l={disabled:[]};s&&l.disabled.push(function(d){var h=o&&s.length>o-1,u=s.some(function(m){return Kt(m,d)});return!!(h&&!u)});var c={selected:s,onDayClick:a,modifiers:l};return r.jsx(dx.Provider,{value:c,children:n})}function ux(){var e=f.useContext(dx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function z7(e,t){var n=t||{},s=n.from,i=n.to;return s&&i?Kt(i,e)&&Kt(s,e)?void 0:Kt(i,e)?{from:i,to:void 0}:Kt(s,e)?void 0:Gf(s,e)?{from:e,to:i}:{from:s,to:e}:i?Gf(e,i)?{from:i,to:e}:{from:e,to:i}:s?_k(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var hx=f.createContext(void 0);function W7(e){if(!Nl(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(hx.Provider,{value:t,children:e.children})}return r.jsx(H7,{initialProps:e.initialProps,children:e.children})}function H7(e){var t=e.initialProps,n=e.children,s=t.selected,i=s||{},o=i.from,a=i.to,l=t.min,c=t.max,d=function(p,v,g){var w,j;(w=t.onDayClick)===null||w===void 0||w.call(t,p,v,g);var y=z7(p,s);(j=t.onSelect)===null||j===void 0||j.call(t,y,p,v,g)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(h.range_start=[o],a?(h.range_end=[a],Kt(o,a)||(h.range_middle=[{after:o,before:a}])):h.range_end=[o]):a&&(h.range_start=[a],h.range_end=[a]),l&&(o&&!a&&h.disabled.push({after:Hh(o,l-1),before:Bt(o,l-1)}),o&&a&&h.disabled.push({after:o,before:Bt(o,l-1)}),!o&&a&&h.disabled.push({after:Hh(a,l-1),before:Bt(a,l-1)})),c){if(o&&!a&&(h.disabled.push({before:Bt(o,-c+1)}),h.disabled.push({after:Bt(o,c-1)})),o&&a){var u=sr(a,o)+1,m=c-u;h.disabled.push({before:Hh(o,m)}),h.disabled.push({after:Bt(a,m)})}!o&&a&&(h.disabled.push({before:Bt(a,-c+1)}),h.disabled.push({after:Bt(a,c-1)}))}return r.jsx(hx.Provider,{value:{selected:s,onDayClick:d,modifiers:h},children:n})}function mx(){var e=f.useContext(hx);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Tc(e){return Array.isArray(e)?Vk([],e,!0):e!==void 0?[e]:[]}function G7(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],i=n[1];t[s]=Tc(i)}),t}var Hn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Hn||(Hn={}));var Q7=Hn.Selected,xr=Hn.Disabled,Y7=Hn.Hidden,K7=Hn.Today,Yh=Hn.RangeEnd,Kh=Hn.RangeMiddle,Xh=Hn.RangeStart,X7=Hn.Outside;function J7(e,t,n){var s,i=(s={},s[Q7]=Tc(e.selected),s[xr]=Tc(e.disabled),s[Y7]=Tc(e.hidden),s[K7]=[e.today],s[Yh]=[],s[Kh]=[],s[Xh]=[],s[X7]=[],s);return e.fromDate&&i[xr].push({before:e.fromDate}),e.toDate&&i[xr].push({after:e.toDate}),Sl(e)?i[xr]=i[xr].concat(t.modifiers[xr]):Nl(e)&&(i[xr]=i[xr].concat(n.modifiers[xr]),i[Xh]=n.modifiers[Xh],i[Kh]=n.modifiers[Kh],i[Yh]=n.modifiers[Yh]),i}var Wk=f.createContext(void 0);function Z7(e){var t=We(),n=ux(),s=mx(),i=J7(t,n,s),o=G7(t.modifiers),a=ye(ye({},i),o);return r.jsx(Wk.Provider,{value:a,children:e.children})}function Hk(){var e=f.useContext(Wk);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function eq(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function tq(e){return!!(e&&typeof e=="object"&&"from"in e)}function nq(e){return!!(e&&typeof e=="object"&&"after"in e)}function rq(e){return!!(e&&typeof e=="object"&&"before"in e)}function sq(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function iq(e,t){var n,s=t.from,i=t.to;if(s&&i){var o=sr(i,s)<0;o&&(n=[i,s],s=n[0],i=n[1]);var a=sr(e,s)>=0&&sr(i,e)>=0;return a}return i?Kt(i,e):s?Kt(s,e):!1}function oq(e){return ox(e)}function aq(e){return Array.isArray(e)&&e.every(ox)}function lq(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(oq(n))return Kt(e,n);if(aq(n))return n.includes(e);if(tq(n))return iq(e,n);if(sq(n))return n.dayOfWeek.includes(e.getDay());if(eq(n)){var s=sr(n.before,e),i=sr(n.after,e),o=s>0,a=i<0,l=Gf(n.before,n.after);return l?a&&o:o||a}return nq(n)?sr(e,n.after)>0:rq(n)?sr(n.before,e)>0:typeof n=="function"?n(e):!1})}function fx(e,t,n){var s=Object.keys(t).reduce(function(o,a){var l=t[a];return lq(e,l)&&o.push(a),o},[]),i={};return s.forEach(function(o){return i[o]=!0}),n&&!cx(e,n)&&(i.outside=!0),i}function cq(e,t){for(var n=en(e[0]),s=ax(e[e.length-1]),i,o,a=n;a<=s;){var l=fx(a,t),c=!l.disabled&&!l.hidden;if(!c){a=Bt(a,1);continue}if(l.selected)return a;l.today&&!o&&(o=a),i||(i=a),a=Bt(a,1)}return o||i}var dq=365;function Gk(e,t){var n=t.moveBy,s=t.direction,i=t.context,o=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=i.weekStartsOn,d=i.fromDate,h=i.toDate,u=i.locale,m={day:Bt,week:Hf,month:Wn,year:p8,startOfWeek:function(w){return i.ISOWeek?hi(w):fr(w,{locale:u,weekStartsOn:c})},endOfWeek:function(w){return i.ISOWeek?Rk(w):lx(w,{locale:u,weekStartsOn:c})}},p=m[n](e,s==="after"?1:-1);s==="before"&&d?p=g8([d,p]):s==="after"&&h&&(p=x8([h,p]));var v=!0;if(o){var g=fx(p,o);v=!g.disabled&&!g.hidden}return v?p:l.count>dq?l.lastFocused:Gk(p,{moveBy:n,direction:s,context:i,modifiers:o,retry:ye(ye({},l),{count:l.count+1})})}var Qk=f.createContext(void 0);function uq(e){var t=Cl(),n=Hk(),s=f.useState(),i=s[0],o=s[1],a=f.useState(),l=a[0],c=a[1],d=cq(t.displayMonths,n),h=i??(l&&t.isDateDisplayed(l))?l:d,u=function(){c(i),o(void 0)},m=function(w){o(w)},p=We(),v=function(w,j){if(i){var y=Gk(i,{moveBy:w,direction:j,context:p,modifiers:n});Kt(i,y)||(t.goToDate(y,i),m(y))}},g={focusedDay:i,focusTarget:h,blur:u,focus:m,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return r.jsx(Qk.Provider,{value:g,children:e.children})}function px(){var e=f.useContext(Qk);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function hq(e,t){var n=Hk(),s=fx(e,n,t);return s}var gx=f.createContext(void 0);function mq(e){if(!Ru(e.initialProps)){var t={selected:void 0};return r.jsx(gx.Provider,{value:t,children:e.children})}return r.jsx(fq,{initialProps:e.initialProps,children:e.children})}function fq(e){var t=e.initialProps,n=e.children,s=function(o,a,l){var c,d,h;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,a,l),a.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,a,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,o,o,a,l)},i={selected:t.selected,onDayClick:s};return r.jsx(gx.Provider,{value:i,children:n})}function Yk(){var e=f.useContext(gx);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function pq(e,t){var n=We(),s=Yk(),i=ux(),o=mx(),a=px(),l=a.focusDayAfter,c=a.focusDayBefore,d=a.focusWeekAfter,h=a.focusWeekBefore,u=a.blur,m=a.focus,p=a.focusMonthBefore,v=a.focusMonthAfter,g=a.focusYearBefore,w=a.focusYearAfter,j=a.focusStartOfWeek,y=a.focusEndOfWeek,x=function(V){var A,F,J,H;Ru(n)?(A=s.onDayClick)===null||A===void 0||A.call(s,e,t,V):Sl(n)?(F=i.onDayClick)===null||F===void 0||F.call(i,e,t,V):Nl(n)?(J=o.onDayClick)===null||J===void 0||J.call(o,e,t,V):(H=n.onDayClick)===null||H===void 0||H.call(n,e,t,V)},b=function(V){var A;m(e),(A=n.onDayFocus)===null||A===void 0||A.call(n,e,t,V)},N=function(V){var A;u(),(A=n.onDayBlur)===null||A===void 0||A.call(n,e,t,V)},M=function(V){var A;(A=n.onDayMouseEnter)===null||A===void 0||A.call(n,e,t,V)},S=function(V){var A;(A=n.onDayMouseLeave)===null||A===void 0||A.call(n,e,t,V)},k=function(V){var A;(A=n.onDayPointerEnter)===null||A===void 0||A.call(n,e,t,V)},R=function(V){var A;(A=n.onDayPointerLeave)===null||A===void 0||A.call(n,e,t,V)},P=function(V){var A;(A=n.onDayTouchCancel)===null||A===void 0||A.call(n,e,t,V)},D=function(V){var A;(A=n.onDayTouchEnd)===null||A===void 0||A.call(n,e,t,V)},C=function(V){var A;(A=n.onDayTouchMove)===null||A===void 0||A.call(n,e,t,V)},T=function(V){var A;(A=n.onDayTouchStart)===null||A===void 0||A.call(n,e,t,V)},I=function(V){var A;(A=n.onDayKeyUp)===null||A===void 0||A.call(n,e,t,V)},W=function(V){var A;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),d();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),h();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?w():v();break;case"Home":V.preventDefault(),V.stopPropagation(),j();break;case"End":V.preventDefault(),V.stopPropagation(),y();break}(A=n.onDayKeyDown)===null||A===void 0||A.call(n,e,t,V)},L={onClick:x,onFocus:b,onBlur:N,onKeyDown:W,onKeyUp:I,onMouseEnter:M,onMouseLeave:S,onPointerEnter:k,onPointerLeave:R,onTouchCancel:P,onTouchEnd:D,onTouchMove:C,onTouchStart:T};return L}function gq(){var e=We(),t=Yk(),n=ux(),s=mx(),i=Ru(e)?t.selected:Sl(e)?n.selected:Nl(e)?s.selected:void 0;return i}function xq(e){return Object.values(Hn).includes(e)}function vq(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var i=e.modifiersClassNames[s];if(i)n.push(i);else if(xq(s)){var o=e.classNames["day_".concat(s)];o&&n.push(o)}}),n}function yq(e,t){var n=ye({},e.styles.day);return Object.keys(t).forEach(function(s){var i;n=ye(ye({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[s])}),n}function jq(e,t,n){var s,i,o,a=We(),l=px(),c=hq(e,t),d=pq(e,c),h=gq(),u=!!(a.onDayClick||a.mode!=="default");f.useEffect(function(){var M;c.outside||l.focusedDay&&u&&Kt(l.focusedDay,e)&&((M=n.current)===null||M===void 0||M.focus())},[l.focusedDay,e,n,u,c.outside]);var m=vq(a,c).join(" "),p=yq(a,c),v=!!(c.outside&&!a.showOutsideDays||c.hidden),g=(o=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:q7,w=r.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),j={style:p,className:m,children:w,role:"gridcell"},y=l.focusTarget&&Kt(l.focusTarget,e)&&!c.outside,x=l.focusedDay&&Kt(l.focusedDay,e),b=ye(ye(ye({},j),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=x||y?0:-1,s)),d),N={isButton:u,isHidden:v,activeModifiers:c,selectedDays:h,buttonProps:b,divProps:j};return N}function wq(e){var t=f.useRef(null),n=jq(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(Ad,ye({name:"day",ref:t},n.buttonProps)):r.jsx("div",ye({},n.divProps))}function bq(e){var t=e.number,n=e.dates,s=We(),i=s.onWeekNumberClick,o=s.styles,a=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,h=d(Number(t),{locale:l});if(!i)return r.jsx("span",{className:a.weeknumber,style:o.weeknumber,children:h});var u=c(Number(t),{locale:l}),m=function(p){i(t,n,p)};return r.jsx(Ad,{name:"week-number","aria-label":u,className:a.weeknumber,style:o.weeknumber,onClick:m,children:h})}function Sq(e){var t,n,s=We(),i=s.styles,o=s.classNames,a=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:wq,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:bq,h;return a&&(h=r.jsx("td",{className:o.cell,style:i.cell,children:r.jsx(d,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:o.row,style:i.row,children:[h,e.dates.map(function(u){return r.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:r.jsx(c,{displayMonth:e.displayMonth,date:u})},IV(u))})]})}function W0(e,t,n){for(var s=n!=null&&n.ISOWeek?Rk(t):lx(t,n),i=n!=null&&n.ISOWeek?hi(e):fr(e,n),o=sr(s,i),a=[],l=0;l<=o;l++)a.push(Bt(i,l));var c=a.reduce(function(d,h){var u=n!=null&&n.ISOWeek?AV(h):_V(h,n),m=d.find(function(p){return p.weekNumber===u});return m?(m.dates.push(h),d):(d.push({weekNumber:u,dates:[h]}),d)},[]);return c}function Nq(e,t){var n=W0(en(e),ax(e),t);if(t!=null&&t.useFixedWeeks){var s=VV(e,t);if(s<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],a=Hf(o,6-s),l=W0(Hf(o,1),a,t);n.push.apply(n,l)}}return n}function Cq(e){var t,n,s,i=We(),o=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,h=i.components,u=i.weekStartsOn,m=i.firstWeekContainsDate,p=i.ISOWeek,v=Nq(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:o,weekStartsOn:u,firstWeekContainsDate:m}),g=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:V7,w=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:Sq,j=(s=h==null?void 0:h.Footer)!==null&&s!==void 0?s:F7;return r.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&r.jsx(g,{}),r.jsx("tbody",{className:a.tbody,style:l.tbody,children:v.map(function(y){return r.jsx(w,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),r.jsx(j,{displayMonth:e.displayMonth})]})}function kq(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Pq=kq()?f.useLayoutEffect:f.useEffect,Jh=!1,Dq=0;function H0(){return"react-day-picker-".concat(++Dq)}function Tq(e){var t,n=e??(Jh?H0():null),s=f.useState(n),i=s[0],o=s[1];return Pq(function(){i===null&&o(H0())},[]),f.useEffect(function(){Jh===!1&&(Jh=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function Mq(e){var t,n,s=We(),i=s.dir,o=s.classNames,a=s.styles,l=s.components,c=Cl().displayMonths,d=Tq(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),h=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,u=[o.month],m=a.month,p=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!p&&!v;i==="rtl"&&(t=[p,v],v=t[0],p=t[1]),p&&(u.push(o.caption_start),m=ye(ye({},m),a.caption_start)),v&&(u.push(o.caption_end),m=ye(ye({},m),a.caption_end)),g&&(u.push(o.caption_between),m=ye(ye({},m),a.caption_between));var w=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:L7;return r.jsxs("div",{className:u.join(" "),style:m,children:[r.jsx(w,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(Cq,{id:h,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Eq(e){var t=We(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function Aq(e){var t,n,s=e.initialProps,i=We(),o=px(),a=Cl(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){i.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[i.initialFocus,c,o.focus,o.focusTarget,o]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var u=ye(ye({},i.styles.root),i.style),m=Object.keys(s).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var w;return ye(ye({},v),(w={},w[g]=s[g],w))},{}),p=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Eq;return r.jsx("div",ye({className:h.join(" "),style:u,dir:i.dir,id:i.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:r.jsx(p,{children:a.displayMonths.map(function(v,g){return r.jsx(Mq,{displayIndex:g,displayMonth:v},g)})})}))}function Rq(e){var t=e.children,n=r7(e,["children"]);return r.jsx(b7,{initialProps:n,children:r.jsx(A7,{children:r.jsx(mq,{initialProps:n,children:r.jsx(B7,{initialProps:n,children:r.jsx(W7,{initialProps:n,children:r.jsx(Z7,{children:r.jsx(uq,{children:t})})})})})})})}function Iq(e){return r.jsx(Rq,ye({},e,{children:r.jsx(Aq,{initialProps:e})}))}function Kk({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(Iq,{showOutsideDays:n,className:ue("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ue(uf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ue(uf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>r.jsx(iA,{className:"h-4 w-4"}),IconRight:({...i})=>r.jsx(rb,{className:"h-4 w-4"})},...s})}Kk.displayName="Calendar";var Iu="Popover",[Xk,I9]=En(Iu,[To]),kl=To(),[Oq,Is]=Xk(Iu),Jk=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,l=kl(t),c=f.useRef(null),[d,h]=f.useState(!1),[u,m]=Or({prop:s,defaultProp:i??!1,onChange:o,caller:Iu});return r.jsx(Vg,{...l,children:r.jsx(Oq,{scope:t,contentId:qn(),triggerRef:c,open:u,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>h(!0),[]),onCustomAnchorRemove:f.useCallback(()=>h(!1),[]),modal:a,children:n})})};Jk.displayName=Iu;var Zk="PopoverAnchor",Lq=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Is(Zk,n),o=kl(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return f.useEffect(()=>(a(),()=>l()),[a,l]),r.jsx(ju,{...o,...s,ref:t})});Lq.displayName=Zk;var eP="PopoverTrigger",tP=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Is(eP,n),o=kl(n),a=Oe(t,i.triggerRef),l=r.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oP(i.open),...s,ref:a,onClick:ie(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(ju,{asChild:!0,...o,children:l})});tP.displayName=eP;var xx="PopoverPortal",[Fq,_q]=Xk(xx,{forceMount:void 0}),nP=e=>{const{__scopePopover:t,forceMount:n,children:s,container:i}=e,o=Is(xx,t);return r.jsx(Fq,{scope:t,forceMount:n,children:r.jsx(xn,{present:n||o.open,children:r.jsx(Mo,{asChild:!0,container:i,children:s})})})};nP.displayName=xx;var wo="PopoverContent",rP=f.forwardRef((e,t)=>{const n=_q(wo,e.__scopePopover),{forceMount:s=n.forceMount,...i}=e,o=Is(wo,e.__scopePopover);return r.jsx(xn,{present:s||o.open,children:o.modal?r.jsx(Vq,{...i,ref:t}):r.jsx(qq,{...i,ref:t})})});rP.displayName=wo;var $q=xs("PopoverContent.RemoveScroll"),Vq=f.forwardRef((e,t)=>{const n=Is(wo,e.__scopePopover),s=f.useRef(null),i=Oe(t,s),o=f.useRef(!1);return f.useEffect(()=>{const a=s.current;if(a)return bu(a)},[]),r.jsx(Nu,{as:$q,allowPinchZoom:!0,children:r.jsx(sP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ie(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),qq=f.forwardRef((e,t)=>{const n=Is(wo,e.__scopePopover),s=f.useRef(!1),i=f.useRef(!1);return r.jsx(sP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),sP=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...u}=e,m=Is(wo,n),p=kl(n);return gu(),r.jsx(gl,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(ko,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(qg,{"data-state":oP(m.open),role:"dialog",id:m.contentId,...p,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),iP="PopoverClose",Bq=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=Is(iP,n);return r.jsx(ge.button,{type:"button",...s,ref:t,onClick:ie(e.onClick,()=>i.onOpenChange(!1))})});Bq.displayName=iP;var Uq="PopoverArrow",zq=f.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,i=kl(n);return r.jsx(Bg,{...i,...s,ref:t})});zq.displayName=Uq;function oP(e){return e?"open":"closed"}var Wq=Jk,Hq=tP,Gq=nP,aP=rP;const Qq=Wq,Yq=Hq,lP=ce.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},i)=>r.jsx(Gq,{children:r.jsx(aP,{ref:i,align:t,sideOffset:n,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));lP.displayName=aP.displayName;function ke({date:e,setDate:t,className:n,placeholder:s="Pick a date",disabled:i}){return r.jsxs(Qq,{children:[r.jsx(Yq,{asChild:!0,children:r.jsxs(O,{variant:"outline",disabled:i,className:ue("w-full justify-start text-left font-normal",!e&&"text-muted-foreground",n),children:[r.jsx(nb,{className:"mr-2 h-4 w-4"}),e?Pe(e,"PPP"):r.jsx("span",{children:s})]})}),r.jsx(lP,{className:"w-auto p-0",children:r.jsx(Kk,{mode:"single",selected:e,onSelect:t,initialFocus:!0,disabled:i})})]})}const Zh=({title:e,icon:t})=>r.jsxs("h3",{className:"text-lg font-semibold mb-3 border-b pb-2 text-primary flex items-center",children:[r.jsx(t,{className:"mr-2 h-5 w-5"}),e]}),cP=({formData:e,handleInputChange:t,handleClientInfoChange:n,handleDateChange:s,setFormData:i})=>r.jsxs(r.Fragment,{children:[r.jsxs("section",{children:[r.jsx(Zh,{title:"Basic Information",icon:id}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectName",children:"Project Name*"}),r.jsx($,{id:"projectName",name:"projectName",value:e.projectName,onChange:t,placeholder:"e.g., Downtown Residential Tower",required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectIDString",children:"Project ID (Custom)"}),r.jsx($,{id:"projectIDString",name:"projectIDString",value:e.projectIDString,onChange:t,placeholder:"e.g., DT-RES-001"})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"location",children:[r.jsx(ii,{className:"inline mr-1 h-4 w-4"}),"Location"]}),r.jsx($,{id:"location",name:"location",value:e.location,onChange:t,placeholder:"e.g., 123 Main St, Anytown (GPS later)"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectStatus",children:"Project Status"}),r.jsxs(te,{name:"projectStatus",value:e.projectStatus,onValueChange:o=>i(a=>({...a,projectStatus:o})),children:[r.jsx(Z,{id:"projectStatus",children:r.jsx(ne,{placeholder:"Select status"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Planning",children:"Planning"}),r.jsx(_,{value:"In Progress",children:"In Progress"}),r.jsx(_,{value:"On Hold",children:"On Hold"}),r.jsx(_,{value:"Completed",children:"Completed"}),r.jsx(_,{value:"Cancelled",children:"Cancelled"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"startDate",children:"Start Date*"}),r.jsx(ke,{date:e.startDate,setDate:o=>s("startDate",o),required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"endDate",children:"End Date*"}),r.jsx(ke,{date:e.endDate,setDate:o=>s("endDate",o),required:!0})]})]})]}),r.jsxs("section",{children:[r.jsx(Zh,{title:"Client Information",icon:iu}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"clientName",children:"Client Company Name*"}),r.jsx($,{id:"clientName",name:"name",value:e.clientInfo.name,onChange:n,placeholder:"Client Company LLC",required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"contactPerson",children:"Contact Person"}),r.jsx($,{id:"contactPerson",name:"contactPerson",value:e.clientInfo.contactPerson,onChange:n,placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"email",children:"Client Email"}),r.jsx($,{id:"email",name:"email",type:"email",value:e.clientInfo.email,onChange:n,placeholder:"contact@client.com"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"phone",children:"Client Phone"}),r.jsx($,{id:"phone",name:"phone",type:"tel",value:e.clientInfo.phone,onChange:n,placeholder:"+1-555-123-4567"})]})]})]}),r.jsxs("section",{children:[r.jsx(Zh,{title:"Financials",icon:Qe}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"budgetAllocation",children:"Budget Allocation"}),r.jsx($,{id:"budgetAllocation",name:"budgetAllocation",type:"number",value:e.budgetAllocation,onChange:t,placeholder:"e.g., 1000000"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"currency",children:"Currency"}),r.jsxs(te,{name:"currency",value:e.currency,onValueChange:o=>i(a=>({...a,currency:o})),children:[r.jsx(Z,{id:"currency",children:r.jsx(ne,{placeholder:"Select currency"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"USD",children:"USD"}),r.jsx(_,{value:"EUR",children:"EUR"}),r.jsx(_,{value:"GBP",children:"GBP"}),r.jsx(_,{value:"SAR",children:"SAR"}),r.jsx(_,{value:"AED",children:"AED"})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"taxationInfo",children:"Taxation Info"}),r.jsx($,{id:"taxationInfo",name:"taxationInfo",value:e.taxationInfo,onChange:t,placeholder:"e.g., VAT 15% Applicable"})]})]})]})]}),Kq=({title:e,icon:t})=>r.jsxs("h3",{className:"text-lg font-semibold mb-3 border-b pb-2 text-primary flex items-center",children:[r.jsx(t,{className:"mr-2 h-5 w-5"}),e]}),dP=({formData:e,handleFileChange:t,removeFile:n})=>{const s=(i,o,a)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs(E,{htmlFor:o,className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),i]}),r.jsx($,{id:o,type:"file",multiple:!0,onChange:l=>t(l,o),className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),a&&a.length>0&&r.jsx("div",{className:"mt-2 space-y-1",children:a.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-1.5 bg-muted/50 rounded-md text-xs",children:[r.jsx("span",{className:"truncate",title:l.name,children:l.name}),r.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>n(o,l.id||l.name),className:"h-6 w-6",children:r.jsx(Re,{className:"h-3 w-3 text-destructive"})})]},l.id||l.name))})]});return r.jsxs("section",{children:[r.jsx(Kq,{title:"Document Uploads",icon:tn}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s("Drawings (.pdf, .dwg)","drawings",e.drawings),s("Bill of Quantities (BOQ) (.xls, .pdf)","boq",e.boq),s("Legal Documents (.pdf, .doc)","legalDocs",e.legalDocs),s("Safety Certificates (.pdf)","safetyCerts",e.safetyCerts)]})]})},Xq=({title:e,icon:t,onAdd:n,addLabel:s})=>r.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[r.jsxs("h3",{className:"text-lg font-semibold text-primary flex items-center",children:[r.jsx(t,{className:"mr-2 h-5 w-5"}),e]}),n&&r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:n,className:"text-primary border-primary hover:bg-primary/10",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),s]})]}),uP=({formData:e,handleAssignmentChange:t,addAssignment:n,removeAssignment:s})=>r.jsxs("section",{children:[r.jsx(Xq,{title:"Assignment Workflow",icon:iu,onAdd:n,addLabel:"Add Assignment"}),e.assignments.map((i,o)=>r.jsxs(B,{className:"mb-4 p-4 bg-slate-50/50",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:`assignmentRole-${o}`,children:"Role"}),r.jsxs(te,{name:"role",value:i.role,onValueChange:a=>t(o,{target:{name:"role",value:a}}),children:[r.jsx(Z,{id:`assignmentRole-${o}`,children:r.jsx(ne,{placeholder:"Select role"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Project Manager",children:"Project Manager"}),r.jsx(_,{value:"Site Engineer",children:"Site Engineer"}),r.jsx(_,{value:"Lead Contractor",children:"Lead Contractor"}),r.jsx(_,{value:"Sub-Contractor",children:"Sub-Contractor"}),r.jsx(_,{value:"Consultant",children:"Consultant"}),r.jsx(_,{value:"Safety Officer",children:"Safety Officer"})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`assignmentName-${o}`,children:"Name/Company"}),r.jsx($,{id:`assignmentName-${o}`,name:"name",value:i.name,onChange:a=>t(o,a),placeholder:"Person or Company Name"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`assignmentContact-${o}`,children:"Contact Info"}),r.jsx($,{id:`assignmentContact-${o}`,name:"contact",value:i.contact,onChange:a=>t(o,a),placeholder:"Email or Phone"})]})]}),e.assignments.length>1&&r.jsx("div",{className:"text-right mt-2",children:r.jsxs(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>s(o),className:"text-destructive hover:bg-destructive/10",children:[r.jsx(Re,{className:"mr-1 h-3 w-3"}),"Remove"]})})]},o))]}),Jq=({title:e,icon:t,onAdd:n,addLabel:s})=>r.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[r.jsxs("h3",{className:"text-lg font-semibold text-primary flex items-center",children:[r.jsx(t,{className:"mr-2 h-5 w-5"}),e]}),n&&r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:n,className:"text-primary border-primary hover:bg-primary/10",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),s]})]}),hP=({formData:e,handleMilestoneChange:t,addMilestone:n,removeMilestone:s})=>r.jsxs("section",{children:[r.jsx(Jq,{title:"Milestones & Deliverables",icon:SA,onAdd:n,addLabel:"Add Milestone"}),e.milestones.map((i,o)=>r.jsxs(B,{className:"mb-4 p-4 bg-slate-50/50",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:`milestoneTitle-${o}`,children:"Milestone Title"}),r.jsx($,{id:`milestoneTitle-${o}`,value:i.title,onChange:a=>t(o,"title",a.target.value),placeholder:"e.g., Foundation Complete"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`milestoneDueDate-${o}`,children:"Due Date"}),r.jsx(ke,{date:i.dueDate,setDate:a=>t(o,"dueDate",a)})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(E,{htmlFor:`milestoneDesc-${o}`,children:"Description/Deliverables"}),r.jsx(we,{id:`milestoneDesc-${o}`,value:i.description,onChange:a=>t(o,"description",a.target.value),placeholder:"Key deliverables for this milestone"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(E,{htmlFor:`milestoneStatus-${o}`,children:"Status"}),r.jsxs(te,{value:i.status,onValueChange:a=>t(o,"status",a),children:[r.jsx(Z,{id:`milestoneStatus-${o}`,children:r.jsx(ne,{placeholder:"Select status"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Pending",children:"Pending"}),r.jsx(_,{value:"In Progress",children:"In Progress"}),r.jsx(_,{value:"Completed",children:"Completed"}),r.jsx(_,{value:"Delayed",children:"Delayed"})]})]})]}),e.milestones.length>1&&r.jsx("div",{className:"text-right mt-2",children:r.jsxs(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>s(o),className:"text-destructive hover:bg-destructive/10",children:[r.jsx(Re,{className:"mr-1 h-3 w-3"}),"Remove"]})})]},o))]}),Zq=()=>{const e=Pt(),t=pr(),{toast:n}=fe(),[s,i]=je("projects",[]),[o,a]=f.useState(!1),[l,c]=f.useState(null),d={title:"",dueDate:null,description:"",status:"Pending"},h={role:"Project Manager",name:"",contact:""},u=()=>({id:`PROJ-${Date.now().toString(36).substr(2,9).toUpperCase()}`,projectName:"",clientInfo:{name:"",contactPerson:"",email:"",phone:""},projectIDString:"",location:"",startDate:null,endDate:null,budgetAllocation:"",currency:"USD",taxationInfo:"",drawings:[],boq:[],legalDocs:[],safetyCerts:[],assignments:[h],milestones:[d],projectStatus:"Planning",creationDate:new Date().toISOString(),lastModified:new Date().toISOString()}),[m,p]=f.useState(u());f.useEffect(()=>{const D=new URLSearchParams(t.search).get("edit");if(D){const C=s.find(T=>T.id===D);C?(p({...C,startDate:C.startDate?new Date(C.startDate):null,endDate:C.endDate?new Date(C.endDate):null,clientInfo:C.clientInfo||{name:"",contactPerson:"",email:"",phone:""},drawings:C.drawings||[],boq:C.boq||[],legalDocs:C.legalDocs||[],safetyCerts:C.safetyCerts||[],assignments:C.assignments&&C.assignments.length>0?C.assignments:[h],milestones:C.milestones&&C.milestones.length>0?C.milestones.map(T=>({...T,dueDate:T.dueDate?new Date(T.dueDate):null})):[d]}),a(!0),c(D)):(n({variant:"destructive",title:"Error",description:"Project to edit not found."}),e("/projects"))}else p(u()),a(!1),c(null)},[t.search,s,e,n]);const v=P=>{const{name:D,value:C}=P.target;p(T=>({...T,[D]:C}))},g=P=>{const{name:D,value:C}=P.target;p(T=>({...T,clientInfo:{...T.clientInfo,[D]:C}}))},w=(P,D)=>{p(C=>({...C,[P]:D}))},j=(P,D)=>{const T=Array.from(P.target.files).map(I=>({name:I.name,file:I,type:D,uploadDate:new Date().toISOString(),id:`DOC-${Date.now().toString(36).substr(2,9)}-${Math.random().toString(36).substr(2,5)}`}));p(I=>({...I,[D.toLowerCase().replace(/\s+/g,"")]:[...I[D.toLowerCase().replace(/\s+/g,"")]||[],...T]})),P.target.value=null},y=(P,D)=>{p(C=>({...C,[P.toLowerCase().replace(/\s+/g,"")]:C[P.toLowerCase().replace(/\s+/g,"")].filter(T=>T.id!==D)}))},x=(P,D)=>{const{name:C,value:T}=D.target,I=[...m.assignments];I[P]={...I[P],[C]:T},p(W=>({...W,assignments:I}))},b=()=>{p(P=>({...P,assignments:[...P.assignments,{...h}]}))},N=P=>{p(D=>({...D,assignments:D.assignments.filter((C,T)=>T!==P)}))},M=(P,D,C)=>{const T=[...m.milestones];T[P]={...T[P],[D]:C},p(I=>({...I,milestones:T}))},S=()=>{p(P=>({...P,milestones:[...P.milestones,{...d}]}))},k=P=>{p(D=>({...D,milestones:D.milestones.filter((C,T)=>T!==P)}))},R=P=>{if(P.preventDefault(),!m.projectName||!m.clientInfo.name||!m.startDate||!m.endDate){n({variant:"destructive",title:"Missing Fields",description:"Project Name, Client Name, Start Date, and End Date are required."});return}if(new Date(m.endDate)<new Date(m.startDate)){n({variant:"destructive",title:"Invalid Dates",description:"End Date cannot be before Start Date."});return}const D={...m,lastModified:new Date().toISOString(),drawings:m.drawings.map(C=>({name:C.name,type:C.type,uploadDate:C.uploadDate,id:C.id})),boq:m.boq.map(C=>({name:C.name,type:C.type,uploadDate:C.uploadDate,id:C.id})),legalDocs:m.legalDocs.map(C=>({name:C.name,type:C.type,uploadDate:C.uploadDate,id:C.id})),safetyCerts:m.safetyCerts.map(C=>({name:C.name,type:C.type,uploadDate:C.uploadDate,id:C.id}))};if(o){const C=s.map(T=>T.id===l?D:T);i(C),n({title:"Project Updated",description:`Project "${D.projectName}" has been successfully updated.`})}else{const C={...D,id:`PROJ-${Date.now().toString(36).substr(2,9).toUpperCase()}`};i([...s,C]),n({title:"Project Created",description:`Project "${C.projectName}" has been successfully created.`})}e("/projects")};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-5xl mx-auto p-4 sm:p-6 lg:p-8",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-primary",children:[r.jsx(G,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-primary flex items-center",children:[r.jsx(yt,{className:"mr-2 h-6 w-6"}),o?"Edit Project Details":"Create New Project"]}),r.jsxs(pe,{children:["Fill in the details to ",o?"update":"set up"," your construction project."]})]}),r.jsxs(O,{variant:"outline",onClick:()=>e("/projects"),children:[r.jsx(qa,{className:"mr-2 h-4 w-4"}),"Back to Projects"]})]})}),r.jsxs("form",{onSubmit:R,children:[r.jsxs(Q,{className:"space-y-8",children:[r.jsx(cP,{formData:m,handleInputChange:v,handleClientInfoChange:g,handleDateChange:w,setFormData:p}),r.jsx(dP,{formData:m,handleFileChange:j,removeFile:y}),r.jsx(uP,{formData:m,handleAssignmentChange:x,addAssignment:b,removeAssignment:N}),r.jsx(hP,{formData:m,handleMilestoneChange:M,addMilestone:S,removeMilestone:k})]}),r.jsxs(ct,{className:"flex justify-end space-x-3 py-6 border-t",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>e("/projects"),children:"Cancel"}),r.jsxs(O,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(ig,{className:"mr-2 h-4 w-4"}),o?"Save Changes":"Create Project"]})]})]})]})})},eB=()=>{const e=Pt(),t=pr(),{toast:n}=fe(),{user:s}=bl(),i=xt(Fe.projects.createProject),o=xt(Fe.projects.updateProject),a=xt(Fe.projects.createProjectAssignment),l=xt(Fe.projects.createProjectMilestone),c=xt(Fe.storage.generateUploadUrl),d=xt(Fe.storage.storeFile),h=xt(Fe.storage.addProjectDocument),[u,m]=f.useState(!1),[p,v]=f.useState(null),[g,w]=f.useState(!1),j={title:"",dueDate:null,description:"",status:"Pending"},y={role:"Project Manager",name:"",contact:""},x=()=>({id:`PROJ-${Date.now().toString(36).substr(2,9).toUpperCase()}`,projectName:"",clientInfo:{name:"",contactPerson:"",email:"",phone:""},projectIDString:"",location:"",startDate:null,endDate:null,budgetAllocation:"",currency:"USD",taxationInfo:"",drawings:[],boq:[],legalDocs:[],safetyCerts:[],assignments:[y],milestones:[j],projectStatus:"Planning",creationDate:new Date().toISOString(),lastModified:new Date().toISOString()}),[b,N]=f.useState(x()),S=new URLSearchParams(t.search).get("edit"),k=Cn(Fe.projects.getProjectById,S?{projectId:S}:"skip");f.useEffect(()=>{k?(N({...k,startDate:k.startDate?new Date(k.startDate):null,endDate:k.endDate?new Date(k.endDate):null,assignments:k.assignments&&k.assignments.length>0?k.assignments:[y],milestones:k.milestones&&k.milestones.length>0?k.milestones.map(H=>({...H,dueDate:H.dueDate?new Date(H.dueDate):null})):[j]}),m(!0),v(S)):S&&k===null&&(n({variant:"destructive",title:"Error",description:"Project to edit not found."}),e("/projects"))},[k,S,e,n]);const R=H=>{const{name:re,value:he}=H.target;N(q=>({...q,[re]:he}))},P=H=>{const{name:re,value:he}=H.target;N(q=>({...q,clientInfo:{...q.clientInfo,[re]:he}}))},D=(H,re)=>{N(he=>({...he,[H]:re}))},C=async(H,re)=>{const he=Array.from(H.target.files);for(const q of he)try{const me=await c(),oe=await fetch(me,{method:"POST",headers:{"Content-Type":q.type},body:q});if(!oe.ok)throw new Error("Failed to upload file");const{storageId:ae}=await oe.json(),Me=await d({storageId:ae,fileName:q.name,fileType:q.type,fileSize:q.size,uploadedBy:s.userId,category:re}),Ee={storageId:ae,name:q.name,type:re,uploadDate:new Date().toISOString(),id:`DOC-${Date.now().toString(36).substr(2,9)}-${Math.random().toString(36).substr(2,5)}`};N(Ne=>({...Ne,[re.toLowerCase().replace(/\s+/g,"")]:[...Ne[re.toLowerCase().replace(/\s+/g,"")]||[],Ee]})),n({title:"File Uploaded",description:`${q.name} uploaded successfully.`})}catch(me){console.error("Upload error:",me),n({variant:"destructive",title:"Upload Failed",description:me.message})}H.target.value=null},T=(H,re)=>{N(he=>({...he,[H.toLowerCase().replace(/\s+/g,"")]:he[H.toLowerCase().replace(/\s+/g,"")].filter(q=>q.id!==re)}))},I=(H,re)=>{const{name:he,value:q}=re.target,me=[...b.assignments];me[H]={...me[H],[he]:q},N(oe=>({...oe,assignments:me}))},W=()=>{N(H=>({...H,assignments:[...H.assignments,{...y}]}))},L=H=>{N(re=>({...re,assignments:re.assignments.filter((he,q)=>q!==H)}))},V=(H,re,he)=>{const q=[...b.milestones];q[H]={...q[H],[re]:he},N(me=>({...me,milestones:q}))},A=()=>{N(H=>({...H,milestones:[...H.milestones,{...j}]}))},F=H=>{N(re=>({...re,milestones:re.milestones.filter((he,q)=>q!==H)}))},J=async H=>{if(H.preventDefault(),!b.projectName||!b.clientInfo.name||!b.startDate||!b.endDate){n({variant:"destructive",title:"Missing Fields",description:"Project Name, Client Name, Start Date, and End Date are required."});return}if(new Date(b.endDate)<new Date(b.startDate)){n({variant:"destructive",title:"Invalid Dates",description:"End Date cannot be before Start Date."});return}w(!0);try{let re;if(u?(await o({projectId:p,projectName:b.projectName,projectIDString:b.projectIDString,clientInfo:b.clientInfo,location:b.location,startDate:b.startDate.toISOString(),endDate:b.endDate.toISOString(),budgetAllocation:b.budgetAllocation,currency:b.currency,taxationInfo:b.taxationInfo,projectStatus:b.projectStatus}),re=p,n({title:"Project Updated",description:`Project "${b.projectName}" has been successfully updated.`})):(re=await i({projectName:b.projectName,projectIDString:b.projectIDString,clientInfo:b.clientInfo,location:b.location,startDate:b.startDate.toISOString(),endDate:b.endDate.toISOString(),budgetAllocation:b.budgetAllocation,currency:b.currency,taxationInfo:b.taxationInfo,projectStatus:b.projectStatus,createdBy:s.userId}),n({title:"Project Created",description:`Project "${b.projectName}" has been successfully created.`})),!u){for(const q of b.assignments)q.name&&q.role&&await a({projectId:re,role:q.role,name:q.name,contact:q.contact,assignedBy:s.userId});for(const q of b.milestones)q.title&&q.dueDate&&await l({projectId:re,title:q.title,dueDate:q.dueDate.toISOString(),description:q.description,status:q.status,createdBy:s.userId});const he=["drawings","boq","legalDocs","safetyCerts"];for(const q of he){const me=b[q]||[];for(const oe of me)oe.storageId&&await h({projectId:re,storageId:oe.storageId,documentType:q})}}e("/projects")}catch(re){console.error("Submit error:",re),n({variant:"destructive",title:"Error",description:re.message})}finally{w(!1)}};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-5xl mx-auto p-4 sm:p-6 lg:p-8",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-primary",children:[r.jsx(G,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-primary flex items-center",children:[r.jsx(yt,{className:"mr-2 h-6 w-6"}),u?"Edit Project Details":"Create New Project"]}),r.jsxs(pe,{children:["Fill in the details to ",u?"update":"set up"," your construction project."]})]}),r.jsxs(O,{variant:"outline",onClick:()=>e("/projects"),children:[r.jsx(qa,{className:"mr-2 h-4 w-4"}),"Back to Projects"]})]})}),r.jsxs("form",{onSubmit:J,children:[r.jsxs(Q,{className:"space-y-8",children:[r.jsx(cP,{formData:b,handleInputChange:R,handleClientInfoChange:P,handleDateChange:D,setFormData:N}),r.jsx(dP,{formData:b,handleFileChange:C,removeFile:T}),r.jsx(uP,{formData:b,handleAssignmentChange:I,addAssignment:W,removeAssignment:L}),r.jsx(hP,{formData:b,handleMilestoneChange:V,addMilestone:A,removeMilestone:F})]}),r.jsxs(ct,{className:"flex justify-end space-x-3 py-6 border-t",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>e("/projects"),disabled:g,children:"Cancel"}),r.jsxs(O,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",disabled:g,children:[r.jsx(ig,{className:"mr-2 h-4 w-4"}),g?"Saving...":u?"Save Changes":"Create Project"]})]})]})]})})},Ft=ce.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:ue("w-full caption-bottom text-sm",e),...t})}));Ft.displayName="Table";const _t=ce.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:ue("[&_tr]:border-b",e),...t}));_t.displayName="TableHeader";const $t=ce.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:ue("[&_tr:last-child]:border-0",e),...t}));$t.displayName="TableBody";const tB=ce.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));tB.displayName="TableFooter";const De=ce.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));De.displayName="TableRow";const K=ce.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));K.displayName="TableHead";const Y=ce.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Y.displayName="TableCell";const nB=ce.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:ue("mt-4 text-sm text-muted-foreground",e),...t}));nB.displayName="TableCaption";const rB=["All Sites","North Sector","South Sector","East Sector","West Sector","Central Hub","Remote Site A","Unassigned"],sB=["All Statuses","Planning","In Progress","On Hold","Completed","Cancelled"],iB=()=>{const[e,t]=je("projects",[]),[n,s]=f.useState(""),[i,o]=f.useState("All Sites"),[a,l]=f.useState("All Statuses"),{toast:c}=fe(),d=f.useMemo(()=>e.filter(u=>{const m=u.projectName.toLowerCase().includes(n.toLowerCase())||u.projectCode.toLowerCase().includes(n.toLowerCase())||u.clientName&&u.clientName.toLowerCase().includes(n.toLowerCase())||u.siteManager&&u.siteManager.toLowerCase().includes(n.toLowerCase())||u.id.toLowerCase().includes(n.toLowerCase()),p=i==="All Sites"||u.siteLocation===i||i==="Unassigned"&&!u.siteLocation,v=a==="All Statuses"||u.projectStatus===a;return m&&p&&v}),[e,n,i,a]),h=u=>{if(window.confirm("Are you sure you want to delete this project record? This action cannot be undone.")){const m=e.find(p=>p.id===u);t(p=>p.filter(v=>v.id!==u)),c({title:"Project Deleted",description:`Project ${(m==null?void 0:m.projectName)||u} has been removed.`,variant:"destructive"})}};return r.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:r.jsxs(B,{className:"shadow-xl border-t-4 border-primary",children:[r.jsxs(G,{className:"bg-gradient-to-r from-primary/10 to-accent/10 p-6 rounded-t-lg",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsx(z,{className:"text-2xl font-bold text-primary",children:"Project Records"}),r.jsx(pe,{children:"Manage and view all registered project information."})]}),r.jsx(O,{asChild:!0,className:"mt-4 md:mt-0 bg-primary hover:bg-primary/90",children:r.jsxs($e,{to:"/project-setup",children:[r.jsx(hf,{className:"mr-2 h-4 w-4"})," Setup New Project"]})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{className:"relative md:col-span-1",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx($,{placeholder:"Search by name, code, client...",className:"pl-10 w-full",value:n,onChange:u=>s(u.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"siteFilter",className:"sr-only",children:"Filter by Site"}),r.jsxs(te,{value:i,onValueChange:o,children:[r.jsx(Z,{id:"siteFilter",className:"w-full",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx(ne,{placeholder:"Filter by Site Location"})]})}),r.jsx(ee,{children:rB.map(u=>r.jsx(_,{value:u,children:u},u))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"statusFilter",className:"sr-only",children:"Filter by Status"}),r.jsxs(te,{value:a,onValueChange:l,children:[r.jsx(Z,{id:"statusFilter",className:"w-full",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx(ne,{placeholder:"Filter by Project Status"})]})}),r.jsx(ee,{children:sB.map(u=>r.jsx(_,{value:u,children:u},u))})]})]})]})]}),r.jsx(Q,{className:"p-0",children:d.length===0?r.jsxs("div",{className:"text-center p-10 text-muted-foreground",children:[r.jsx(tg,{className:"mx-auto h-12 w-12 mb-4"}),r.jsx("p",{className:"text-lg font-semibold",children:"No project records found."}),r.jsx("p",{children:n||i!=="All Sites"||a!=="All Statuses"?"Try adjusting your search or filter criteria.":"Setup a new project to get started."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Project ID"}),r.jsx(K,{children:"Project Name"}),r.jsx(K,{children:"Client"}),r.jsx(K,{children:"Site Location"}),r.jsx(K,{children:"Start Date"}),r.jsx(K,{children:"Status"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:d.map(u=>r.jsxs(de.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"hover:bg-primary/5",children:[r.jsx(Y,{className:"font-medium text-xs",children:u.id}),r.jsx(Y,{children:u.projectName}),r.jsx(Y,{children:u.clientName||"N/A"}),r.jsx(Y,{children:u.siteLocation||r.jsx("span",{className:"italic text-muted-foreground",children:"Unassigned"})}),r.jsx(Y,{children:u.startDate?Pe(new Date(u.startDate),"dd MMM yyyy"):"N/A"}),r.jsx(Y,{children:r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.projectStatus==="Completed"?"bg-green-100 text-green-700":u.projectStatus==="In Progress"?"bg-blue-100 text-blue-700":u.projectStatus==="On Hold"?"bg-yellow-100 text-yellow-700":u.projectStatus==="Cancelled"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:u.projectStatus||"N/A"})}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",className:"hover:text-primary",asChild:!0,title:"View Details",children:r.jsx($e,{to:`/projects/${u.id}`,children:r.jsx(dl,{className:"h-4 w-4"})})}),r.jsx(O,{variant:"ghost",size:"icon",className:"hover:text-accent-foreground",asChild:!0,title:"Edit Project",children:r.jsx($e,{to:`/project-setup?edit=${u.id}`,children:r.jsx(Ts,{className:"h-4 w-4"})})}),r.jsx(O,{variant:"ghost",size:"icon",className:"hover:text-destructive",onClick:()=>h(u.id),title:"Delete Project",children:r.jsx(Re,{className:"h-4 w-4"})})]})]},u.id))})]})})}),d.length>0&&r.jsxs("div",{className:"p-4 border-t text-sm text-muted-foreground",children:["Showing ",d.length," of ",e.length," projects."]})]})})},oB=["All Sites","North Sector","South Sector","East Sector","West Sector","Central Hub","Remote Site A","Unassigned"],aB=["All Statuses","Planning","In Progress","On Hold","Completed","Cancelled"],lB=()=>{const e=Cn(Fe.projects.listProjects)||[],t=xt(Fe.projects.deleteProject),[n,s]=f.useState(""),[i,o]=f.useState("All Sites"),[a,l]=f.useState("All Statuses"),{toast:c}=fe(),d=f.useMemo(()=>e.filter(p=>{var j;const v=p.projectName.toLowerCase().includes(n.toLowerCase())||p.projectIDString&&p.projectIDString.toLowerCase().includes(n.toLowerCase())||((j=p.clientInfo)==null?void 0:j.name)&&p.clientInfo.name.toLowerCase().includes(n.toLowerCase())||p.location&&p.location.toLowerCase().includes(n.toLowerCase())||p._id.toLowerCase().includes(n.toLowerCase()),g=i==="All Sites"||p.location===i||i==="Unassigned"&&!p.location,w=a==="All Statuses"||p.projectStatus===a;return v&&g&&w}),[e,n,i,a]),h=async p=>{if(window.confirm("Are you sure you want to delete this project record? This action cannot be undone."))try{const v=e.find(g=>g._id===p);await t({projectId:p}),c({title:"Project Deleted",description:`Project ${(v==null?void 0:v.projectName)||p} has been removed.`,variant:"destructive"})}catch{c({variant:"destructive",title:"Delete Failed",description:"Could not delete project. Please try again."})}},u=p=>{if(!p)return"Not set";try{return Pe(new Date(p),"MMM dd, yyyy")}catch{return"Invalid date"}},m=p=>{const v={Planning:"bg-blue-100 text-blue-800","In Progress":"bg-green-100 text-green-800","On Hold":"bg-yellow-100 text-yellow-800",Completed:"bg-gray-100 text-gray-800",Cancelled:"bg-red-100 text-red-800"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v[p]||"bg-gray-100 text-gray-800"}`,children:p})};return r.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:r.jsxs(B,{className:"shadow-xl border-t-4 border-primary",children:[r.jsxs(G,{className:"bg-gradient-to-r from-primary/10 to-accent/10 p-6 rounded-t-lg",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsx(z,{className:"text-2xl font-bold text-primary",children:"Project Records"}),r.jsx(pe,{children:"Manage and view all registered project information."})]}),r.jsx(O,{asChild:!0,className:"mt-4 md:mt-0 bg-primary hover:bg-primary/90",children:r.jsxs($e,{to:"/project-setup",children:[r.jsx(hf,{className:"mr-2 h-4 w-4"})," Setup New Project"]})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{className:"relative md:col-span-1",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx($,{placeholder:"Search by name, code, client...",className:"pl-10 w-full",value:n,onChange:p=>s(p.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"siteFilter",className:"sr-only",children:"Filter by Site"}),r.jsxs(te,{value:i,onValueChange:o,children:[r.jsx(Z,{id:"siteFilter",className:"w-full",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx(ne,{placeholder:"Filter by Site Location"})]})}),r.jsx(ee,{children:oB.map(p=>r.jsx(_,{value:p,children:p},p))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"statusFilter",className:"sr-only",children:"Filter by Status"}),r.jsxs(te,{value:a,onValueChange:l,children:[r.jsx(Z,{id:"statusFilter",className:"w-full",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx(ne,{placeholder:"Filter by Project Status"})]})}),r.jsx(ee,{children:aB.map(p=>r.jsx(_,{value:p,children:p},p))})]})]})]})]}),r.jsx(Q,{className:"p-0",children:d.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(tg,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:e.length===0?"No Projects Found":"No Matching Projects"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.length===0?"Get started by setting up your first construction project.":"Try adjusting your search or filter criteria."}),e.length===0&&r.jsx(O,{asChild:!0,children:r.jsxs($e,{to:"/project-setup",children:[r.jsx(hf,{className:"mr-2 h-4 w-4"})," Setup First Project"]})})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{className:"border-b-2",children:[r.jsx(K,{className:"font-semibold",children:"Project Name"}),r.jsx(K,{className:"font-semibold",children:"Project ID"}),r.jsx(K,{className:"font-semibold",children:"Client"}),r.jsx(K,{className:"font-semibold",children:"Status"}),r.jsx(K,{className:"font-semibold",children:"Start Date"}),r.jsx(K,{className:"font-semibold",children:"End Date"}),r.jsx(K,{className:"font-semibold",children:"Location"}),r.jsx(K,{className:"font-semibold text-right",children:"Actions"})]})}),r.jsx($t,{children:d.map(p=>{var v;return r.jsxs(De,{className:"hover:bg-muted/50 transition-colors",children:[r.jsx(Y,{className:"font-medium",children:p.projectName}),r.jsx(Y,{children:p.projectIDString||"N/A"}),r.jsx(Y,{children:((v=p.clientInfo)==null?void 0:v.name)||"No client"}),r.jsx(Y,{children:m(p.projectStatus)}),r.jsx(Y,{children:u(p.startDate)}),r.jsx(Y,{children:u(p.endDate)}),r.jsx(Y,{children:p.location||"Not specified"}),r.jsx(Y,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(O,{variant:"ghost",size:"sm",asChild:!0,children:r.jsx($e,{to:`/projects/${p._id}`,children:r.jsx(dl,{className:"h-4 w-4"})})}),r.jsx(O,{variant:"ghost",size:"sm",asChild:!0,children:r.jsx($e,{to:`/project-setup?edit=${p._id}`,children:r.jsx(Ts,{className:"h-4 w-4"})})}),r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>h(p._id),className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:r.jsx(Re,{className:"h-4 w-4"})})]})})]},p._id)})})]})})})]})})},cB=({project:e,hasOverdueTasks:t,isBudgetExceeded:n,onUpdateStatus:s})=>{var a,l;const i=["Planning","In Progress","On Hold","Completed","Cancelled"],o=c=>{switch(c){case"Planning":return r.jsx(Kv,{className:"h-5 w-5 mr-2 flex-shrink-0 text-gray-500"});case"In Progress":return r.jsx(Kv,{className:"h-5 w-5 mr-2 flex-shrink-0 text-blue-500"});case"On Hold":return r.jsx(NA,{className:"h-5 w-5 mr-2 flex-shrink-0 text-yellow-500"});case"Completed":return r.jsx(ar,{className:"h-5 w-5 mr-2 flex-shrink-0 text-green-500"});case"Cancelled":return r.jsx(ai,{className:"h-5 w-5 mr-2 flex-shrink-0 text-red-500"});default:return r.jsx(tg,{className:"h-5 w-5 mr-2 flex-shrink-0 text-gray-500"})}};return r.jsxs(G,{className:"bg-gradient-to-r from-primary/10 to-accent/10 p-6 rounded-t-lg flex flex-col md:flex-row justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[o(e.projectStatus),r.jsxs("div",{children:[r.jsx(z,{className:"text-3xl font-bold text-primary",children:e.projectName}),r.jsxs(pe,{children:["Project ID: ",e.id," | Client: ",e.clientName||"N/A"]})]})]}),(t||n)&&r.jsxs("div",{className:"mt-3 space-y-1",children:[t&&r.jsxs("div",{className:"flex items-center text-sm text-orange-600 bg-orange-500/10 p-2 rounded-md",children:[r.jsx(be,{className:"h-5 w-5 mr-2 flex-shrink-0"}),r.jsx("span",{children:"One or more tasks are overdue. Check Tasks tab."})]}),n&&r.jsxs("div",{className:"flex items-center text-sm text-red-600 bg-red-500/10 p-2 rounded-md",children:[r.jsx(Qe,{className:"h-5 w-5 mr-2 flex-shrink-0"}),r.jsxs("span",{children:["Project budget has been exceeded. Current Cost: $",(a=e.currentCost)==null?void 0:a.toLocaleString()," vs Budget: $",(l=e.projectBudget)==null?void 0:l.toLocaleString()]})]})]})]}),r.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col items-center space-y-2",children:[e.qrCodeValue?r.jsx("img",{alt:`QR Code for ${e.projectName}`,className:"w-24 h-24 border p-1 rounded-md bg-white shadow-sm",src:"https://images.unsplash.com/photo-1626682561113-d1db402cc866"}):r.jsxs("div",{className:"w-24 h-24 border p-1 rounded-md bg-white shadow-sm flex flex-col items-center justify-center text-center",children:[r.jsx(mb,{className:"h-8 w-8 text-gray-400 mb-1"}),r.jsx("p",{className:"text-xs text-gray-500",children:"No Project QR"})]}),r.jsx("div",{className:"w-full",children:r.jsxs(te,{value:e.projectStatus,onValueChange:s,children:[r.jsx(Z,{className:"w-full",children:r.jsx(ne,{placeholder:"Update Status"})}),r.jsx(ee,{children:i.map(c=>r.jsx(_,{value:c,children:r.jsxs("div",{className:"flex items-center",children:[o(c)," ",c]})},c))})]})})]})]})};var Ou="Tabs",[dB,O9]=En(Ou,[wu]),mP=wu(),[uB,vx]=dB(Ou),fP=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=pu(l),[u,m]=Or({prop:s,onChange:i,defaultProp:o??"",caller:Ou});return r.jsx(uB,{scope:n,baseId:qn(),value:u,onValueChange:m,orientation:a,dir:h,activationMode:c,children:r.jsx(ge.div,{dir:h,"data-orientation":a,...d,ref:t})})});fP.displayName=Ou;var pP="TabsList",gP=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,o=vx(pP,n),a=mP(n);return r.jsx(AN,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:s,children:r.jsx(ge.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});gP.displayName=pP;var xP="TabsTrigger",vP=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...o}=e,a=vx(xP,n),l=mP(n),c=wP(a.baseId,s),d=bP(a.baseId,s),h=s===a.value;return r.jsx(RN,{asChild:!0,...l,focusable:!i,active:h,children:r.jsx(ge.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...o,ref:t,onMouseDown:ie(e.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?a.onValueChange(s):u.preventDefault()}),onKeyDown:ie(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&a.onValueChange(s)}),onFocus:ie(e.onFocus,()=>{const u=a.activationMode!=="manual";!h&&!i&&u&&a.onValueChange(s)})})})});vP.displayName=xP;var yP="TabsContent",jP=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:o,...a}=e,l=vx(yP,n),c=wP(l.baseId,s),d=bP(l.baseId,s),h=s===l.value,u=f.useRef(h);return f.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(xn,{present:i||h,children:({present:m})=>r.jsx(ge.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:m&&o})})});jP.displayName=yP;function wP(e,t){return`${e}-trigger-${t}`}function bP(e,t){return`${e}-content-${t}`}var hB=fP,SP=gP,NP=vP,CP=jP;const yx=hB,Lu=ce.forwardRef(({className:e,...t},n)=>r.jsx(SP,{ref:n,className:ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Lu.displayName=SP.displayName;const rl=ce.forwardRef(({className:e,...t},n)=>r.jsx(NP,{ref:n,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));rl.displayName=NP.displayName;const br=ce.forwardRef(({className:e,...t},n)=>r.jsx(CP,{ref:n,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));br.displayName=CP.displayName;const qe=({icon:e,label:t,value:n,className:s="",isStatus:i=!1,statusColor:o="text-gray-600"})=>{const a={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return r.jsx(de.div,{variants:a,className:`p-4 bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow ${s}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[e&&r.jsx(e,{className:"h-6 w-6 text-primary mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:t}),i?r.jsx("p",{className:`text-lg font-semibold ${o}`,children:n||"N/A"}):r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:n||r.jsx("span",{className:"italic text-gray-400",children:"Not Provided"})})]})]})})},mB=({project:e,updateProjectData:t})=>{const n=i=>{switch(i){case"Completed":return"text-green-600";case"In Progress":return"text-blue-600";case"On Hold":return"text-yellow-600";case"Cancelled":return"text-red-600";default:return"text-gray-600"}},s=i=>{switch(i){case"Completed":return ar;case"In Progress":return id;case"On Hold":return lo;case"Cancelled":return lo;default:return id}};return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[r.jsxs("div",{className:"mb-8 p-4 bg-primary/5 rounded-lg",children:[r.jsx(z,{className:"text-xl mb-1 font-semibold text-primary",children:"Project Summary"}),r.jsx(pe,{className:"text-sm text-gray-600",children:e.projectScope||"No detailed scope provided."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-6",children:[r.jsx(qe,{icon:yt,label:"Project Code",value:e.projectCode}),r.jsx(qe,{icon:cd,label:"Client Name",value:e.clientName}),r.jsx(qe,{icon:cd,label:"Site Manager",value:e.siteManager}),r.jsx(qe,{icon:ii,label:"Site Location",value:e.siteLocation}),r.jsx(qe,{icon:s(e.projectStatus),label:"Project Status",value:e.projectStatus,isStatus:!0,statusColor:n(e.projectStatus)}),r.jsx(qe,{icon:Vn,label:"Start Date",value:e.startDate?Pe(new Date(e.startDate),"PPP"):"N/A"}),r.jsx(qe,{icon:Vn,label:"Expected End Date",value:e.expectedEndDate?Pe(new Date(e.expectedEndDate),"PPP"):"N/A"}),r.jsx(qe,{icon:Qe,label:"Project Budget",value:e.projectBudget?`$${parseFloat(e.projectBudget).toLocaleString()}`:"N/A"}),r.jsx(qe,{icon:Qe,label:"Contract Value",value:e.contractValue?`$${parseFloat(e.contractValue).toLocaleString()}`:"N/A"}),r.jsx(qe,{icon:Vn,label:"Contract Sign Date",value:e.contractSignDate?Pe(new Date(e.contractSignDate),"PPP"):"N/A"}),r.jsx(qe,{icon:st,label:"Project Type",value:e.projectType})]})]})},G0=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState(t.name||""),[o,a]=f.useState(t.description||""),[l,c]=f.useState(t.assignee||""),[d,h]=f.useState(t.dueDate?new Date(t.dueDate):null),[u,m]=f.useState(t.status||"Pending"),{toast:p}=fe(),v=g=>{if(g.preventDefault(),!s){p({variant:"destructive",title:"Task name is required."});return}e({id:t.id||`TASK-${Date.now()}`,name:s,description:o,assignee:l,dueDate:d?d.toISOString():null,status:u}),t.id||(i(""),a(""),c(""),h(null),m("Pending"))};return r.jsxs("form",{onSubmit:v,className:"space-y-4 p-4 border rounded-lg bg-slate-50 mb-6",children:[r.jsx($,{placeholder:"Task Name*",value:s,onChange:g=>i(g.target.value)}),r.jsx(we,{placeholder:"Description",value:o,onChange:g=>a(g.target.value)}),r.jsx($,{placeholder:"Assignee",value:l,onChange:g=>c(g.target.value)}),r.jsx(ke,{date:d,setDate:h,placeholder:"Due Date"}),r.jsxs(te,{value:u,onValueChange:m,children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Status"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Pending",children:"Pending"}),r.jsx(_,{value:"In Progress",children:"In Progress"}),r.jsx(_,{value:"Completed",children:"Completed"}),r.jsx(_,{value:"Blocked",children:"Blocked"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[n&&r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Task":"Add Task"})]})]})},fB=({project:e,updateProjectData:t})=>{const[n,s]=f.useState(!1),[i,o]=f.useState(null),{toast:a}=fe(),l=e.tasks||[],c=m=>{const p=[...l,m];t({tasks:p}),a({title:"Task Added",description:`${m.name} has been added.`}),s(!1)},d=m=>{const p=l.map(v=>v.id===m.id?m:v);t({tasks:p}),a({title:"Task Updated",description:`${m.name} has been updated.`}),o(null)},h=m=>{if(window.confirm("Are you sure you want to delete this task?")){const p=l.filter(v=>v.id!==m);t({tasks:p}),a({title:"Task Deleted",variant:"destructive"})}},u=m=>{let p="bg-gray-100 text-gray-700";return m==="Completed"?p="bg-green-100 text-green-700":m==="In Progress"?p="bg-blue-100 text-blue-700":m==="Pending"?p="bg-yellow-100 text-yellow-700":m==="Blocked"&&(p="bg-red-100 text-red-700"),r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${p}`,children:m})};return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx(z,{className:"text-xl font-semibold text-gray-700",children:"Tasks & Schedule"}),r.jsxs(O,{onClick:()=>{s(!n),o(null)},variant:n?"outline":"default",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," ",n?"Cancel":"Add New Task"]})]}),n&&!i&&r.jsx(G0,{onSubmit:c,onCancel:()=>s(!1)}),i&&r.jsx(G0,{onSubmit:d,initialData:i,onCancel:()=>o(null)}),l.length===0&&!n?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No tasks added yet. Click "Add New Task" to get started.'}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Task Name"}),r.jsx(K,{children:"Assignee"}),r.jsx(K,{children:"Due Date"}),r.jsx(K,{children:"Status"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:l.map(m=>r.jsxs(De,{className:new Date(m.dueDate)<new Date&&m.status!=="Completed"?"bg-red-500/10":"",children:[r.jsx(Y,{className:"font-medium",children:m.name}),r.jsx(Y,{children:m.assignee||"N/A"}),r.jsxs(Y,{children:[m.dueDate?Pe(new Date(m.dueDate),"PPP"):"N/A",new Date(m.dueDate)<new Date&&m.status!=="Completed"&&r.jsx(be,{className:"inline ml-2 h-4 w-4 text-red-500",title:"Overdue"})]}),r.jsx(Y,{children:u(m.status)}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{o(m),s(!1)},title:"Edit Task",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>h(m.id),title:"Delete Task",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},m.id))})]})})]})},Q0=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState(t.name||""),[o,a]=f.useState(t.type||""),[l,c]=f.useState(t.uploadDate?new Date(t.uploadDate):new Date),[d,h]=f.useState(t.expiryDate?new Date(t.expiryDate):null),[u,m]=f.useState(null),{toast:p}=fe(),v=g=>{if(g.preventDefault(),!s||!o){p({variant:"destructive",title:"Document name and type are required."});return}e({id:t.id||`DOC-${Date.now()}`,name:s,type:o,uploadDate:l.toISOString(),expiryDate:d?d.toISOString():null,fileName:u?u.name:t.fileName||"sample_document.pdf",fileSize:u?`${(u.size/1024).toFixed(1)} KB`:t.fileSize||"128 KB"}),t.id||(i(""),a(""),c(new Date),h(null),m(null))};return r.jsxs("form",{onSubmit:v,className:"space-y-4 p-4 border rounded-lg bg-slate-50 mb-6",children:[r.jsx($,{placeholder:"Document Name*",value:s,onChange:g=>i(g.target.value)}),r.jsx($,{placeholder:"Document Type* (e.g., Blueprint, Contract, Permit)",value:o,onChange:g=>a(g.target.value)}),r.jsx(ke,{date:l,setDate:c,placeholder:"Upload Date"}),r.jsx(ke,{date:d,setDate:h,placeholder:"Expiry Date (Optional)"}),r.jsx("div",{className:"flex items-center justify-center w-full",children:r.jsxs("label",{htmlFor:"doc-file-upload",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[r.jsx(tn,{className:"w-6 h-6 mb-1 text-gray-500"}),r.jsx("p",{className:"text-sm text-gray-500",children:u?u.name:"Click to upload or drag & drop"}),r.jsx("input",{id:"doc-file-upload",type:"file",className:"hidden",onChange:g=>m(g.target.files[0])})]})}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[n&&r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Document":"Add Document"})]})]})},pB=({project:e,updateProjectData:t})=>{const[n,s]=f.useState(!1),[i,o]=f.useState(null),{toast:a}=fe(),l=e.documents||[],c=m=>{const p=[...l,m];t({documents:p}),a({title:"Document Added",description:`${m.name} has been added.`}),s(!1)},d=m=>{const p=l.map(v=>v.id===m.id?m:v);t({documents:p}),a({title:"Document Updated",description:`${m.name} has been updated.`}),o(null)},h=m=>{if(window.confirm("Are you sure you want to delete this document?")){const p=l.filter(v=>v.id!==m);t({documents:p}),a({title:"Document Deleted",variant:"destructive"})}},u=m=>{a({title:"Downloading...",description:`Preparing ${m} for download.`})};return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx(z,{className:"text-xl font-semibold text-gray-700",children:"Project Documents"}),r.jsxs(O,{onClick:()=>{s(!n),o(null)},variant:n?"outline":"default",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"})," ",n?"Cancel":"Upload New Document"]})]}),n&&!i&&r.jsx(Q0,{onSubmit:c,onCancel:()=>s(!1)}),i&&r.jsx(Q0,{onSubmit:d,initialData:i,onCancel:()=>o(null)}),l.length===0&&!n?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No documents uploaded yet. Click "Upload New Document" to add files.'}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Document Name"}),r.jsx(K,{children:"Type"}),r.jsx(K,{children:"Upload Date"}),r.jsx(K,{children:"Expiry Date"}),r.jsx(K,{children:"File"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:l.map(m=>{const p=m.expiryDate&&new Date(m.expiryDate)<new Date;return r.jsxs(De,{className:p?"bg-red-500/10":"",children:[r.jsxs(Y,{className:"font-medium flex items-center",children:[r.jsx(st,{className:"mr-2 h-4 w-4 text-primary"})," ",m.name]}),r.jsx(Y,{children:m.type}),r.jsx(Y,{children:Pe(new Date(m.uploadDate),"PPP")}),r.jsxs(Y,{children:[m.expiryDate?Pe(new Date(m.expiryDate),"PPP"):"N/A",p&&r.jsx(be,{className:"inline ml-2 h-4 w-4 text-red-500",title:"Expired"})]}),r.jsxs(Y,{children:[m.fileName," (",m.fileSize,")"]}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>u(m.fileName),title:"Download Document",children:r.jsx(eg,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{o(m),s(!1)},title:"Edit Document",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>h(m.id),title:"Delete Document",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},m.id)})})]})})]})},Y0=({onSubmit:e,initialData:t={},onCancel:n,projectBudget:s})=>{var j;const[i,o]=f.useState(t.description||""),[a,l]=f.useState(((j=t.amount)==null?void 0:j.toString())||""),[c,d]=f.useState(t.type||"Expense"),[h,u]=f.useState(t.category||""),[m,p]=f.useState(t.date?new Date(t.date):new Date),{toast:v}=fe(),g={Expense:["Material Costs","Labor Costs","Equipment Rental","Subcontractor Payments","Permit Fees","Overheads","Other Expense"],Income:["Client Payment","Milestone Payment","Variation Order Payment","Other Income"],BudgetAdjustment:["Initial Budget Allocation","Change Order Approval","Contingency Allocation"]},w=y=>{if(y.preventDefault(),!i||!a||!h){v({variant:"destructive",title:"Missing Fields",description:"Description, amount, and category are required."});return}e({id:t.id||`TRN-${Date.now()}`,description:i,amount:parseFloat(a),type:c,category:h,date:m.toISOString()}),t.id||(o(""),l(""),d("Expense"),u(""),p(new Date))};return r.jsxs("form",{onSubmit:w,className:"space-y-4 p-4 border rounded-lg bg-slate-50 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"trn-desc",children:"Description"}),r.jsx($,{id:"trn-desc",placeholder:"e.g., Purchase of cement bags",value:i,onChange:y=>o(y.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"trn-amount",children:"Amount (USD)"}),r.jsx($,{id:"trn-amount",type:"number",placeholder:"e.g., 500.00",value:a,onChange:y=>l(y.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"trn-type",children:"Type"}),r.jsxs(te,{value:c,onValueChange:y=>{d(y),u("")},children:[r.jsx(Z,{id:"trn-type",children:r.jsx(ne,{placeholder:"Type"})}),r.jsx(ee,{children:Object.keys(g).map(y=>r.jsx(_,{value:y,children:y},y))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"trn-cat",children:"Category"}),r.jsxs(te,{value:h,onValueChange:u,disabled:!c,children:[r.jsx(Z,{id:"trn-cat",children:r.jsx(ne,{placeholder:"Select Category"})}),r.jsx(ee,{children:(g[c]||[]).map(y=>r.jsx(_,{value:y,children:y},y))})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"trn-date",children:"Transaction Date"}),r.jsx(ke,{id:"trn-date",date:m,setDate:p})]}),r.jsxs(wt,{className:"flex justify-end space-x-2",children:[n&&r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Transaction":"Add Transaction"})]})]})},gB=({project:e,updateProjectData:t})=>{var I,W,L,V;const[n,s]=f.useState(!1),[i,o]=f.useState(null),[a,l]=f.useState(!1),{toast:c}=fe(),d=((I=e.financials)==null?void 0:I.transactions)||[],h=((W=e.financials)==null?void 0:W.initialBudget)||parseFloat(e.projectBudget)||0,u=((L=e.financials)==null?void 0:L.approvedChangeOrders)||0,m=h+u,p=d.filter(A=>A.type==="Expense"&&A.category!=="Overheads").reduce((A,F)=>A+F.amount,0),v=d.filter(A=>A.type==="Expense").reduce((A,F)=>A+F.amount,0),g=m-v,w=m-v,j=m>0?v/m*100:0,y=((V=e.financials)==null?void 0:V.contractValue)||parseFloat(e.contractValue)||0,x=d.filter(A=>A.type==="Income").reduce((A,F)=>A+F.amount,0),b=v,N=d.filter(A=>A.type==="Expense"&&A.category==="Overheads").reduce((A,F)=>A+F.amount,0),M=x-b,S=M-N,k=x>0?M/x*100:0,R=x>0?S/x*100:0,P=A=>{const F=[...d,A];t({financials:{...e.financials,transactions:F,initialBudget:h,approvedChangeOrders:u,contractValue:y}}),c({title:"Transaction Added"}),s(!1)},D=A=>{const F=d.map(J=>J.id===A.id?A:J);t({financials:{...e.financials,transactions:F,initialBudget:h,approvedChangeOrders:u,contractValue:y}}),c({title:"Transaction Updated"}),o(null),s(!1)},C=A=>{if(window.confirm("Are you sure you want to delete this transaction?")){const F=d.filter(J=>J.id!==A);t({financials:{...e.financials,transactions:F,initialBudget:h,approvedChangeOrders:u,contractValue:y}}),c({title:"Transaction Deleted",variant:"destructive"})}},T=A=>{var F;t({financials:{...e.financials,initialBudget:parseFloat(A.initialBudget)||0,approvedChangeOrders:parseFloat(A.approvedChangeOrders)||0,contractValue:parseFloat(A.contractValue)||0,transactions:((F=e.financials)==null?void 0:F.transactions)||[]},projectBudget:parseFloat(A.initialBudget)+(parseFloat(A.approvedChangeOrders)||0)}),c({title:"Core Financials Updated"}),l(!1)};return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-6",children:[r.jsxs(B,{className:"border-t-4 border-green-500 shadow-lg",children:[r.jsxs(G,{className:"flex flex-row justify-between items-center",children:[r.jsxs("div",{children:[r.jsx(z,{className:"text-xl font-semibold text-gray-700",children:"Core Financials"}),r.jsx(pe,{children:"Key budget and contract values for the project."})]}),r.jsxs(O,{variant:"outline",onClick:()=>l(!0),children:[r.jsx(mn,{className:"mr-2 h-4 w-4"}),"Edit Core Financials"]})]}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsx(qe,{icon:Qe,label:"Initial Budget",value:`$${h.toLocaleString()}`}),r.jsx(qe,{icon:ze,label:"Approved Change Orders",value:`$${u.toLocaleString()}`}),r.jsx(qe,{icon:Qe,label:"Revised Budget",value:`$${m.toLocaleString()}`}),r.jsx(qe,{icon:Gv,label:"Contract Value",value:`$${y.toLocaleString()}`})]})]}),r.jsx(tt,{open:a,onOpenChange:l,children:r.jsxs(Ke,{children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:"Edit Core Financials"}),r.jsx(ut,{children:"Update the primary budget and contract figures."})]}),r.jsx(xB,{initialData:{initialBudget:h,approvedChangeOrders:u,contractValue:y},onSubmit:T,onCancel:()=>l(!1)})]})}),r.jsxs(B,{className:"shadow-lg",children:[r.jsx(G,{className:"flex flex-row justify-between items-center",children:r.jsx(z,{className:"text-xl font-semibold text-gray-700",children:"Budget Performance"})}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(qe,{icon:Qe,label:"Revised Budget",value:`$${m.toLocaleString()}`}),r.jsx(qe,{icon:uh,label:"Actual Costs to Date",value:`$${v.toLocaleString()}`,statusColor:"text-orange-600"}),r.jsx(qe,{icon:Qe,label:"Remaining Budget",value:`$${g.toLocaleString()}`,statusColor:g>=0?"text-green-600":"text-red-600"}),r.jsx(qe,{icon:wc,label:"Percentage Spent",value:`${j.toFixed(1)}%`,statusColor:j>100?"text-red-600":"text-gray-700"}),r.jsx(qe,{icon:Qe,label:"Committed Costs",value:`$${p.toLocaleString()}`}),r.jsx(qe,{icon:lo,label:"Budget Variance",value:`$${w.toLocaleString()}`,statusColor:w>=0?"text-green-600":"text-red-600"})]})]}),r.jsxs(B,{className:"shadow-lg",children:[r.jsx(G,{children:r.jsx(z,{className:"text-xl font-semibold text-gray-700",children:"Profit & Loss Summary"})}),r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(qe,{icon:pb,label:"Total Revenue",value:`$${x.toLocaleString()}`,statusColor:"text-green-600"}),r.jsx(qe,{icon:uh,label:"COGS / Direct Costs",value:`$${b.toLocaleString()}`,statusColor:"text-orange-600"}),r.jsx(qe,{icon:Qe,label:"Gross Profit",value:`$${M.toLocaleString()}`,statusColor:M>=0?"text-green-600":"text-red-600"}),r.jsx(qe,{icon:wc,label:"Gross Profit Margin",value:`${k.toFixed(1)}%`,statusColor:k>=0?"text-green-600":"text-red-600"}),r.jsx(qe,{icon:uh,label:"Operating Expenses",value:`$${N.toLocaleString()}`,statusColor:"text-orange-500"}),r.jsx(qe,{icon:Qe,label:"Net Profit",value:`$${S.toLocaleString()}`,statusColor:S>=0?"text-green-600":"text-red-600"}),r.jsx(qe,{icon:wc,label:"Net Profit Margin",value:`${R.toFixed(1)}%`,statusColor:R>=0?"text-green-600":"text-red-600"})]})]}),r.jsxs(B,{className:"shadow-lg",children:[r.jsxs(G,{className:"flex flex-row justify-between items-center",children:[r.jsx(z,{className:"text-xl font-semibold text-gray-700",children:"Financial Transactions"}),r.jsxs(O,{onClick:()=>{s(!n),o(null)},variant:n?"outline":"default",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," ",n?"Cancel Transaction Form":"Add New Transaction"]})]}),r.jsxs(Q,{children:[n&&!i&&r.jsx(Y0,{onSubmit:P,onCancel:()=>s(!1),projectBudget:m}),i&&r.jsx(Y0,{onSubmit:D,initialData:i,onCancel:()=>o(null),projectBudget:m}),d.length===0&&!n&&!i?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No financial transactions recorded yet."}):d.length>0?r.jsx("div",{className:"overflow-x-auto mt-4",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Date"}),r.jsx(K,{children:"Description"}),r.jsx(K,{children:"Category"}),r.jsx(K,{children:"Type"}),r.jsx(K,{children:"Amount (USD)"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:d.sort((A,F)=>new Date(F.date)-new Date(A.date)).map(A=>r.jsxs(De,{children:[r.jsx(Y,{children:Pe(new Date(A.date),"dd MMM yyyy")}),r.jsx(Y,{className:"font-medium max-w-xs truncate",children:A.description}),r.jsx(Y,{className:"text-xs",children:A.category}),r.jsx(Y,{children:r.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${A.type==="Expense"?"bg-red-100 text-red-700":A.type==="Income"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:A.type})}),r.jsxs(Y,{className:A.type==="Expense"?"text-red-600":"text-green-600",children:[A.type==="Expense"?"-":"+","$",A.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>{o(A),s(!1)},title:"Edit",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>C(A.id),title:"Delete",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},A.id))})]})}):null]}),r.jsx(ct,{className:"pt-4 text-right",children:r.jsxs(O,{variant:"outline",children:[r.jsx(Gv,{className:"mr-2 h-4 w-4"})," Export All Transactions"]})})]})]})},xB=({onSubmit:e,initialData:t,onCancel:n})=>{var l,c,d;const[s,i]=f.useState({initialBudget:((l=t.initialBudget)==null?void 0:l.toString())||"",approvedChangeOrders:((c=t.approvedChangeOrders)==null?void 0:c.toString())||"",contractValue:((d=t.contractValue)==null?void 0:d.toString())||""}),o=h=>{const{name:u,value:m}=h.target;i(p=>({...p,[u]:m}))},a=h=>{h.preventDefault(),e(s)};return r.jsxs("form",{onSubmit:a,className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"core-initialBudget",children:"Initial Budget (USD)"}),r.jsx($,{id:"core-initialBudget",name:"initialBudget",type:"number",value:s.initialBudget,onChange:o,placeholder:"e.g., 1000000"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"core-approvedChangeOrders",children:"Approved Change Orders (USD)"}),r.jsx($,{id:"core-approvedChangeOrders",name:"approvedChangeOrders",type:"number",value:s.approvedChangeOrders,onChange:o,placeholder:"e.g., 50000"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"core-contractValue",children:"Contract Value (USD)"}),r.jsx($,{id:"core-contractValue",name:"contractValue",type:"number",value:s.contractValue,onChange:o,placeholder:"e.g., 1200000"})]}),r.jsxs(wt,{className:"pt-4",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:"Save Core Financials"})]})]})},vB=({onSubmit:e,onCancel:t})=>{const[n,s]=f.useState(new Date),[i,o]=f.useState("Meeting"),[a,l]=f.useState(""),[c,d]=f.useState(""),{toast:h}=fe(),u=m=>{if(m.preventDefault(),!c||!a){h({variant:"destructive",title:"Participants and summary are required."});return}e({id:`LOG-${Date.now()}`,date:n.toISOString(),type:i,participants:a,summary:c}),s(new Date),o("Meeting"),l(""),d("")};return r.jsxs("form",{onSubmit:u,className:"space-y-4 p-4 border rounded-lg bg-slate-50 mb-6",children:[r.jsx(ke,{date:n,setDate:s,placeholder:"Log Date"}),r.jsxs(te,{value:i,onValueChange:o,children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Communication Type"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Meeting",children:"Meeting Minutes"}),r.jsx(_,{value:"Email",children:"Email Summary"}),r.jsx(_,{value:"Call",children:"Phone Call Log"}),r.jsx(_,{value:"SiteInstruction",children:"Site Instruction"}),r.jsx(_,{value:"ClientFeedback",children:"Client Feedback"})]})]}),r.jsx($,{placeholder:"Participants (e.g., John Doe, Jane Smith)",value:a,onChange:m=>l(m.target.value)}),r.jsx(we,{placeholder:"Summary / Key Points / Decisions*",value:c,onChange:m=>d(m.target.value),rows:4}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[t&&r.jsx(O,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(O,{type:"submit",children:"Add Log Entry"})]})]})},yB=({project:e,updateProjectData:t})=>{const[n,s]=f.useState(!1),{toast:i}=fe(),o=e.communicationLog||[],a=l=>{const c=[...o,l];t({communicationLog:c}),i({title:"Log Entry Added",description:`Communication on ${Pe(new Date(l.date),"PPP")} recorded.`}),s(!1)};return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx(z,{className:"text-xl font-semibold text-gray-700",children:"Communication Log"}),r.jsxs(O,{onClick:()=>s(!n),variant:n?"outline":"default",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," ",n?"Cancel":"Add New Log Entry"]})]}),n&&r.jsx(vB,{onSubmit:a,onCancel:()=>s(!1)}),o.length===0&&!n?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No communication logs recorded yet."}):r.jsx("div",{className:"space-y-6",children:o.sort((l,c)=>new Date(c.date)-new Date(l.date)).map(l=>r.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-white hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-semibold text-primary text-lg",children:l.type}),r.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[r.jsx(Vn,{className:"mr-1 h-3 w-3"})," ",Pe(new Date(l.date),"PPP, p")]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-1 flex items-center",children:[r.jsx(cd,{className:"mr-2 h-4 w-4 text-gray-400"})," ",r.jsx("strong",{children:"Participants:"})," ",l.participants]}),r.jsxs("div",{className:"prose prose-sm max-w-none p-3 bg-slate-50 rounded",children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Summary:"}),r.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:l.summary})]})]},l.id))})]})},K0=["Blueprints & Drawings","As-Built Documents","Site Photos & Videos","Contracts & Agreements","Permits & Licenses","Progress Reports","Material Specifications","Equipment Manuals","Safety Documentation","Meeting Minutes","Financial Reports","Correspondence","Other"],Ko=200,jB=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState(t.linkName||""),[o,a]=f.useState(t.url||""),[l,c]=f.useState(t.category||K0[0]),[d,h]=f.useState(t.description||""),[u,m]=f.useState(t.version||""),[p,v]=f.useState(t.tags?t.tags.join(", "):""),{toast:g}=fe(),w=j=>{if(j.preventDefault(),!s||!o||!l){g({variant:"destructive",title:"Missing Fields",description:"Link Name, URL and Category are required."});return}if(!o.startsWith("http://")&&!o.startsWith("https://")){g({variant:"destructive",title:"Invalid URL",description:"URL must start with http:// or https://"});return}e({id:t.id||`LINK-${Date.now().toString(36).substr(2,9)}`,linkName:s,url:o,category:l,description:d,version:u,tags:p.split(",").map(y=>y.trim()).filter(y=>y),addedDate:t.addedDate||new Date().toISOString(),lastModified:new Date().toISOString()})};return r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"linkName-drive",children:"Link Name / Title"}),r.jsx($,{id:"linkName-drive",value:s,onChange:j=>i(j.target.value),placeholder:"e.g., Site Plan Rev C, Electrical Schematics"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"url-drive",children:"URL (Google Drive, Dropbox, SharePoint, etc.)"}),r.jsx($,{id:"url-drive",value:o,onChange:j=>a(j.target.value),placeholder:"https://docs.google.com/..."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"category-drive",children:"Category"}),r.jsxs(te,{value:l,onValueChange:c,children:[r.jsx(Z,{id:"category-drive",children:r.jsx(ne,{placeholder:"Select Category"})}),r.jsx(ee,{children:K0.map(j=>r.jsx(_,{value:j,children:j},j))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"version-drive",children:"Version (Optional)"}),r.jsx($,{id:"version-drive",value:u,onChange:j=>m(j.target.value),placeholder:"e.g., v1.2, Rev D"})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"description-drive",children:"Description (Optional)"}),r.jsx(we,{id:"description-drive",value:d,onChange:j=>h(j.target.value),placeholder:"Brief description of the link content, e.g., Final approved blueprints for Sector A.",rows:3})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"tags-drive",children:"Tags (Comma-separated, Optional)"}),r.jsx($,{id:"tags-drive",value:p,onChange:j=>v(j.target.value),placeholder:"e.g., blueprint, electrical, sector-a, approved"})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Link":"Add Link"})]})]})},wB=({project:e,updateProjectData:t})=>{const[n,s]=f.useState(!1),[i,o]=f.useState(null),{toast:a}=fe(),l=e.driveLinks||[],c=u=>{let m;if(i)m=l.map(p=>p.id===u.id?u:p);else{if(l.length>=Ko){a({variant:"destructive",title:"Limit Reached",description:`Maximum of ${Ko} drive links per project.`});return}m=[...l,u]}t({driveLinks:m}),a({title:i?"Drive Link Updated":"Drive Link Added",description:`Link "${u.linkName}" has been saved.`}),s(!1),o(null)},d=u=>{const m=l.find(p=>p.id===u);if(window.confirm(`Are you sure you want to delete the link "${(m==null?void 0:m.linkName)||"this link"}"? This action cannot be undone.`)){const p=l.filter(v=>v.id!==u);t({driveLinks:p}),a({title:"Drive Link Deleted",variant:"destructive"})}},h=u=>{o(u),s(!0)};return r.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"space-y-6",children:[r.jsxs(B,{className:"shadow-lg border-t-4 border-blue-500",children:[r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-xl flex items-center",children:[r.jsx(db,{className:"mr-2 h-5 w-5 text-primary"}),"Cloud Drive Links Management"]}),r.jsxs(pe,{children:["Organize and access all project-related documents stored in cloud drives. Maximum of ",Ko," links."]})]}),r.jsxs(O,{onClick:()=>{o(null),s(!0)},disabled:l.length>=Ko,className:"bg-blue-600 hover:bg-blue-700 text-white mt-4 md:mt-0",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New Link"]})]}),r.jsx(Q,{children:l.length===0?r.jsxs("div",{className:"text-center py-10",children:[r.jsx(fA,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),r.jsx("p",{className:"text-muted-foreground",children:"No cloud drive links have been added for this project yet."}),r.jsx("p",{className:"text-sm text-gray-500",children:'Click "Add New Link" to get started.'})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Name / Title"}),r.jsx(K,{children:"Category"}),r.jsx(K,{children:"Version"}),r.jsx(K,{children:"Last Modified"}),r.jsx(K,{children:"Tags"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:l.sort((u,m)=>new Date(m.lastModified)-new Date(u.lastModified)).map(u=>r.jsxs(De,{className:"hover:bg-slate-50",children:[r.jsx(Y,{className:"font-medium",children:r.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center",title:u.description||u.linkName,children:[r.jsx(lA,{className:"mr-1.5 h-3.5 w-3.5 flex-shrink-0"}),u.linkName]})}),r.jsx(Y,{children:u.category}),r.jsx(Y,{children:u.version||"N/A"}),r.jsx(Y,{children:Pe(new Date(u.lastModified),"dd MMM yyyy, HH:mm")}),r.jsx(Y,{className:"max-w-xs",children:u.tags&&u.tags.length>0?u.tags.map(m=>r.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-1.5 py-0.5 rounded-full mr-1 mb-1 inline-block",children:m},m)):r.jsx("span",{className:"text-xs text-muted-foreground",children:"No tags"})}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>h(u),title:"Edit Link Details",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>d(u.id),title:"Delete Link",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},u.id))})]})})}),r.jsxs(ct,{className:"text-sm text-muted-foreground pt-4 border-t",children:["Total links stored: ",l.length," / ",Ko,"."]})]}),r.jsx(tt,{open:n,onOpenChange:u=>{u?s(!0):(o(null),s(!1))},children:r.jsxs(Ke,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto custom-scrollbar",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:i?"Edit Cloud Drive Link":"Add New Cloud Drive Link"}),r.jsx(ut,{children:"Provide the details for the cloud-stored document or folder."})]}),r.jsx(jB,{onSubmit:c,initialData:i||{},onCancel:()=>{s(!1),o(null)}})]})})]})},bB=({project:e,activeTab:t,setActiveTab:n,updateProjectData:s})=>{const i=[{value:"overview",label:"Overview",icon:ng,component:r.jsx(mB,{project:e,updateProjectData:s})},{value:"tasks",label:"Tasks & Milestones",icon:Rr,component:r.jsx(fB,{project:e,updateProjectData:s})},{value:"documents",label:"System Documents",icon:mA,component:r.jsx(pB,{project:e,updateProjectData:s})},{value:"drive_links",label:"Cloud Drive Links",icon:ru,component:r.jsx(wB,{project:e,updateProjectData:s})},{value:"financials",label:"Financials",icon:Qe,component:r.jsx(gB,{project:e,updateProjectData:s})},{value:"communication",label:"Communication Log",icon:ad,component:r.jsx(yB,{project:e,updateProjectData:s})}];return r.jsxs(yx,{value:t,onValueChange:n,className:"w-full",children:[r.jsx(Lu,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-6",children:i.map(o=>r.jsxs(rl,{value:o.value,className:"flex-col sm:flex-row h-auto py-2 sm:py-1.5 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[r.jsx(o.icon,{className:"h-4 w-4 mb-1 sm:mb-0 sm:mr-2"}),r.jsx("span",{className:"text-xs sm:text-sm",children:o.label})]},o.value))}),i.map(o=>r.jsx(br,{value:o.value,children:o.component},o.value))]})},SB=({projectId:e,onNavigateToEdit:t,onManageTasks:n})=>r.jsxs(ct,{className:"border-t p-6 bg-slate-50 rounded-b-lg flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3",children:[r.jsxs(O,{variant:"outline",onClick:()=>t(e),className:"w-full sm:w-auto",children:[r.jsx(Ts,{className:"mr-2 h-4 w-4"})," Edit Project Details"]}),r.jsxs(O,{onClick:n,className:"w-full sm:w-auto bg-accent hover:bg-accent/90",children:[r.jsx(ur,{className:"mr-2 h-4 w-4"})," Manage Tasks"]}),r.jsxs(O,{variant:"secondary",className:"w-full sm:w-auto",disabled:!0,children:[r.jsx(ab,{className:"mr-2 h-4 w-4"})," Archive Project"]})]}),NB=()=>{const{projectId:e}=z1(),[t,n]=je("projects",[]),s=t.find(w=>w.id===e),i=pr(),o=Pt(),{toast:a}=fe(),[l,c]=f.useState("overview");if(f.useEffect(()=>{const j=new URLSearchParams(i.search).get("tab");c(j||"overview")},[i.search,e]),!s)return r.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4",children:r.jsx(de.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:r.jsxs(B,{className:"w-full max-w-md text-center shadow-xl border-t-4 border-destructive",children:[r.jsxs(G,{children:[r.jsx(be,{className:"mx-auto h-16 w-16 text-destructive mb-4"}),r.jsx(z,{className:"text-2xl font-bold text-destructive",children:"Project Not Found"}),r.jsxs(pe,{children:["The project record (ID: ",e,") you are looking for does not exist or could not be loaded."]})]}),r.jsx(Q,{children:r.jsx($e,{to:"/projects",children:r.jsxs(O,{variant:"outline",children:[r.jsx(qa,{className:"mr-2 h-4 w-4"})," Back to Projects List"]})})})]})})});const d=s.tasks?s.tasks.some(w=>w.dueDate&&new Date(w.dueDate)<new Date&&w.status!=="Completed"):!1,h=s.currentCost&&s.projectBudget&&parseFloat(s.currentCost)>parseFloat(s.projectBudget),u=w=>{const j=t.map(y=>y.id===e?{...y,...w,lastModified:new Date().toISOString()}:y);n(j),a({title:"Project Updated",description:`Project "${s.projectName}" has been successfully updated.`})},m=w=>{u({projectStatus:w}),a({title:"Project Status Updated",description:`Project ${s.projectName} status changed to ${w}.`,className:"bg-blue-500 text-white"})},p=w=>{o(`/project-setup?edit=${w}`)},v=()=>{c("tasks"),o(`/projects/${e}?tab=tasks`,{replace:!0})},g=w=>{c(w),o(`/projects/${e}?tab=${w}`,{replace:!0})};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"pb-8",children:[r.jsxs(O,{variant:"outline",onClick:()=>o("/projects"),className:"mb-6",children:[r.jsx(qa,{className:"mr-2 h-4 w-4"})," Back to Projects List"]}),r.jsxs(B,{className:"shadow-2xl border-t-4 border-primary",children:[r.jsx(cB,{project:s,hasOverdueTasks:d,isBudgetExceeded:h,onUpdateStatus:m}),r.jsx(Q,{className:"p-4 md:p-6",children:r.jsx(bB,{project:s,activeTab:l,setActiveTab:g,updateProjectData:u})}),r.jsx(SB,{projectId:s.id,onNavigateToEdit:p,onManageTasks:v})]})]})},CB=()=>r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-green-500",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-green-600 flex items-center",children:[r.jsx(ii,{className:"mr-2 h-6 w-6"}),"Live Map Dashboard"]}),r.jsx(pe,{children:"Visualize project sites, status, and geofencing. Real-time staff movement will be overlaid here."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"bg-muted rounded-lg h-96 flex flex-col items-center justify-center p-6 text-center",children:[r.jsx(ii,{className:"h-24 w-24 text-muted-foreground mb-6 animate-pulse"}),r.jsx("h3",{className:"text-xl font-semibold text-muted-foreground mb-2",children:"Live Map Integration Placeholder"}),r.jsx("p",{className:"text-muted-foreground max-w-md",children:"This area will display an interactive map (e.g., OpenStreetMap) showing all active construction sites. Features like geofencing, status indicators, and real-time staff tracking will be available."}),r.jsxs("div",{className:"mt-6 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Under Development:"}),r.jsx("p",{className:"text-sm",children:"Full map functionality, GPS tracking, and geofencing are planned for a future update."})]})]}),r.jsx("img",{alt:"Conceptual map of construction sites",className:"mt-8 rounded-lg shadow-md opacity-50",style:{maxWidth:"400px",maxHeight:"200px",objectFit:"cover"},src:"https://images.unsplash.com/photo-1469288205312-804b99a8d717"})]})})]})}),Xo=({title:e,description:t,icon:n,forms:s=[],onFormClick:i})=>r.jsxs(B,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300 border-t-2 border-primary/50 flex flex-col",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(n,{className:"h-6 w-6 text-primary"}),r.jsx(z,{className:"text-lg",children:e})]}),r.jsxs(Q,{className:"flex-grow",children:[r.jsx(pe,{className:"mb-3 text-sm",children:t}),s.length>0?r.jsx("ul",{className:"space-y-1.5",children:s.map(o=>r.jsx("li",{children:r.jsxs(O,{variant:"link",className:"p-0 h-auto text-primary hover:underline text-left text-sm leading-snug",onClick:()=>i(o.id,o.title,o.link),disabled:o.disabled,title:o.disabled?"This form is planned for future implementation.":o.title,children:[o.title,o.isAi&&r.jsx(dr,{className:"h-3 w-3 ml-1.5 text-purple-500"})]})},o.id))}):r.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No forms defined yet."})]})]}),kB=()=>{const e=Pt(),t=[{id:"purchase-request",title:"Purchase Request Form",link:"/forms/purchase-request"},{id:"inventory-use-transfer",title:"Inventory Use/Transfer Form",link:"/forms/inventory-transfer"},{id:"leave-shift-request",title:"Leave & Shift Change Request",link:"/forms/leave-request"},{id:"incident-report",title:"Incident Report Form",link:"/forms/incident-report"},{id:"work-completion-report",title:"Work Completion Report",link:"/forms/work-completion-report"},{id:"ai-risk-assessment",title:"AI-Generated Risk Assessment",link:"/forms/ai-risk-assessment",isAi:!0},{id:"dpr-submission",title:"DPR (Daily Report) Submission Form",link:"/forms/dpr-submission"}],n=[{id:"daily-log",title:"Daily Site Log",link:"/daily-logs"},{id:"ocr-note-photo",title:"Handwritten Note/Photo to Form (AI)",link:"/forms/ocr-note-form",isAi:!0},{id:"medical-prescription-upload",title:"Medical Prescription Upload",link:"/forms/medical-prescription-upload"},{id:"engineer-sketch-report",title:"Engineers Sketch/Report Upload",link:"/forms/engineer-sketch-upload"},{id:"site-inspection-checklist",title:"Site Inspection Checklist",link:"/forms/site-inspection-checklist"},{id:"material-receiving-report",title:"Material Receiving Report",link:"/forms/material-receiving-report"}],s=[{id:"ai-cash-flow",title:"AI-Generated Cash Flow Sheet",link:"/forms/ai-cash-flow",isAi:!0},{id:"p-and-l-sheet",title:"P&L Sheet (Auto Consolidated)",link:"/forms/pnl-sheet"},{id:"budget-revision-request",title:"Budget Revision Request",link:"/forms/budget-revision"},{id:"vendor-payment-cert",title:"Vendor Payment Certificate",link:"/forms/vendor-payment"},{id:"vendor-completion-cert",title:"Vendor Completion Certificate",link:"/forms/vendor-completion"},{id:"expense-claim-form",title:"Expense Claim Form",link:"/forms/expense-claim"},{id:"invoice-submission-form",title:"Invoice Submission Form",link:"/forms/invoice-submission"}],i=[{id:"staff-registration",title:"Staff Registration Form",link:"/hr-staff-registration"},{id:"medical-insurance-upload",title:"Medical Insurance Upload + Expiry Tracker",link:"/forms/medical-insurance-upload"},{id:"auto-id-card-qr",title:"Auto ID Card with QR Code Generator",link:"/forms/id-card-generator"},{id:"staff-exit-clearance",title:"Staff Exit/Clearance Form",link:"/forms/staff-exit-clearance"},{id:"timesheet-submission",title:"Timesheet Submission Form",link:"/forms/timesheet-submission"}],o=[{id:"training-request-form",title:"General Training Request Form",link:"/forms/training-request"},{id:"fiber-training-request",title:"Fiber Training Request Form",link:"/forms/fiber-training-request"},{id:"eng-training-request",title:"Training Engineering Request Form",link:"/forms/eng-training-request"},{id:"telecom-training-request",title:"Telecom Training Request Form",link:"/forms/telecom-training-request"},{id:"civil-eng-training-request",title:"Civil Eng. Training Request Form",link:"/forms/civil-eng-training-request"}],a=(l,c,d)=>{if(d)if(d.includes("?")){const[h,u]=d.split("?");e(`${h}?${u}`)}else e(d);else e(`/forms/placeholder/${l}`,{state:{title:c}})};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsx(B,{className:"shadow-xl border-t-4 border-indigo-500 mb-8",children:r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-indigo-600 flex items-center",children:[r.jsx(yt,{className:"mr-2 h-6 w-6"}),"Forms & Document Workflow Hub"]}),r.jsx(pe,{children:"Access and manage all necessary forms for internal processes, site operations, financials, HR, and legal matters."})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsx(Xo,{title:"Internal Forms",description:"For purchase requests, inventory, leave, incidents, and work completion.",icon:ub,forms:t,onFormClick:a}),r.jsx(Xo,{title:"Site Forms (AI-Enhanced)",description:"Daily logs, AI data capture for notes, medical info, and sketches, inspections.",icon:dr,forms:n,onFormClick:a}),r.jsx(Xo,{title:"Financial Forms",description:"Manage cash flow, P&L, budget revisions, vendor payments, expenses, and invoices.",icon:Qe,forms:s,onFormClick:a}),r.jsx(Xo,{title:"HR Forms",description:"Staff registration, insurance, ID cards, clearance, timesheets, and training requests.",icon:Ot,forms:i,onFormClick:a}),r.jsx(Xo,{title:"Training Request Forms",description:"Submit requests for various specialized training programs.",icon:co,forms:o,onFormClick:a})]})]})},PB=()=>{const{toast:e}=fe(),t=Pt(),[n]=je("projects",[]),[s,i]=je("cmsPurchaseRequests",[]),[o,a]=f.useState(new Date),[l,c]=f.useState(""),[d,h]=f.useState(""),[u,m]=f.useState(""),[p,v]=f.useState([{itemName:"",quantity:"",unit:"",estimatedCost:"",supplier:""}]),[g,w]=f.useState(""),[j,y]=f.useState("Pending"),x=(S,k,R)=>{const P=[...p];P[S][k]=R,v(P)},b=()=>v([...p,{itemName:"",quantity:"",unit:"",estimatedCost:"",supplier:""}]),N=S=>v(p.filter((k,R)=>R!==S)),M=S=>{if(S.preventDefault(),!l||!d||p.some(R=>!R.itemName||!R.quantity)){e({variant:"destructive",title:"Missing Fields",description:"Requester, department, and item details are required."});return}const k={id:`PR-${Date.now()}`,requestDate:o.toISOString(),requestedBy:l,department:d,projectId:u,items:p,justification:g,status:j};i([...s,k]),e({title:"Purchase Request Submitted",description:`Request ID: ${k.id}`}),t("/forms-documents")};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-3xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-green-600",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold text-green-700 flex items-center",children:[r.jsx(ld,{className:"mr-3 h-7 w-7"}),"Purchase Request Form"]}),r.jsx(pe,{children:"Submit a request for purchasing materials, equipment, or services."})]}),r.jsxs("form",{onSubmit:M,children:[r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"requestDate",children:"Request Date"}),r.jsx(ke,{id:"requestDate",date:o,setDate:a,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"requestedBy",children:"Requested By"}),r.jsx($,{id:"requestedBy",value:l,onChange:S=>c(S.target.value),placeholder:"Your Name"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"department",children:"Department"}),r.jsx($,{id:"department",value:d,onChange:S=>h(S.target.value),placeholder:"e.g., Civil Works, Telecom, MEP"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-pr",children:"Project (Optional)"}),r.jsxs(te,{value:u,onValueChange:m,children:[r.jsx(Z,{id:"projectId-pr",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:n.map(S=>r.jsxs(_,{value:S.id,children:[S.projectName," (",S.projectCode||S.id,")"]},S.id))})]})]})]}),r.jsxs(B,{className:"p-4 bg-slate-50",children:[r.jsx(G,{className:"p-0 pb-2",children:r.jsxs(z,{className:"text-md flex items-center",children:[r.jsx(st,{className:"mr-2 h-5 w-5 text-green-600"}),"Items Requested"]})}),r.jsxs(Q,{className:"p-0 space-y-3",children:[p.map((S,k)=>r.jsxs("div",{className:"p-3 border rounded bg-white space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:`itemName-${k}`,className:"text-xs",children:"Item Name/Description"}),r.jsx($,{id:`itemName-${k}`,value:S.itemName,onChange:R=>x(k,"itemName",R.target.value),placeholder:"e.g., Fiber Optic Cable"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`quantity-${k}`,className:"text-xs",children:"Quantity"}),r.jsx($,{id:`quantity-${k}`,type:"number",value:S.quantity,onChange:R=>x(k,"quantity",R.target.value),placeholder:"e.g., 1000"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`unit-${k}`,className:"text-xs",children:"Unit"}),r.jsx($,{id:`unit-${k}`,value:S.unit,onChange:R=>x(k,"unit",R.target.value),placeholder:"e.g., meters, units, kg"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:`cost-${k}`,className:"text-xs",children:"Estimated Cost (per unit)"}),r.jsx($,{id:`cost-${k}`,type:"number",value:S.estimatedCost,onChange:R=>x(k,"estimatedCost",R.target.value),placeholder:"e.g., 5.50"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`supplier-${k}`,className:"text-xs",children:"Suggested Supplier (Optional)"}),r.jsx($,{id:`supplier-${k}`,value:S.supplier,onChange:R=>x(k,"supplier",R.target.value),placeholder:"Supplier Name"})]})]}),p.length>1&&r.jsxs(O,{type:"button",variant:"destructive",size:"sm",onClick:()=>N(k),className:"mt-1",children:[r.jsx(Re,{className:"h-3 w-3 mr-1"}),"Remove Item"]})]},k)),r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:b,children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Another Item"]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"justification",children:"Justification / Purpose"}),r.jsx(we,{id:"justification",value:g,onChange:S=>w(S.target.value),placeholder:"Reason for this purchase request...",rows:3})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-2 border-t pt-6",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>t("/forms-documents"),children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:"Submit Request"})]})]})]})})},DB=()=>{const{toast:e}=fe(),t=Pt(),{user:n}=bl(),s=Cn(Fe.projects.listProjects)||[],i=xt(Fe.purchaseRequests.createPurchaseRequest),[o,a]=f.useState(new Date),[l,c]=f.useState((n==null?void 0:n.fullName)||""),[d,h]=f.useState(""),[u,m]=f.useState(""),[p,v]=f.useState([{itemName:"",quantity:"",unit:"",estimatedCost:"",supplier:""}]),[g,w]=f.useState(""),[j,y]=f.useState("Pending"),[x,b]=f.useState(!1),N=(P,D,C)=>{const T=[...p];T[P][D]=C,v(T)},M=()=>v([...p,{itemName:"",quantity:"",unit:"",estimatedCost:"",supplier:""}]),S=P=>v(p.filter((D,C)=>C!==P)),k=()=>p.reduce((P,D)=>{const C=parseFloat(D.estimatedCost||0),T=parseFloat(D.quantity||0);return P+C*T},0),R=async P=>{if(P.preventDefault(),!n){e({variant:"destructive",title:"Authentication Required",description:"Please sign in to submit a request."});return}if(!l||!d||p.some(D=>!D.itemName||!D.quantity)){e({variant:"destructive",title:"Missing Fields",description:"Requester, department, and item details are required."});return}b(!0);try{const D=p.filter(I=>I.itemName&&I.quantity),C={requestDate:o.toISOString(),requestedBy:l,department:d,projectId:u||null,items:D,justification:g,status:j,totalEstimatedCost:k(),createdBy:n.userId,approvedBy:null,approvalDate:null,rejectionReason:null},T=await i(C);e({title:"Purchase Request Submitted",description:`Request submitted successfully with ID: ${T}`}),c(n.fullName||""),h(""),m(""),v([{itemName:"",quantity:"",unit:"",estimatedCost:"",supplier:""}]),w(""),a(new Date),t("/forms-documents")}catch(D){console.error("Purchase request submission error:",D),e({variant:"destructive",title:"Submission Failed",description:"Could not submit purchase request. Please try again."})}finally{b(!1)}};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-3xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-green-600",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold text-green-700 flex items-center",children:[r.jsx(ld,{className:"mr-3 h-7 w-7"}),"Purchase Request Form"]}),r.jsx(pe,{children:"Submit a request for purchasing materials, equipment, or services."})]}),r.jsxs("form",{onSubmit:R,children:[r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"requestDate",children:"Request Date"}),r.jsx(ke,{id:"requestDate",date:o,setDate:a,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"requestedBy",children:"Requested By"}),r.jsx($,{id:"requestedBy",value:l,onChange:P=>c(P.target.value),placeholder:"Your Name",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"department",children:"Department"}),r.jsx($,{id:"department",value:d,onChange:P=>h(P.target.value),placeholder:"e.g., Civil Works, Telecom, MEP",required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-pr",children:"Project (Optional)"}),r.jsxs(te,{value:u,onValueChange:m,children:[r.jsx(Z,{id:"projectId-pr",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:s.map(P=>r.jsxs(_,{value:P._id,children:[P.projectName," (",P.projectIDString||P._id.slice(-6),")"]},P._id))})]})]})]}),r.jsxs(B,{className:"p-4 bg-slate-50",children:[r.jsx(G,{className:"p-0 pb-2",children:r.jsxs(z,{className:"text-md flex items-center",children:[r.jsx(st,{className:"mr-2 h-5 w-5 text-green-600"}),"Items Requested"]})}),r.jsxs(Q,{className:"p-0 space-y-3",children:[p.map((P,D)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 p-3 bg-white border rounded",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(E,{className:"text-xs",children:"Item Name*"}),r.jsx($,{value:P.itemName,onChange:C=>N(D,"itemName",C.target.value),placeholder:"Item description",size:"sm",required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{className:"text-xs",children:"Quantity*"}),r.jsx($,{type:"number",value:P.quantity,onChange:C=>N(D,"quantity",C.target.value),placeholder:"Qty",size:"sm",required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{className:"text-xs",children:"Unit"}),r.jsx($,{value:P.unit,onChange:C=>N(D,"unit",C.target.value),placeholder:"pcs/kg/m",size:"sm"})]}),r.jsxs("div",{children:[r.jsx(E,{className:"text-xs",children:"Est. Cost (each)"}),r.jsx($,{type:"number",step:"0.01",value:P.estimatedCost,onChange:C=>N(D,"estimatedCost",C.target.value),placeholder:"0.00",size:"sm"})]}),r.jsx("div",{className:"flex items-end",children:p.length>1&&r.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(D),className:"text-red-600 hover:text-red-800",children:r.jsx(Re,{className:"h-4 w-4"})})})]},D)),r.jsxs("div",{className:"flex justify-between items-center pt-2",children:[r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:M,children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Item"]}),k()>0&&r.jsxs("div",{className:"flex items-center text-sm font-medium",children:[r.jsx(Qe,{className:"h-4 w-4 mr-1 text-green-600"}),"Total Est: $",k().toFixed(2)]})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"justification",children:"Justification"}),r.jsx(we,{id:"justification",value:g,onChange:P=>w(P.target.value),placeholder:"Explain why these items are needed and how they relate to the project...",rows:3})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"status",children:"Initial Status"}),r.jsxs(te,{value:j,onValueChange:y,children:[r.jsx(Z,{id:"status",children:r.jsx(ne,{placeholder:"Select Status"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Pending",children:"Pending Review"}),r.jsx(_,{value:"Draft",children:"Save as Draft"}),r.jsx(_,{value:"Urgent",children:"Urgent Priority"})]})]})]})]}),r.jsxs(ct,{className:"flex justify-between",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>t("/forms-documents"),disabled:x,children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-green-600 hover:bg-green-700",disabled:x,children:x?"Submitting...":"Submit Request"})]})]})]})})},TB=()=>{const{toast:e}=fe(),t=Pt(),[n]=je("projects",[]),[s,i]=je("cmsWorkCompletionReports",[]),[o,a]=f.useState(new Date),[l,c]=f.useState(""),[d,h]=f.useState(""),[u,m]=f.useState(new Date),[p,v]=f.useState(""),[g,w]=f.useState("100"),[j,y]=f.useState(""),[x,b]=f.useState(""),[N,M]=f.useState([]),S=P=>{if(P.target.files){const D=Array.from(P.target.files).map(C=>({name:C.name,type:C.type,size:C.size,id:`FILE-${Date.now()}-${Math.random().toString(36).substr(2,5)}`}));M(C=>[...C,...D].slice(0,3)),N.length+D.length>3&&e({variant:"warning",title:"File Limit",description:"Max 3 attachments."})}},k=P=>M(N.filter(D=>D.id!==P)),R=P=>{if(P.preventDefault(),!l||!d||!p){e({variant:"destructive",title:"Missing Fields",description:"Project, Task/Activity, and Supervisor are required."});return}const D={id:`WCR-${Date.now()}`,reportDate:o.toISOString(),projectId:l,taskActivity:d,dateCompleted:u.toISOString(),supervisor:p,percentageComplete:parseInt(g),qualityRemarks:j,challengesFaced:x,attachments:N.map(C=>({name:C.name,type:C.type,size:C.size,id:C.id}))};i([...s,D]),e({title:"Work Completion Report Submitted",description:`Report ID: ${D.id}`}),t("/forms-documents")};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-3xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-blue-600",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold text-blue-700 flex items-center",children:[r.jsx(ur,{className:"mr-3 h-7 w-7"}),"Work Completion Report"]}),r.jsx(pe,{children:"Document completed tasks, activities, or project milestones."})]}),r.jsxs("form",{onSubmit:R,children:[r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"reportDate",children:"Report Date"}),r.jsx(ke,{id:"reportDate",date:o,setDate:a,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-wcr",children:"Project"}),r.jsxs(te,{value:l,onValueChange:c,children:[r.jsx(Z,{id:"projectId-wcr",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:n.map(P=>r.jsxs(_,{value:P.id,children:[P.projectName," (",P.projectCode||P.id,")"]},P.id))})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"taskActivity",children:"Task / Activity Completed"}),r.jsx($,{id:"taskActivity",value:d,onChange:P=>h(P.target.value),placeholder:"e.g., Installation of Fiber Optic Cable - Section A"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"dateCompleted",children:"Date Completed"}),r.jsx(ke,{id:"dateCompleted",date:u,setDate:m,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"supervisor",children:"Supervisor / Person Responsible"}),r.jsx($,{id:"supervisor",value:p,onChange:P=>v(P.target.value),placeholder:"Supervisor's Name"})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"percentageComplete",children:"Percentage Complete (if not 100%)"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($,{id:"percentageComplete",type:"number",min:"0",max:"100",value:g,onChange:P=>w(P.target.value),className:"w-24"}),r.jsx(wc,{className:"h-5 w-5 text-muted-foreground"})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"qualityRemarks",children:"Quality Remarks / Acceptance Criteria Met"}),r.jsx(we,{id:"qualityRemarks",value:j,onChange:P=>y(P.target.value),placeholder:"e.g., All tests passed, client signed off.",rows:3})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"challengesFaced",children:"Challenges Faced / Lessons Learned (Optional)"}),r.jsx(we,{id:"challengesFaced",value:x,onChange:P=>b(P.target.value),placeholder:"e.g., Unexpected soil conditions, equipment delay.",rows:3})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"attachments-wcr",className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),"Attachments (Max 3, e.g., Photos, Test Results)"]}),r.jsx($,{id:"attachments-wcr",type:"file",multiple:!0,onChange:S,accept:"image/*,.pdf,.doc,.docx"}),N.length>0&&r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 mt-2",children:N.map(P=>r.jsxs("li",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(vi,{className:"inline mr-1 h-3 w-3"}),P.name," (",(P.size/1024).toFixed(1)," KB)"]}),r.jsx(O,{type:"button",variant:"ghost",size:"xs",onClick:()=>k(P.id),children:r.jsx(Re,{className:"h-3 w-3 text-destructive"})})]},P.id))})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-2 border-t pt-6",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>t("/forms-documents"),children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:"Submit Report"})]})]})]})})};var Fu="Checkbox",[MB,L9]=En(Fu),[EB,jx]=MB(Fu);function AB(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:i,disabled:o,form:a,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:u}=e,[m,p]=Or({prop:n,defaultProp:i??!1,onChange:c,caller:Fu}),[v,g]=f.useState(null),[w,j]=f.useState(null),y=f.useRef(!1),x=v?!!a||!!v.closest("form"):!0,b={checked:m,disabled:o,setChecked:p,control:v,setControl:g,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:fs(i)?!1:i,isFormControl:x,bubbleInput:w,setBubbleInput:j};return r.jsx(EB,{scope:t,...b,children:RB(u)?u(b):s})}var kP="CheckboxTrigger",PP=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},i)=>{const{control:o,value:a,disabled:l,checked:c,required:d,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:v}=jx(kP,e),g=Oe(i,h),w=f.useRef(c);return f.useEffect(()=>{const j=o==null?void 0:o.form;if(j){const y=()=>u(w.current);return j.addEventListener("reset",y),()=>j.removeEventListener("reset",y)}},[o,u]),r.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":fs(c)?"mixed":c,"aria-required":d,"data-state":AP(c),"data-disabled":l?"":void 0,disabled:l,value:a,...s,ref:g,onKeyDown:ie(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ie(n,j=>{u(y=>fs(y)?!0:!y),v&&p&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});PP.displayName=kP;var wx=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:d,form:h,...u}=e;return r.jsx(AB,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:l,required:a,onCheckedChange:d,name:s,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>r.jsxs(r.Fragment,{children:[r.jsx(PP,{...u,ref:t,__scopeCheckbox:n}),m&&r.jsx(EP,{__scopeCheckbox:n})]})})});wx.displayName=Fu;var DP="CheckboxIndicator",TP=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,o=jx(DP,n);return r.jsx(xn,{present:s||fs(o.checked)||o.checked===!0,children:r.jsx(ge.span,{"data-state":AP(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});TP.displayName=DP;var MP="CheckboxBubbleInput",EP=f.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:a,required:l,disabled:c,name:d,value:h,form:u,bubbleInput:m,setBubbleInput:p}=jx(MP,e),v=Oe(n,p),g=U2(o),w=xN(s);f.useEffect(()=>{const y=m;if(!y)return;const x=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(x,"checked").set,M=!i.current;if(g!==o&&N){const S=new Event("click",{bubbles:M});y.indeterminate=fs(o),N.call(y,fs(o)?!1:o),y.dispatchEvent(S)}},[m,g,o,i]);const j=f.useRef(fs(o)?!1:o);return r.jsx(ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??j.current,required:l,disabled:c,name:d,value:h,form:u,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});EP.displayName=MP;function RB(e){return typeof e=="function"}function fs(e){return e==="indeterminate"}function AP(e){return fs(e)?"indeterminate":e?"checked":"unchecked"}const RP=ce.forwardRef(({className:e,...t},n)=>r.jsx(wx,{ref:n,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(TP,{className:ue("flex items-center justify-center text-current"),children:r.jsx(Jp,{className:"h-4 w-4"})})}));RP.displayName=wx.displayName;const X0=[{name:"General Site Safety",items:["Site Access & Egress Clear","PPE Compliance","First Aid Kit Available","Emergency Exits Clear","Fire Extinguishers Checked"]},{name:"Work Area Specific",items:["Scaffolding Secure","Excavation Barricaded","Electrical Tools Grounded","Welding Area Safe","Confined Space Entry Permit"]},{name:"Equipment Checks",items:["Heavy Equipment Pre-start Checks","Power Tools Guarded","Lifting Gear Inspected","Vehicle Reversing Alarms Functional"]},{name:"Environmental",items:["Waste Management Area Tidy","Spill Kits Available","Dust Control Measures In Place"]}],IB=()=>{const{toast:e}=fe(),t=Pt(),[n]=je("projects",[]),[s,i]=je("cmsSiteInspections",[]),[o,a]=f.useState(new Date),[l,c]=f.useState(""),[d,h]=f.useState(""),[u,m]=f.useState(""),[p,v]=f.useState("Good"),[g,w]=f.useState(X0.reduce((P,D)=>(D.items.forEach(C=>{P[C]={status:"N/A",remarks:""}}),P),{})),[j,y]=f.useState([{action:"",responsible:"",dueDate:null,status:"Open"}]),[x,b]=f.useState(""),N=(P,D,C)=>{w(T=>({...T,[P]:{...T[P],[D]:C}}))},M=(P,D,C)=>{const T=[...j];T[P][D]=C,y(T)},S=()=>y([...j,{action:"",responsible:"",dueDate:null,status:"Open"}]),k=P=>y(j.filter((D,C)=>C!==P)),R=P=>{if(P.preventDefault(),!l||!d||!u){e({variant:"destructive",title:"Missing Fields",description:"Project, Location, and Inspector Name are required."});return}const D={id:`INSP-${Date.now()}`,inspectionDate:o.toISOString(),projectId:l,locationArea:d,inspectedBy:u,overallSiteCondition:p,checklistItems:g,correctiveActions:j.filter(C=>C.action),summaryNotes:x};i([...s,D]),e({title:"Site Inspection Submitted",description:`Inspection ID: ${D.id}`}),t("/forms-documents")};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-4xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-orange-500",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold text-orange-600 flex items-center",children:[r.jsx(ob,{className:"mr-3 h-7 w-7"}),"Site Inspection Checklist"]}),r.jsx(pe,{children:"Conduct and record regular site safety and operational inspections."})]}),r.jsxs("form",{onSubmit:R,children:[r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"inspectionDate",children:"Inspection Date"}),r.jsx(ke,{id:"inspectionDate",date:o,setDate:a,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-insp",children:"Project"}),r.jsxs(te,{value:l,onValueChange:c,children:[r.jsx(Z,{id:"projectId-insp",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:n.map(P=>r.jsxs(_,{value:P.id,children:[P.projectName," (",P.projectCode||P.id,")"]},P.id))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"locationArea",children:"Location / Area Inspected"}),r.jsx($,{id:"locationArea",value:d,onChange:P=>h(P.target.value),placeholder:"e.g., Sector B, Workshop, Floor 5"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"inspectedBy",children:"Inspected By"}),r.jsx($,{id:"inspectedBy",value:u,onChange:P=>m(P.target.value),placeholder:"Inspector's Name"})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"overallSiteCondition",children:"Overall Site Condition"}),r.jsxs(te,{value:p,onValueChange:v,children:[r.jsx(Z,{id:"overallSiteCondition",children:r.jsx(ne,{placeholder:"Select Condition"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Good",children:"Good"}),r.jsx(_,{value:"Satisfactory",children:"Satisfactory"}),r.jsx(_,{value:"Needs Improvement",children:"Needs Improvement"}),r.jsx(_,{value:"Unsatisfactory",children:"Unsatisfactory"})]})]})]}),X0.map(P=>r.jsxs(B,{className:"p-3 bg-slate-50",children:[r.jsx(G,{className:"p-0 pb-2",children:r.jsx(z,{className:"text-md text-orange-700",children:P.name})}),r.jsx(Q,{className:"p-0 space-y-2",children:P.items.map(D=>{var C,T;return r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center py-1 border-b border-slate-200 last:border-b-0",children:[r.jsx(E,{htmlFor:`item-${D}`,className:"col-span-12 md:col-span-5 text-sm font-normal",children:D}),r.jsx("div",{className:"col-span-6 md:col-span-3",children:r.jsxs(te,{value:((C=g[D])==null?void 0:C.status)||"N/A",onValueChange:I=>N(D,"status",I),children:[r.jsx(Z,{className:"h-8 text-xs",children:r.jsx(ne,{})}),r.jsxs(ee,{children:[r.jsx(_,{value:"OK",children:"OK"}),r.jsx(_,{value:"N/A",children:"N/A"}),r.jsx(_,{value:"Action Required",children:"Action Required"})]})]})}),r.jsx("div",{className:"col-span-6 md:col-span-4",children:r.jsx($,{value:((T=g[D])==null?void 0:T.remarks)||"",onChange:I=>N(D,"remarks",I.target.value),placeholder:"Remarks...",className:"h-8 text-xs"})})]},D)})})]},P.name)),r.jsxs(B,{className:"p-3 bg-red-50 border-red-200",children:[r.jsx(G,{className:"p-0 pb-2",children:r.jsxs(z,{className:"text-md flex items-center text-red-700",children:[r.jsx(be,{className:"mr-2 h-5 w-5"}),"Corrective Actions Required"]})}),r.jsxs(Q,{className:"p-0 space-y-2",children:[j.map((P,D)=>r.jsxs("div",{className:"p-2 border rounded bg-white grid grid-cols-12 gap-2 items-end",children:[r.jsxs("div",{className:"col-span-12 md:col-span-4",children:[r.jsx(E,{className:"text-xs",children:"Action Required"}),r.jsx(we,{value:P.action,onChange:C=>M(D,"action",C.target.value),placeholder:"Describe action",rows:1,className:"text-xs"})]}),r.jsxs("div",{className:"col-span-6 md:col-span-3",children:[r.jsx(E,{className:"text-xs",children:"Responsible"}),r.jsx($,{value:P.responsible,onChange:C=>M(D,"responsible",C.target.value),placeholder:"Name/Dept",className:"text-xs h-8"})]}),r.jsxs("div",{className:"col-span-6 md:col-span-2",children:[r.jsx(E,{className:"text-xs",children:"Due Date"}),r.jsx(ke,{date:P.dueDate,setDate:C=>M(D,"dueDate",C),className:"h-8 text-xs"})]}),r.jsxs("div",{className:"col-span-8 md:col-span-2",children:[r.jsx(E,{className:"text-xs",children:"Status"}),r.jsxs(te,{value:P.status,onValueChange:C=>M(D,"status",C),children:[r.jsx(Z,{className:"h-8 text-xs",children:r.jsx(ne,{})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Open",children:"Open"}),r.jsx(_,{value:"In Progress",children:"In Progress"}),r.jsx(_,{value:"Closed",children:"Closed"})]})]})]}),r.jsx("div",{className:"col-span-4 md:col-span-1",children:r.jsx(O,{type:"button",variant:"destructive",size:"icon",onClick:()=>k(D),className:"h-8 w-full",children:r.jsx(Re,{className:"h-3 w-3"})})})]},D)),r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:S,className:"border-red-500 text-red-600 hover:bg-red-100",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Corrective Action"]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"summaryNotes",children:"Summary Notes / Overall Assessment"}),r.jsx(we,{id:"summaryNotes",value:x,onChange:P=>b(P.target.value),placeholder:"General observations, recommendations, etc.",rows:3})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-2 border-t pt-6",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>t("/forms-documents"),children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-orange-500 hover:bg-orange-600",children:"Submit Inspection"})]})]})]})})},OB=["Travel","Meals","Accommodation","Office Supplies","Training","Client Entertainment","Software/Subscription","Other"],LB=()=>{const{toast:e}=fe(),t=Pt(),[n]=je("projects",[]),[s,i]=je("cmsExpenseClaims",[]),[o,a]=f.useState(new Date),[l,c]=f.useState(""),[d,h]=f.useState(""),[u,m]=f.useState(""),[p,v]=f.useState([{date:null,type:"",description:"",amount:"",projectId:""}]),[g,w]=f.useState(0),[j,y]=f.useState(""),[x,b]=f.useState([]),N=(C,T,I)=>{const W=[...p];W[C][T]=I,v(W),M(W)},M=C=>{const T=C.reduce((I,W)=>I+(parseFloat(W.amount)||0),0);w(T)},S=()=>v([...p,{date:null,type:"",description:"",amount:"",projectId:""}]),k=C=>{const T=p.filter((I,W)=>W!==C);v(T),M(T)},R=C=>{if(C.target.files){const T=Array.from(C.target.files).map(I=>({name:I.name,type:I.type,size:I.size,id:`FILE-${Date.now()}-${Math.random().toString(36).substr(2,5)}`}));b(I=>[...I,...T].slice(0,5)),x.length+T.length>5&&e({variant:"warning",title:"File Limit",description:"Max 5 attachments."})}},P=C=>b(x.filter(T=>T.id!==C)),D=C=>{if(C.preventDefault(),!l||!u||p.some(I=>!I.date||!I.type||!I.description||!I.amount)){e({variant:"destructive",title:"Missing Fields",description:"Claimant, department, and complete expense item details are required."});return}const T={id:`EXP-${Date.now()}`,claimDate:o.toISOString(),claimantName:l,employeeId:d,department:u,expenses:p.map(I=>({...I,date:I.date?I.date.toISOString():null})),totalAmount:g,purpose:j,status:"Submitted",attachments:x.map(I=>({name:I.name,type:I.type,size:I.size,id:I.id}))};i([...s,T]),e({title:"Expense Claim Submitted",description:`Claim ID: ${T.id}, Total: $${g.toFixed(2)}`}),t("/forms-documents")};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-3xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-purple-600",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold text-purple-700 flex items-center",children:[r.jsx(Qe,{className:"mr-3 h-7 w-7"}),"Expense Claim Form"]}),r.jsx(pe,{children:"Submit claims for reimbursement of business-related expenses."})]}),r.jsxs("form",{onSubmit:D,children:[r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"claimDate",children:"Claim Submission Date"}),r.jsx(ke,{id:"claimDate",date:o,setDate:a,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"claimantName",children:"Claimant Name"}),r.jsx($,{id:"claimantName",value:l,onChange:C=>c(C.target.value),placeholder:"Your Full Name"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"employeeId",children:"Employee ID (Optional)"}),r.jsx($,{id:"employeeId",value:d,onChange:C=>h(C.target.value),placeholder:"Your Employee ID"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"department-exp",children:"Department"}),r.jsx($,{id:"department-exp",value:u,onChange:C=>m(C.target.value),placeholder:"Your Department"})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"purpose",children:"Purpose of Expenses"}),r.jsx(we,{id:"purpose",value:j,onChange:C=>y(C.target.value),placeholder:"e.g., Client meeting for Project Alpha, Site visit to Sector C",rows:2})]}),r.jsxs(B,{className:"p-4 bg-slate-50",children:[r.jsx(G,{className:"p-0 pb-2",children:r.jsxs(z,{className:"text-md flex items-center text-purple-700",children:[r.jsx(yA,{className:"mr-2 h-5 w-5"}),"Expense Items"]})}),r.jsxs(Q,{className:"p-0 space-y-3",children:[p.map((C,T)=>r.jsxs("div",{className:"p-3 border rounded bg-white space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx(E,{className:"text-xs",children:"Date of Expense"}),r.jsx(ke,{date:C.date,setDate:I=>N(T,"date",I),className:"h-8 text-xs w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{className:"text-xs",children:"Expense Type"}),r.jsxs(te,{value:C.type,onValueChange:I=>N(T,"type",I),children:[r.jsx(Z,{className:"h-8 text-xs",children:r.jsx(ne,{placeholder:"Select Type"})}),r.jsx(ee,{children:OB.map(I=>r.jsx(_,{value:I,children:I},I))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(E,{className:"text-xs",children:"Description"}),r.jsx($,{value:C.description,onChange:I=>N(T,"description",I.target.value),placeholder:"e.g., Lunch with client, Taxi fare",className:"h-8 text-xs"})]}),r.jsxs("div",{children:[r.jsx(E,{className:"text-xs",children:"Amount (USD)"}),r.jsx($,{type:"number",step:"0.01",value:C.amount,onChange:I=>N(T,"amount",I.target.value),placeholder:"e.g., 25.50",className:"h-8 text-xs"})]})]}),r.jsxs("div",{children:[r.jsx(E,{className:"text-xs",children:"Related Project (Optional)"}),r.jsxs(te,{value:C.projectId,onValueChange:I=>N(T,"projectId",I),children:[r.jsx(Z,{className:"h-8 text-xs",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:n.map(I=>r.jsx(_,{value:I.id,children:I.projectName},I.id))})]})]}),p.length>1&&r.jsxs(O,{type:"button",variant:"destructive",size:"sm",onClick:()=>k(T),className:"mt-1",children:[r.jsx(Re,{className:"h-3 w-3 mr-1"}),"Remove Item"]})]},T)),r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:S,children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Expense Item"]})]})]}),r.jsxs("div",{className:"text-right font-semibold text-lg",children:["Total Claim Amount: $",g.toFixed(2)]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"attachments-exp",className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),"Attach Receipts/Supporting Documents (Max 5)"]}),r.jsx($,{id:"attachments-exp",type:"file",multiple:!0,onChange:R,accept:"image/*,.pdf,.doc,.docx"}),x.length>0&&r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 mt-2",children:x.map(C=>r.jsxs("li",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(vi,{className:"inline mr-1 h-3 w-3"}),C.name," (",(C.size/1024).toFixed(1)," KB)"]}),r.jsx(O,{type:"button",variant:"ghost",size:"xs",onClick:()=>P(C.id),children:r.jsx(Re,{className:"h-3 w-3 text-destructive"})})]},C.id))})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-2 border-t pt-6",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>t("/forms-documents"),children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:"Submit Claim"})]})]})]})})},FB=["Scope Change","Time Extension","Cost Adjustment","Material Substitution","Design Modification","Other"],_B=()=>{const{toast:e}=fe(),t=Pt(),[n]=je("projects",[]),[s]=je("contractors",[]),[i,o]=je("cmsContractVariations",[]),[a,l]=f.useState(new Date),[c,d]=f.useState(""),[h,u]=f.useState(""),[m,p]=f.useState(""),[v,g]=f.useState(""),[w,j]=f.useState(""),[y,x]=f.useState(""),[b,N]=f.useState(""),[M,S]=f.useState(""),[k,R]=f.useState([]),P=T=>{if(T.target.files){const I=Array.from(T.target.files).map(W=>({name:W.name,type:W.type,size:W.size,id:`FILE-${Date.now()}-${Math.random().toString(36).substr(2,5)}`}));R(W=>[...W,...I].slice(0,3)),k.length+I.length>3&&e({variant:"warning",title:"File Limit",description:"Max 3 attachments."})}},D=T=>R(k.filter(I=>I.id!==T)),C=T=>{if(T.preventDefault(),!c||!h||!m||!v||!w||!M){e({variant:"destructive",title:"Missing Fields",description:"All fields except impact assessments and attachments are required."});return}const I={id:`CVR-${Date.now()}`,requestDate:a.toISOString(),projectId:c,contractorId:h,variationType:m,reasonForVariation:v,detailedDescription:w,costImpact:y,timeImpact:b,requestedBy:M,status:"Pending Review",attachments:k.map(W=>({name:W.name,type:W.type,size:W.size,id:W.id}))};o([...i,I]),e({title:"Contract Variation Request Submitted",description:`Request ID: ${I.id}`}),t("/forms-documents")};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-3xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-yellow-500",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold text-yellow-700 flex items-center",children:[r.jsx(uA,{className:"mr-3 h-7 w-7"}),"Contract Variation Request"]}),r.jsx(pe,{children:"Submit a formal request for changes to an existing contract."})]}),r.jsxs("form",{onSubmit:C,children:[r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"requestDate-cvr",children:"Request Date"}),r.jsx(ke,{id:"requestDate-cvr",date:a,setDate:l,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"requestedBy-cvr",children:"Requested By"}),r.jsx($,{id:"requestedBy-cvr",value:M,onChange:T=>S(T.target.value),placeholder:"Your Name / Department"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-cvr",children:"Project"}),r.jsxs(te,{value:c,onValueChange:d,children:[r.jsx(Z,{id:"projectId-cvr",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:n.map(T=>r.jsxs(_,{value:T.id,children:[T.projectName," (",T.projectCode||T.id,")"]},T.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"contractorId-cvr",children:"Contractor / Party Involved"}),r.jsxs(te,{value:h,onValueChange:u,children:[r.jsx(Z,{id:"contractorId-cvr",children:r.jsx(ne,{placeholder:"Select Contractor"})}),r.jsx(ee,{children:s.map(T=>r.jsx(_,{value:T.id,children:T.companyName||T.name},T.id))})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"variationType-cvr",children:"Type of Variation"}),r.jsxs(te,{value:m,onValueChange:p,children:[r.jsx(Z,{id:"variationType-cvr",children:r.jsx(ne,{placeholder:"Select Variation Type"})}),r.jsx(ee,{children:FB.map(T=>r.jsx(_,{value:T,children:T},T))})]})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"reasonForVariation-cvr",className:"flex items-center",children:[r.jsx(be,{className:"mr-1 h-4 w-4 text-yellow-600"}),"Reason for Variation"]}),r.jsx(we,{id:"reasonForVariation-cvr",value:v,onChange:T=>g(T.target.value),placeholder:"e.g., Unforeseen site conditions, Client request, Design improvement",rows:3})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"detailedDescription-cvr",className:"flex items-center",children:[r.jsx(st,{className:"mr-1 h-4 w-4"}),"Detailed Description of Change"]}),r.jsx(we,{id:"detailedDescription-cvr",value:w,onChange:T=>j(T.target.value),placeholder:"Clearly describe the proposed change from the original contract.",rows:4})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"costImpact-cvr",className:"flex items-center",children:[r.jsx(Qe,{className:"mr-1 h-4 w-4"}),"Estimated Cost Impact (USD)"]}),r.jsx($,{id:"costImpact-cvr",type:"number",value:y,onChange:T=>x(T.target.value),placeholder:"e.g., 5000 (Positive for increase, Negative for decrease)"})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"timeImpact-cvr",className:"flex items-center",children:[r.jsx(Pn,{className:"mr-1 h-4 w-4"}),"Estimated Time Impact (Days)"]}),r.jsx($,{id:"timeImpact-cvr",type:"number",value:b,onChange:T=>N(T.target.value),placeholder:"e.g., 14 (Positive for extension, Negative for reduction)"})]})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"attachments-cvr",className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),"Supporting Documents (Max 3)"]}),r.jsx($,{id:"attachments-cvr",type:"file",multiple:!0,onChange:P,accept:".pdf,.doc,.docx,.jpg,.png"}),k.length>0&&r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 mt-2",children:k.map(T=>r.jsxs("li",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(vi,{className:"inline mr-1 h-3 w-3"}),T.name," (",(T.size/1024).toFixed(1)," KB)"]}),r.jsx(O,{type:"button",variant:"ghost",size:"xs",onClick:()=>D(T.id),children:r.jsx(Re,{className:"h-3 w-3 text-destructive"})})]},T.id))})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-2 border-t pt-6",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>t("/forms-documents"),children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:"Submit Variation Request"})]})]})]})})},Ze=()=>{var s;const e=pr(),t=Pt(),n=((s=e.state)==null?void 0:s.title)||"Form Placeholder";return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 flex justify-center items-center min-h-[calc(100vh-150px)] bg-gradient-to-br from-slate-100 to-sky-100",children:r.jsxs(B,{className:"w-full max-w-xl shadow-2xl border-t-4 border-amber-500",children:[r.jsxs(G,{className:"text-center",children:[r.jsx(si,{className:"mx-auto h-16 w-16 text-amber-500 mb-4"}),r.jsx(z,{className:"text-2xl font-bold text-amber-700",children:n}),r.jsx(pe,{className:"text-slate-600",children:"This form is currently under construction."})]}),r.jsxs(Q,{className:"text-center space-y-4",children:[r.jsxs("p",{className:"text-slate-700",children:['The functionality for the "',n,'" is planned and will be implemented soon. Thank you for your patience.']}),r.jsx("div",{className:"mt-4 p-3 bg-amber-50 border-l-4 border-amber-400 text-amber-700 rounded-md text-sm",children:r.jsxs("div",{className:"flex",children:[r.jsx(be,{className:"h-5 w-5 mr-2 flex-shrink-0"}),r.jsx("span",{children:"Further details and input fields specific to this form will appear here once developed."})]})}),r.jsx(O,{onClick:()=>t(-1),className:"mt-6 bg-amber-600 hover:bg-amber-700",children:"Go Back"})]})]})})},$B=()=>{const{toast:e}=fe(),t=Pt(),[n,s]=f.useState(""),[i,o]=f.useState(""),[a,l]=f.useState(""),[c,d]=f.useState(""),[h,u]=f.useState(new Date),[m,p]=f.useState(null),[v,g]=f.useState(null),[w,j]=f.useState(null),y=b=>{if(b.target.files&&b.target.files[0]){const N=b.target.files[0];if(N.size>2*1024*1024){e({variant:"destructive",title:"Photo too large",description:"Maximum photo size is 2MB."});return}g(N),j(URL.createObjectURL(N))}},x=b=>{if(b.preventDefault(),!n||!i||!a||!c||!h||!v){e({variant:"destructive",title:"Missing Fields",description:"All fields including photo are required to generate ID card."});return}e({title:"ID Card Generation (Conceptual)",description:`Simulating ID card generation for ${n}. QR code and download would be available here.`,className:"bg-blue-500 text-white"})};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-4xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-sky-600",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold text-sky-700 flex items-center",children:[r.jsx(OA,{className:"mr-3 h-7 w-7"}),"Auto ID Card with QR Code Generator"]}),r.jsx(pe,{children:"Generate official ID cards with QR codes for staff members."})]}),r.jsxs("form",{onSubmit:x,children:[r.jsxs(Q,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-sky-700 border-b pb-2",children:"Staff Details"}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"fullName-id",children:"Full Name"}),r.jsx($,{id:"fullName-id",value:n,onChange:b=>s(b.target.value),placeholder:"e.g., John Doe"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"employeeId-id",children:"Employee ID"}),r.jsx($,{id:"employeeId-id",value:i,onChange:b=>o(b.target.value),placeholder:"e.g., EMP00123"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"role-id",children:"Role / Designation"}),r.jsx($,{id:"role-id",value:a,onChange:b=>l(b.target.value),placeholder:"e.g., Site Engineer"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"department-id",children:"Department"}),r.jsx($,{id:"department-id",value:c,onChange:b=>d(b.target.value),placeholder:"e.g., Civil Engineering"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"issueDate-id",children:"Issue Date"}),r.jsx(ke,{id:"issueDate-id",date:h,setDate:u,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"expiryDate-id",children:"Expiry Date (Optional)"}),r.jsx(ke,{id:"expiryDate-id",date:m,setDate:p,className:"w-full"})]})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"photo-id",className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),"Upload Staff Photo (Max 2MB)"]}),r.jsx($,{id:"photo-id",type:"file",onChange:y,accept:"image/jpeg, image/png"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-sky-700 border-b pb-2",children:"ID Card Preview (Conceptual)"}),r.jsxs(B,{className:"p-4 bg-gradient-to-br from-slate-100 to-slate-200 min-h-[280px] flex flex-col items-center justify-center",children:[w?r.jsx("img-replace",{src:w,alt:"Staff Preview",className:"w-24 h-24 rounded-full object-cover mb-3 border-2 border-sky-500 shadow-md"}):r.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-300 flex items-center justify-center mb-3 border-2 border-dashed border-slate-400",children:r.jsx(cd,{className:"h-12 w-12 text-slate-500"})}),r.jsx("p",{className:"font-bold text-lg text-sky-800",children:n||"Full Name"}),r.jsx("p",{className:"text-sm text-slate-700",children:i||"Employee ID"}),r.jsxs("p",{className:"text-xs text-slate-600",children:[a||"Designation"," - ",c||"Department"]}),r.jsx("div",{className:"mt-3 p-2 bg-white rounded shadow",children:r.jsx(mb,{className:"h-16 w-16 text-slate-700"})}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"QR Code (Conceptual)"})]}),r.jsx("div",{className:"mt-2 p-3 bg-sky-50 border-l-4 border-sky-400 text-sky-700 rounded-md text-sm",children:r.jsxs("div",{className:"flex",children:[r.jsx(be,{className:"h-5 w-5 mr-2 flex-shrink-0"}),r.jsx("span",{children:"Actual ID card layout and QR code generation will be more detailed. This is a simplified preview."})]})})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-2 border-t pt-6",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>t("/forms-documents"),children:"Cancel"}),r.jsxs(O,{type:"submit",className:"bg-sky-600 hover:bg-sky-700 flex items-center",children:[r.jsx(eg,{className:"mr-2 h-4 w-4"}),"Generate & Download ID (Conceptual)"]})]})]})]})})},J0=()=>{const e=[{title:"Total Staff",value:"0",icon:Ot,color:"text-blue-500",link:"/hr-staff-registration",linkText:"Manage Staff"},{title:"Active Shifts",value:"0",icon:Vn,color:"text-green-500",link:"/hr-shifts",linkText:"Manage Shifts"},{title:"Attendance Today",value:"0%",icon:oi,color:"text-indigo-500",link:"/hr-attendance",linkText:"View Attendance"},{title:"Safety Compliance",value:"N/A",icon:yt,color:"text-red-500",link:"/hr-safety",linkText:"Check Safety"}];return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-purple-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-purple-600 flex items-center",children:[r.jsx(Ot,{className:"mr-2 h-6 w-6"}),"HR, Attendance & Safety Dashboard"]}),r.jsx(pe,{children:"Overview of human resources, staff attendance, shift management, and safety compliance."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Placeholder Data:"}),r.jsx("p",{className:"text-sm",children:"Statistics and detailed views will be populated as functionality is built."})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((t,n)=>r.jsx(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:n*.1},children:r.jsxs(B,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(z,{className:"text-sm font-medium text-muted-foreground",children:t.title}),r.jsx(t.icon,{className:`h-5 w-5 ${t.color}`})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:t.value}),r.jsx($e,{to:t.link,children:r.jsxs(O,{variant:"link",className:"text-xs text-muted-foreground p-0 h-auto mt-1 hover:text-primary",children:[t.linkText," "]})})]})]})},n))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(B,{children:[r.jsx(G,{children:r.jsx(z,{children:"Quick Actions"})}),r.jsxs(Q,{className:"space-y-2",children:[r.jsx(O,{asChild:!0,className:"w-full justify-start",variant:"outline",children:r.jsxs($e,{to:"/hr-staff-registration",children:[r.jsx(oi,{className:"mr-2 h-4 w-4"}),"Register New Staff"]})}),r.jsx(O,{asChild:!0,className:"w-full justify-start",variant:"outline",children:r.jsxs($e,{to:"/hr-shifts",children:[r.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Manage Shifts"]})}),r.jsx(O,{asChild:!0,className:"w-full justify-start",variant:"outline",children:r.jsxs($e,{to:"/hr-attendance",children:[r.jsx(Ot,{className:"mr-2 h-4 w-4"}),"View Attendance Records"]})}),r.jsx(O,{asChild:!0,className:"w-full justify-start",variant:"outline",children:r.jsxs($e,{to:"/hr-safety",children:[r.jsx(yt,{className:"mr-2 h-4 w-4"}),"Access Safety Protocols"]})})]})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsx(z,{children:"Recent Alerts"})}),r.jsx(Q,{children:r.jsx("p",{className:"text-muted-foreground",children:"No HR alerts at this time. (Placeholder)"})})]})]})]})},VB=()=>{const[e,t]=je("attendanceLog",[]),[n,s]=f.useState(navigator.onLine),[i,o]=f.useState(!1),[a,l]=je("lastPunch",{type:null,time:null}),{toast:c}=fe(),d="STAFF_001";f.useEffect(()=>{const m=()=>s(!0),p=()=>s(!1);return window.addEventListener("online",m),window.addEventListener("offline",p),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",p)}},[]);const h=m=>{o(!0),setTimeout(()=>{const p={userId:d,type:m,timestamp:new Date().toISOString(),location:"Mocked Location (12.345, 67.890)",synced:n};if(t(v=>[...v,p]),l({type:m,time:p.timestamp}),o(!1),c({title:`Punched ${m==="in"?"In":"Out"}`,description:`Successfully recorded at ${new Date(p.timestamp).toLocaleTimeString()}. Status: ${n?"Online (Synced)":"Offline (Queued)"}`,variant:m==="in"?"default":"destructive"}),n)u();else{const v=JSON.parse(localStorage.getItem("offlineAttendanceQueue")||"[]");localStorage.setItem("offlineAttendanceQueue",JSON.stringify([...v,p]))}},1500)},u=()=>{const m=JSON.parse(localStorage.getItem("offlineAttendanceQueue")||"[]");m.length>0&&n&&(console.log("Attempting to sync offline data:",m),setTimeout(()=>{const p=m.map(v=>v.timestamp);t(v=>v.map(g=>p.includes(g.timestamp)&&!g.synced?{...g,synced:!0}:g)),localStorage.setItem("offlineAttendanceQueue","[]"),c({title:"Offline Data Synced",description:`${m.length} records synced successfully.`})},2e3))};return f.useEffect(()=>{n&&u()},[n]),r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-2xl mx-auto",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-blue-500",children:[r.jsxs(G,{className:"text-center",children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-blue-600 flex items-center justify-center",children:[r.jsx(Pn,{className:"mr-2 h-7 w-7"}),"Attendance Punch System"]}),r.jsx(pe,{children:"Location-based punch-in/out. Works offline and syncs when reconnected."}),r.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center justify-center ${n?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n?r.jsx(xb,{className:"mr-2 h-4 w-4"}):r.jsx(gb,{className:"mr-2 h-4 w-4"}),n?"Online Mode: Synced in real-time":"Offline Mode: Data queued for sync"]})]}),r.jsxs(Q,{className:"space-y-6",children:[i&&r.jsx("div",{className:"p-3 bg-yellow-100 border border-yellow-300 rounded-md text-yellow-700 text-sm text-center",children:"Acquiring location... Please wait."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs(O,{size:"lg",className:"py-8 bg-green-500 hover:bg-green-600 text-lg font-semibold flex flex-col items-center",onClick:()=>h("in"),disabled:a.type==="in"||i,children:[r.jsx(ar,{className:"mb-1 h-6 w-6"})," Punch In"]}),r.jsxs(O,{size:"lg",className:"py-8 bg-red-500 hover:bg-red-600 text-lg font-semibold flex flex-col items-center",onClick:()=>h("out"),disabled:a.type==="out"||a.type===null||i,children:[r.jsx(ai,{className:"mb-1 h-6 w-6"})," Punch Out"]})]}),a.time&&r.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Last Punch: ",a.type==="in"?"IN":"OUT"," at ",new Date(a.time).toLocaleTimeString()]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Recent Activity (Mock)"}),e.length===0?r.jsx("p",{className:"text-muted-foreground text-center",children:"No attendance records yet."}):r.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar p-2 border rounded-md bg-slate-50",children:e.slice().reverse().slice(0,5).map((m,p)=>r.jsxs("li",{className:`flex justify-between items-center p-2 rounded text-xs ${m.type==="in"?"bg-green-50":"bg-red-50"}`,children:[r.jsxs("span",{children:[m.type==="in"?"PUNCH IN":"PUNCH OUT"," at ",new Date(m.timestamp).toLocaleTimeString()]}),r.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-white text-[10px] ${m.synced?"bg-green-500":"bg-yellow-500"}`,children:m.synced?"Synced":"Queued"})]},p))})]}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-500 text-blue-700 rounded-md",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:"Location & Offline Mode:"}),r.jsx("p",{className:"text-xs",children:"This is a simplified demonstration. A real app would require GPS permissions and more robust offline data handling and synchronization logic."})]})]})})]})]})})},oc="cms_offline_queue",qB=3,Z0=[1e3,3e3,1e4];function BB(){const[e,t]=f.useState([]),[n,s]=f.useState(!1),[i,o]=f.useState(null),a=f.useRef(null);f.useEffect(()=>{l()},[]),f.useEffect(()=>{c()},[e]),f.useEffect(()=>{const y=()=>{e.length>0&&h(2e3)},x=()=>{d(),Bs({title:"Offline Mode",description:"Changes will be saved locally and synced when reconnected"})};return window.addEventListener("online",y),window.addEventListener("offline",x),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",x),d()}},[e.length]);const l=()=>{try{const y=localStorage.getItem(oc);if(y){const x=JSON.parse(y);t(x.filter(b=>b&&b.id))}}catch(y){console.error("Failed to load offline queue:",y),localStorage.removeItem(oc)}},c=()=>{try{localStorage.setItem(oc,JSON.stringify(e))}catch(y){console.error("Failed to save offline queue:",y)}},d=()=>{a.current&&(clearTimeout(a.current),a.current=null)},h=(y=0)=>{d(),a.current=setTimeout(()=>{navigator.onLine&&e.length>0&&m()},y)},u=f.useCallback(y=>{if(!y||!y.type)return console.error("Invalid operation queued:",y),null;const x={id:`offline_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),operation:y,retries:0,lastAttempt:null,status:"pending"};return t(b=>[...b,x]),navigator.onLine&&h(100),x.id},[]),m=f.useCallback(async()=>{if(n||e.length===0||!navigator.onLine)return;s(!0),o(new Date().toISOString());const y=[],x=[...e];try{for(let S=0;S<x.length;S++){const k=x[S];if(k.status!=="completed")try{await p(k),k.status="completed",y.push({success:!0,id:k.id})}catch(R){console.error(`Failed to sync item ${k.id}:`,R),k.retries=(k.retries||0)+1,k.lastAttempt=new Date().toISOString(),k.lastError=R.message,k.retries>=qB?(k.status="failed",y.push({success:!1,id:k.id,error:R,permanent:!0})):(k.status="retry",y.push({success:!1,id:k.id,error:R,permanent:!1}))}}const b=x.filter(S=>S.status!=="completed"&&S.status!=="failed");t(b);const N=y.filter(S=>S.success).length,M=y.filter(S=>!S.success&&S.permanent).length;if(N>0&&Bs({title:"Sync Complete",description:`${N} offline changes synchronized`}),M>0&&Bs({variant:"destructive",title:"Sync Failed",description:`${M} items could not be synchronized`}),b.length>0){const S=Math.min(...b.map(k=>Z0[Math.min(k.retries,Z0.length-1)]));h(S)}}catch(b){console.error("Queue processing error:",b),Bs({variant:"destructive",title:"Sync Error",description:"Failed to process offline queue"})}finally{s(!1)}},[e,n]),p=async y=>{const{operation:x}=y;switch(x.type){case"CREATE_PROJECT":break;case"UPDATE_PROJECT":break;case"CREATE_ATTENDANCE":break;case"CREATE_EQUIPMENT_DISPATCH":break;default:throw new Error(`Unknown operation type: ${x.type}`)}if(await new Promise(b=>setTimeout(b,100)),Math.random()<.1)throw new Error("Simulated network error")},v=f.useCallback(()=>{navigator.onLine?m():Bs({variant:"destructive",title:"No Connection",description:"Cannot sync while offline"})},[m]),g=f.useCallback(()=>{t([]),localStorage.removeItem(oc),Bs({title:"Queue Cleared",description:"All offline items removed"})},[]),w=f.useCallback(()=>{t(y=>y.map(x=>({...x,status:x.status==="failed"?"pending":x.status,retries:x.status==="failed"?0:x.retries}))),navigator.onLine&&h(1e3)},[]),j=f.useCallback(()=>{const y=e.filter(N=>N.status==="pending").length,x=e.filter(N=>N.status==="retry").length,b=e.filter(N=>N.status==="failed").length;return{total:e.length,pending:y,retry:x,failed:b,hasItems:e.length>0,needsAttention:b>0}},[e]);return{queue:e,queueOperation:u,processQueue:v,clearQueue:g,retryFailed:w,isSyncing:n,lastSyncAttempt:i,stats:j(),isOnline:navigator.onLine}}const UB=()=>{const{user:e}=bl(),{toast:t}=fe(),n=BB(),s=Cn(Fe.attendance.listAttendanceRecords)||[],i=xt(Fe.attendance.createAttendanceRecord),[o,a]=f.useState(navigator.onLine),[l,c]=f.useState(!1),[d,h]=f.useState({type:null,time:null}),[u,m]=f.useState(null),v=s.filter(b=>b.userId===(e==null?void 0:e.userId)).filter(b=>{const N=new Date().toDateString();return new Date(b.timestamp).toDateString()===N});f.useEffect(()=>{if(v.length>0){const b=v.sort((N,M)=>new Date(M.timestamp)-new Date(N.timestamp))[0];h({type:b.punchType,time:b.timestamp})}},[v]),f.useEffect(()=>{const b=()=>a(!0),N=()=>a(!1);return window.addEventListener("online",b),window.addEventListener("offline",N),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",N)}},[]);const g=()=>new Promise((b,N)=>{if(!navigator.geolocation){N(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(M=>{b({latitude:M.coords.latitude,longitude:M.coords.longitude,accuracy:M.coords.accuracy})},M=>{console.warn("Location error:",M),b({latitude:25.276987,longitude:55.296249,accuracy:10,mock:!0})},{enableHighAccuracy:!0,timeout:1e4})}),w=async b=>{if(!e){t({variant:"destructive",title:"Authentication Required",description:"Please sign in to record attendance"});return}c(!0);try{const N=await g();m(N);const M={userId:e.userId,punchType:b,timestamp:new Date().toISOString(),location:N.mock?"Demo Location (25.276987, 55.296249)":`${N.latitude}, ${N.longitude}`,locationAccuracy:N.accuracy,deviceInfo:{userAgent:navigator.userAgent,platform:navigator.platform},isOnline:o};if(o)try{await i(M),h({type:b,time:M.timestamp}),t({title:`Punched ${b==="in"?"In":"Out"}`,description:`Successfully recorded at ${new Date(M.timestamp).toLocaleTimeString()}. Status: Online (Synced)`,variant:b==="in"?"default":"destructive"})}catch(S){throw S}else n.queueOperation({type:"CREATE_ATTENDANCE",data:M}),h({type:b,time:M.timestamp}),t({title:`Punched ${b==="in"?"In":"Out"} (Offline)`,description:`Recorded locally at ${new Date(M.timestamp).toLocaleTimeString()}. Will sync when online.`,variant:b==="in"?"default":"destructive"})}catch(N){console.error("Punch error:",N),t({variant:"destructive",title:"Punch Failed",description:N.message||"Could not record attendance. Please try again."})}finally{c(!1)}},j=!d.type||d.type==="out",y=d.type==="in",x=()=>{if(!d.time)return"No punches today";const b=new Date(d.time).toLocaleTimeString();return`${d.type==="in"?"Punched In":"Punched Out"} at ${b}`};return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsxs(B,{className:"max-w-md mx-auto shadow-xl",children:[r.jsxs(G,{className:"text-center pb-4",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o?r.jsx(xb,{className:"h-5 w-5 text-green-500"}):r.jsx(gb,{className:"h-5 w-5 text-red-500"}),r.jsx("span",{className:`text-sm font-medium ${o?"text-green-600":"text-red-600"}`,children:o?"Online":"Offline Mode"})]}),r.jsx(z,{className:"text-2xl font-bold",children:"Attendance System"}),r.jsx(pe,{children:e?`Welcome, ${e.fullName}`:"Please sign in to continue"}),n.stats.hasItems&&r.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(be,{className:"h-4 w-4 text-yellow-600"}),r.jsxs("span",{className:"text-sm text-yellow-700",children:[n.stats.total," items queued for sync"]})]}),o&&r.jsx(O,{size:"sm",variant:"outline",className:"mt-2 w-full",onClick:n.processQueue,disabled:n.isSyncing,children:n.isSyncing?"Syncing...":"Sync Now"})]})]}),r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Status"}),r.jsx("div",{className:"font-medium",children:x()})]}),l&&r.jsx(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700",children:[r.jsx(Pn,{className:"h-4 w-4 animate-spin"}),r.jsx("span",{className:"text-sm font-medium",children:"Getting your location..."})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(O,{onClick:()=>w("in"),disabled:!j||l||!e,className:"h-20 text-lg font-semibold bg-green-600 hover:bg-green-700 disabled:opacity-50",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(ar,{className:"h-6 w-6"}),r.jsx("span",{children:"Punch In"})]})}),r.jsx(O,{onClick:()=>w("out"),disabled:!y||l||!e,variant:"destructive",className:"h-20 text-lg font-semibold disabled:opacity-50",children:r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(ai,{className:"h-6 w-6"}),r.jsx("span",{children:"Punch Out"})]})})]}),v.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"font-medium mb-3",children:"Today's Records"}),r.jsx("div",{className:"space-y-2",children:v.sort((b,N)=>new Date(N.timestamp)-new Date(b.timestamp)).slice(0,5).map((b,N)=>r.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[b.punchType==="in"?r.jsx(ar,{className:"h-4 w-4 text-green-500"}):r.jsx(ai,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:"text-sm font-medium",children:b.punchType==="in"?"Punch In":"Punch Out"})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(b.timestamp).toLocaleTimeString()})]},N))})]}),r.jsx("div",{className:"text-xs text-muted-foreground text-center",children:o?"Your attendance is being synced in real-time":"Operating in offline mode. Data will sync when connection is restored."})]})]})})},Rd=[{id:"staff1",name:"John Doe",role:"Site Engineer"},{id:"staff2",name:"Jane Smith",role:"Safety Officer"},{id:"staff3",name:"Ali Khan",role:"Foreman"}],ej=[{id:"siteA",name:"Downtown Tower Site"},{id:"siteB",name:"West Bridge Project"}],tj=["Morning (8AM-4PM)","Evening (4PM-12AM)","Night (12AM-8AM)","General (9AM-5PM)"],zB=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState(t.staffId||""),[o,a]=f.useState(t.siteId||""),[l,c]=f.useState(t.shiftDate?new Date(t.shiftDate):new Date),[d,h]=f.useState(t.shiftType||tj[0]),[u,m]=f.useState(t.notes||""),{toast:p}=fe(),v=g=>{var w,j;if(g.preventDefault(),!s||!o||!l||!d){p({variant:"destructive",title:"Missing Fields",description:"Please select staff, site, date, and shift type."});return}e({id:t.id||`SHIFT-${Date.now()}`,staffId:s,siteId:o,shiftDate:l,shiftType:d,notes:u,staffName:(w=Rd.find(y=>y.id===s))==null?void 0:w.name,siteName:(j=ej.find(y=>y.id===o))==null?void 0:j.name})};return r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"staffId",children:"Staff Member"}),r.jsxs(te,{value:s,onValueChange:i,children:[r.jsx(Z,{id:"staffId",children:r.jsx(ne,{placeholder:"Select Staff"})}),r.jsx(ee,{children:Rd.map(g=>r.jsxs(_,{value:g.id,children:[g.name," (",g.role,")"]},g.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"siteId",children:"Site/Location"}),r.jsxs(te,{value:o,onValueChange:a,children:[r.jsx(Z,{id:"siteId",children:r.jsx(ne,{placeholder:"Select Site"})}),r.jsx(ee,{children:ej.map(g=>r.jsx(_,{value:g.id,children:g.name},g.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"shiftDate",children:"Shift Date"}),r.jsx(ke,{date:l,setDate:c})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"shiftType",children:"Shift Type"}),r.jsxs(te,{value:d,onValueChange:h,children:[r.jsx(Z,{id:"shiftType",children:r.jsx(ne,{placeholder:"Select Shift Type"})}),r.jsx(ee,{children:tj.map(g=>r.jsx(_,{value:g,children:g},g))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"notes",children:"Notes (Optional)"}),r.jsx($,{id:"notes",value:u,onChange:g=>m(g.target.value),placeholder:"Any specific instructions or notes"})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Shift":"Assign Shift"})]})]})},WB=()=>{const[e,t]=je("shifts",[]),[n,s]=f.useState(!1),[i,o]=f.useState(null),{toast:a}=fe(),[l,c]=f.useState(null),d=g=>{let w;i?(w=e.map(j=>j.id===i.id?{...j,...g}:j),a({title:"Shift Updated",description:`Shift for ${g.staffName} updated.`})):(w=[...e,g],a({title:"Shift Assigned",description:`New shift assigned to ${g.staffName}.`})),t(w),s(!1),o(null)},h=g=>{o(g),s(!0)},u=g=>{window.confirm("Are you sure you want to delete this shift?")&&(t(w=>w.filter(j=>j.id!==g)),a({title:"Shift Deleted",variant:"destructive"}))},m=(g,w)=>{c(w),g.dataTransfer.effectAllowed="move"},p=g=>{g.preventDefault()},v=(g,w,j)=>{var y;if(g.preventDefault(),l){const x={...l,shiftDate:w,staffId:j,staffName:(y=Rd.find(N=>N.id===j))==null?void 0:y.name},b=e.map(N=>N.id===l.id?x:N);t(b),a({title:"Shift Moved (Mock)",description:`Shift for ${x.staffName} moved to new slot.`}),c(null)}};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-orange-500",children:[r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-orange-600 flex items-center",children:[r.jsx(nb,{className:"mr-2 h-6 w-6"}),"Shift Management"]}),r.jsx(pe,{children:"Assign shifts by role/site. Drag-and-drop shift changes (conceptual)."})]}),r.jsxs(O,{onClick:()=>{o(null),s(!0)},className:"mt-4 md:mt-0 bg-orange-500 hover:bg-orange-600 text-white",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Assign New Shift"]})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"mb-6 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Simplified View & Drag-and-Drop:"}),r.jsx("p",{className:"text-sm",children:"This page provides a basic list of shifts. A full calendar view with drag-and-drop functionality is a complex feature planned for later development. The current drag-and-drop is a conceptual placeholder."})]})]}),e.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No shifts assigned yet. Click "Assign New Shift" to start.'}):r.jsx("div",{className:"space-y-3",children:e.sort((g,w)=>new Date(g.shiftDate)-new Date(w.shiftDate)).map(g=>{var w;return r.jsx(B,{className:"p-3 shadow-sm hover:shadow-md transition-shadow",draggable:!0,onDragStart:j=>m(j,g),onDragOver:p,onDrop:j=>v(j,new Date,g.staffId),children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold",children:[g.staffName," ",r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(w=Rd.find(j=>j.id===g.staffId))==null?void 0:w.role,")"]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(g.shiftDate).toLocaleDateString()," - ",g.shiftType]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Site: ",g.siteName]}),g.notes&&r.jsxs("p",{className:"text-xs italic text-gray-500 mt-1",children:["Notes: ",g.notes]})]}),r.jsxs("div",{className:"space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>h(g),title:"Edit Shift",children:r.jsx(Ts,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>u(g.id),title:"Delete Shift",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]})},g.id)})})]})]}),r.jsx(tt,{open:n,onOpenChange:g=>{g||o(null),s(g)},children:r.jsxs(Ke,{className:"sm:max-w-md",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:i?"Edit Shift":"Assign New Shift"}),r.jsx(ut,{children:"Fill in the details for the staff shift."})]}),r.jsx(zB,{onSubmit:d,initialData:i||{},onCancel:()=>{s(!1),o(null)}})]})})]})},nj=["Hard Hat","Safety Vest","Gloves","Safety Glasses","Steel-toed Boots","Harness"],rj=["Fall Hazard","Electrical Hazard","Struck-by Hazard","Caught-in/between Hazard","Chemical Exposure","Fire Hazard"],Id=[{id:"siteA",name:"Downtown Tower Site"},{id:"siteB",name:"West Bridge Project"}],HB=({reportType:e,onSubmit:t,onCancel:n})=>{const[s,i]=f.useState({date:new Date,siteId:Id[0].id,description:"",reportedBy:"",ppeType:e==="ppe"?nj[0]:"",hazardType:e==="hazard"?rj[0]:"",correctiveAction:""}),{toast:o}=fe(),a=(c,d)=>{i(h=>({...h,[c]:d}))},l=c=>{if(c.preventDefault(),!s.description||!s.siteId){o({variant:"destructive",title:"Missing fields",description:"Site and description are required."});return}t({...s,id:`${e}-${Date.now()}`,reportedBy:"Mock User"})};return r.jsxs("form",{onSubmit:l,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"date",children:"Date"}),r.jsx(ke,{date:s.date,setDate:c=>a("date",c)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"siteId",children:"Site/Location"}),r.jsxs(te,{value:s.siteId,onValueChange:c=>a("siteId",c),children:[r.jsx(Z,{id:"siteId",children:r.jsx(ne,{placeholder:"Select Site"})}),r.jsx(ee,{children:Id.map(c=>r.jsx(_,{value:c.id,children:c.name},c.id))})]})]}),e==="ppe"&&r.jsxs("div",{children:[r.jsx(E,{htmlFor:"ppeType",children:"PPE Type"}),r.jsxs(te,{value:s.ppeType,onValueChange:c=>a("ppeType",c),children:[r.jsx(Z,{id:"ppeType",children:r.jsx(ne,{placeholder:"Select PPE Type"})}),r.jsx(ee,{children:nj.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),e==="hazard"&&r.jsxs("div",{children:[r.jsx(E,{htmlFor:"hazardType",children:"Hazard Type"}),r.jsxs(te,{value:s.hazardType,onValueChange:c=>a("hazardType",c),children:[r.jsx(Z,{id:"hazardType",children:r.jsx(ne,{placeholder:"Select Hazard Type"})}),r.jsx(ee,{children:rj.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"description",children:"Description of Observation/Issue"}),r.jsx(we,{id:"description",value:s.description,onChange:c=>a("description",c.target.value),placeholder:"Detailed description..."})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"correctiveAction",children:"Corrective Action Taken/Suggested (Optional)"}),r.jsx(we,{id:"correctiveAction",value:s.correctiveAction,onChange:c=>a("correctiveAction",c.target.value)})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:"Submit Report"})]})]})},sj=()=>{const[e,t]=je("safetyReports",[]),[n,s]=f.useState(!1),[i,o]=f.useState(""),{toast:a}=fe(),l=m=>{o(m),s(!0)},c=m=>{t(p=>[...p,m]),a({title:"Report Submitted",description:`${i==="ppe"?"PPE":"Hazard"} report saved successfully.`}),s(!1)},d=e.filter(m=>m.ppeType),h=e.filter(m=>m.hazardType),u="Moderate risk of fall hazards on Site A due to recent weather and reported scaffolding issues. (AI Placeholder)";return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-red-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-red-600 flex items-center",children:[r.jsx(ho,{className:"mr-2 h-6 w-6"}),"Health & Safety Dashboard"]}),r.jsx(pe,{children:"Track PPE compliance, site hazards, and AI-predicted risks."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"AI Features Placeholder:"}),r.jsx("p",{className:"text-sm",children:"AI hazard parsing and risk prediction are conceptual and will be developed later."})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs(O,{size:"lg",className:"py-8 bg-blue-500 hover:bg-blue-600 text-lg font-semibold",onClick:()=>l("ppe"),children:[r.jsx(vs,{className:"mr-2 h-5 w-5"}),"Log PPE Compliance/Issue"]}),r.jsxs(O,{size:"lg",className:"py-8 bg-orange-500 hover:bg-orange-600 text-lg font-semibold",onClick:()=>l("hazard"),children:[r.jsx(be,{className:"mr-2 h-5 w-5"}),"Report Site Hazard"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(vs,{className:"mr-2 h-5 w-5 text-blue-600"}),"PPE Compliance Tracker"]})}),r.jsx(Q,{children:d.length===0?r.jsx("p",{className:"text-muted-foreground text-sm",children:"No PPE reports logged."}):d.map(m=>{var p;return r.jsxs("p",{className:"text-sm border-b pb-1 mb-1",children:[new Date(m.date).toLocaleDateString(),": ",m.ppeType," issue at ",(p=Id.find(v=>v.id===m.siteId))==null?void 0:p.name," - ",m.description.substring(0,30),"..."]},m.id)})})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(be,{className:"mr-2 h-5 w-5 text-orange-600"}),"Site Hazard Reports"]})}),r.jsx(Q,{children:h.length===0?r.jsx("p",{className:"text-muted-foreground text-sm",children:"No hazard reports logged."}):h.map(m=>{var p;return r.jsxs("p",{className:"text-sm border-b pb-1 mb-1",children:[new Date(m.date).toLocaleDateString(),": ",m.hazardType," at ",(p=Id.find(v=>v.id===m.siteId))==null?void 0:p.name," - ",m.description.substring(0,30),"..."]},m.id)})})]}),r.jsxs(B,{className:"bg-red-50 border-red-200",children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center text-red-700",children:[r.jsx(ho,{className:"mr-2 h-5 w-5"}),"AI Predicted High-Risk Operations"]})}),r.jsx(Q,{children:r.jsx("p",{className:"text-sm text-red-600",children:u})})]})]}),r.jsx(tt,{open:n,onOpenChange:s,children:r.jsxs(Ke,{className:"sm:max-w-lg",children:[r.jsx(Xe,{children:r.jsx(Je,{children:i==="ppe"?"Log PPE Compliance/Issue":"Report Site Hazard"})}),r.jsx(HB,{reportType:i,onSubmit:c,onCancel:()=>s(!1)})]})})]})},GB=["Saudi Arabian","Indian","Pakistani","Filipino","Egyptian","Bangladeshi","Other"],em=()=>{const e=Pt(),{staffId:t}=z1(),{toast:n}=fe(),[s,i]=je("staffList",[]),[o,a]=f.useState(!1),l={id:`STAFF-${Date.now().toString(36).substr(2,9).toUpperCase()}`,fullName:"",iqamaNumber:"",nationality:"",passportNumber:"",mobileNumber:"",insuranceProvider:"",insurancePolicyNumber:"",insuranceExpiryDate:null,photoId:null,medicalInsuranceCard:null,joiningDate:new Date,position:"",department:"",qrCodeData:""},[c,d]=f.useState(l);f.useEffect(()=>{if(t){const j=s.find(y=>y.id===t);j?(d({...j,insuranceExpiryDate:j.insuranceExpiryDate?new Date(j.insuranceExpiryDate):null,joiningDate:j.joiningDate?new Date(j.joiningDate):new Date}),a(!0)):(n({variant:"destructive",title:"Error",description:"Staff member not found."}),e("/hr-dashboard"))}else d(l),a(!1)},[t,s,e,n]);const h=j=>{const{name:y,value:x}=j.target;d(b=>({...b,[y]:x}))},u=(j,y)=>{d(x=>({...x,[j]:y}))},m=(j,y)=>{d(x=>({...x,[j]:y}))},p=(j,y)=>{const x=j.target.files[0];x&&(d(b=>({...b,[y]:{name:x.name,type:x.type,size:x.size}})),n({title:"File Selected",description:`${x.name} ready for upload.`})),j.target.value=null},v=j=>{d(y=>({...y,[j]:null})),n({title:"File Removed",description:`File for ${j} has been cleared.`})},g=j=>{if(j.preventDefault(),!c.fullName||!c.iqamaNumber||!c.nationality||!c.mobileNumber){n({variant:"destructive",title:"Missing Fields",description:"Full Name, IQAMA/ID, Nationality, and Mobile Number are required."});return}const y=`Name: ${c.fullName}, ID: ${c.iqamaNumber}, StaffID: ${c.id}`,x={...c,qrCodeData:y,lastModified:new Date().toISOString()};if(o){const b=s.map(N=>N.id===t?x:N);i(b),n({title:"Staff Updated",description:`${x.fullName}'s details updated.`})}else i([...s,x]),n({title:"Staff Registered",description:`${x.fullName} has been registered.`});e("/hr-dashboard")},w=(j,y,x)=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs(E,{htmlFor:y,className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),j]}),r.jsx($,{id:y,type:"file",onChange:b=>p(b,y),className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),x&&r.jsxs("div",{className:"mt-1 flex items-center justify-between p-1.5 bg-muted/50 rounded-md text-xs",children:[r.jsxs("span",{className:"truncate",title:x.name,children:[x.name," (",(x.size/1024).toFixed(1)," KB)"]}),r.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>v(y),className:"h-6 w-6",children:r.jsx(Re,{className:"h-3 w-3 text-destructive"})})]})]});return r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto p-4 sm:p-6 lg:p-8",children:r.jsxs(B,{className:"shadow-xl border-t-4 border-green-500",children:[r.jsx(G,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-green-600 flex items-center",children:[r.jsx(iu,{className:"mr-2 h-6 w-6"}),o?"Edit Staff Details":"New Staff Registration"]}),r.jsx(pe,{children:"Enter the required information for the staff member."})]}),r.jsxs(O,{variant:"outline",onClick:()=>e("/hr-dashboard"),children:[r.jsx(qa,{className:"mr-2 h-4 w-4"}),"Back to HR"]})]})}),r.jsxs("form",{onSubmit:g,children:[r.jsxs(Q,{className:"space-y-6",children:[r.jsxs("section",{children:[r.jsx("h3",{className:"text-md font-semibold mb-2 border-b pb-1 text-gray-700",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"fullName",children:"Full Name"}),r.jsx($,{id:"fullName",name:"fullName",value:c.fullName,onChange:h,required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"nationality",children:"Nationality"}),r.jsxs(te,{name:"nationality",value:c.nationality,onValueChange:j=>m("nationality",j),children:[r.jsx(Z,{id:"nationality",children:r.jsx(ne,{placeholder:"Select nationality"})}),r.jsx(ee,{children:GB.map(j=>r.jsx(_,{value:j,children:j},j))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"iqamaNumber",children:"IQAMA / National ID"}),r.jsx($,{id:"iqamaNumber",name:"iqamaNumber",value:c.iqamaNumber,onChange:h,required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"passportNumber",children:"Passport Number (Optional)"}),r.jsx($,{id:"passportNumber",name:"passportNumber",value:c.passportNumber,onChange:h})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"mobileNumber",children:"Mobile Number"}),r.jsx($,{id:"mobileNumber",name:"mobileNumber",type:"tel",value:c.mobileNumber,onChange:h,required:!0})]})]})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-md font-semibold mb-2 border-b pb-1 text-gray-700",children:"Employment Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"position",children:"Position / Title"}),r.jsx($,{id:"position",name:"position",value:c.position,onChange:h,placeholder:"e.g., Site Engineer, HR Officer"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"department",children:"Department"}),r.jsx($,{id:"department",name:"department",value:c.department,onChange:h,placeholder:"e.g., Civil, MEP, HR"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"joiningDate",children:"Joining Date"}),r.jsx(ke,{date:c.joiningDate,setDate:j=>u("joiningDate",j)})]})]})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-md font-semibold mb-2 border-b pb-1 text-gray-700",children:"Insurance Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"insuranceProvider",children:"Insurance Provider"}),r.jsx($,{id:"insuranceProvider",name:"insuranceProvider",value:c.insuranceProvider,onChange:h})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"insurancePolicyNumber",children:"Policy Number"}),r.jsx($,{id:"insurancePolicyNumber",name:"insurancePolicyNumber",value:c.insurancePolicyNumber,onChange:h})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"insuranceExpiryDate",children:"Insurance Expiry Date"}),r.jsx(ke,{date:c.insuranceExpiryDate,setDate:j=>u("insuranceExpiryDate",j)})]})]})]}),r.jsxs("section",{children:[r.jsx("h3",{className:"text-md font-semibold mb-2 border-b pb-1 text-gray-700",children:"Document Uploads"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w("Photo ID (IQAMA/Passport)","photoId",c.photoId),w("Medical Insurance Card","medicalInsuranceCard",c.medicalInsuranceCard)]})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-3 py-4 border-t",children:[r.jsx(O,{type:"button",variant:"outline",onClick:()=>e("/hr-dashboard"),children:"Cancel"}),r.jsxs(O,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(ig,{className:"mr-2 h-4 w-4"}),o?"Save Changes":"Register Staff"]})]})]})]})})},ij=["Cement","Steel Rebar","Sand","Gravel","Bricks","Pipes","Cables","Tools"],oj=["Bag","Ton","Cubic Meter","Piece","Meter","Box"],Od=[{id:"siteA",name:"Downtown Tower Site"},{id:"siteB",name:"West Bridge Project"}],QB=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState({itemName:t.itemName||"",category:t.category||ij[0],quantity:t.quantity||"",unit:t.unit||oj[0],minStockLevel:t.minStockLevel||"",qrBarcode:t.qrBarcode||`ITEM-${Date.now().toString(36).slice(-6)}`,siteId:t.siteId||Od[0].id,description:t.description||""}),{toast:o}=fe(),a=(c,d)=>{i(h=>({...h,[c]:d}))},l=c=>{if(c.preventDefault(),!s.itemName||!s.quantity||!s.siteId){o({variant:"destructive",title:"Missing Fields",description:"Item Name, Quantity and Site are required."});return}e({...s,id:t.id||`INV-${Date.now()}`})};return r.jsxs("form",{onSubmit:l,className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"itemName",children:"Item Name"}),r.jsx($,{id:"itemName",value:s.itemName,onChange:c=>a("itemName",c.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"category",children:"Category"}),r.jsxs(te,{value:s.category,onValueChange:c=>a("category",c),children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Select Category"})}),r.jsx(ee,{children:ij.map(c=>r.jsx(_,{value:c,children:c},c))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"quantity",children:"Quantity"}),r.jsx($,{id:"quantity",type:"number",value:s.quantity,onChange:c=>a("quantity",c.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"unit",children:"Unit"}),r.jsxs(te,{value:s.unit,onValueChange:c=>a("unit",c),children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Select Unit"})}),r.jsx(ee,{children:oj.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"minStockLevel",children:"Min. Stock Level"}),r.jsx($,{id:"minStockLevel",type:"number",value:s.minStockLevel,onChange:c=>a("minStockLevel",c.target.value)})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"siteId",children:"Site/Location"}),r.jsxs(te,{value:s.siteId,onValueChange:c=>a("siteId",c),children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Select Site"})}),r.jsx(ee,{children:Od.map(c=>r.jsx(_,{value:c.id,children:c.name},c.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"qrBarcode",children:"QR/Barcode (Auto)"}),r.jsx($,{id:"qrBarcode",value:s.qrBarcode,readOnly:!0,disabled:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"description",children:"Description (Optional)"}),r.jsx(we,{id:"description",value:s.description,onChange:c=>a("description",c.target.value),rows:2})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Item":"Add Item"})]})]})},aj=()=>{const[e,t]=je("inventoryItems",[]),[n,s]=f.useState(!1),[i,o]=f.useState(null),{toast:a}=fe(),l=u=>{let m;i?(m=e.map(p=>p.id===i.id?{...p,...u}:p),a({title:"Item Updated",description:`${u.itemName} updated.`})):(m=[...e,u],a({title:"Item Added",description:`${u.itemName} added to inventory.`})),t(m),s(!1),o(null)},c=u=>{o(u),s(!0)},d=u=>{window.confirm("Are you sure you want to delete this inventory item?")&&(t(m=>m.filter(p=>p.id!==u)),a({title:"Item Deleted",variant:"destructive"}))},h=e.filter(u=>parseFloat(u.quantity)<parseFloat(u.minStockLevel));return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-teal-500 mb-8",children:[r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-teal-600 flex items-center",children:[r.jsx(uo,{className:"mr-2 h-6 w-6"}),"Real-Time Inventory Dashboard"]}),r.jsx(pe,{children:"Manage stock levels, track items with QR/Barcodes, and get re-order suggestions."})]}),r.jsxs(O,{onClick:()=>{o(null),s(!0)},className:"mt-4 md:mt-0 bg-teal-500 hover:bg-teal-600 text-white",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New Item"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Simplified View:"}),r.jsx("p",{className:"text-sm",children:"This dashboard shows a basic list. Advanced features like QR/Barcode scanning, site-wise consumption reports, and material request workflows will be implemented progressively."})]})]})})]}),h.length>0&&r.jsxs(B,{className:"mb-6 bg-red-50 border-red-200",children:[r.jsx(G,{children:r.jsxs(z,{className:"text-red-700 flex items-center",children:[r.jsx(lo,{className:"mr-2 h-5 w-5"}),"Low Stock Alerts (",h.length,")"]})}),r.jsxs(Q,{children:[r.jsx("ul",{className:"list-disc list-inside text-sm text-red-600",children:h.map(u=>{var m;return r.jsxs("li",{children:[u.itemName," (",u.quantity," ",u.unit,") - Min. Stock: ",u.minStockLevel," ",u.unit," at ",(m=Od.find(p=>p.id===u.siteId))==null?void 0:m.name]},u.id)})}),r.jsx(O,{size:"sm",variant:"outline",className:"mt-3 border-red-500 text-red-500 hover:bg-red-100",children:"Generate Re-order List (Placeholder)"})]})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(Rr,{className:"mr-2 h-5 w-5"}),"Current Inventory (",e.length," items)"]})}),r.jsx(Q,{children:e.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-6",children:"No items in inventory. Add items to get started."}):r.jsx("div",{className:"space-y-2",children:e.map(u=>{var m;return r.jsx(B,{className:"p-3 shadow-sm",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold",children:[u.itemName," ",r.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",u.category,")"]})]}),r.jsxs("p",{className:"text-sm",children:["Qty: ",u.quantity," ",u.unit," (Min: ",u.minStockLevel,")"]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Site: ",(m=Od.find(p=>p.id===u.siteId))==null?void 0:m.name," | QR: ",u.qrBarcode]})]}),r.jsxs("div",{className:"space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>c(u),title:"Edit Item",children:r.jsx(Ts,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>d(u.id),title:"Delete Item",children:r.jsx(eA,{className:"h-4 w-4 text-destructive"})}),r.jsx(O,{variant:"ghost",size:"icon",title:"Log Usage/Transfer (Placeholder)",children:r.jsx(tA,{className:"h-4 w-4 text-blue-500"})})]})]})},u.id)})})})]}),r.jsx(tt,{open:n,onOpenChange:u=>{u||o(null),s(u)},children:r.jsxs(Ke,{className:"sm:max-w-lg",children:[r.jsx(Xe,{children:r.jsx(Je,{children:i?"Edit Inventory Item":"Add New Inventory Item"})}),r.jsx(QB,{onSubmit:l,initialData:i||{},onCancel:()=>{s(!1),o(null)}})]})})]})},lj=["Purchase Order (PO)","Invoice","Delivery Note","Material Request"],cj=["Supplier A Hardware","Supplier B Materials","Supplier C Equipment"],YB=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState({logType:t.logType||lj[0],documentId:t.documentId||"",supplier:t.supplier||cj[0],date:t.date?new Date(t.date):new Date,amount:t.amount||"",status:t.status||"Pending",relatedProject:t.relatedProject||"",notes:t.notes||""}),{toast:o}=fe(),a=(c,d)=>{i(h=>({...h,[c]:d}))},l=c=>{if(c.preventDefault(),!s.documentId||!s.supplier){o({variant:"destructive",title:"Missing Fields",description:"Document ID and Supplier are required."});return}e({...s,id:t.id||`PROC-${Date.now()}`})};return r.jsxs("form",{onSubmit:l,className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"logType",children:"Log Type"}),r.jsxs(te,{value:s.logType,onValueChange:c=>a("logType",c),children:[r.jsx(Z,{children:r.jsx(ne,{})}),r.jsx(ee,{children:lj.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"documentId",children:"Document ID (PO#, Invoice#)"}),r.jsx($,{id:"documentId",value:s.documentId,onChange:c=>a("documentId",c.target.value)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"supplier",children:"Supplier"}),r.jsxs(te,{value:s.supplier,onValueChange:c=>a("supplier",c),children:[r.jsx(Z,{children:r.jsx(ne,{})}),r.jsx(ee,{children:cj.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"date",children:"Date"}),r.jsx(ke,{date:s.date,setDate:c=>a("date",c)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"amount",children:"Amount (Optional)"}),r.jsx($,{id:"amount",type:"number",value:s.amount,onChange:c=>a("amount",c.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"status",children:"Status"}),r.jsxs(te,{value:s.status,onValueChange:c=>a("status",c),children:[r.jsx(Z,{children:r.jsx(ne,{})}),r.jsxs(ee,{children:[r.jsx(_,{value:"Pending",children:"Pending"}),r.jsx(_,{value:"Approved",children:"Approved"}),r.jsx(_,{value:"Ordered",children:"Ordered"}),r.jsx(_,{value:"Delivered",children:"Delivered"}),r.jsx(_,{value:"Paid",children:"Paid"}),r.jsx(_,{value:"Cancelled",children:"Cancelled"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"relatedProject",children:"Related Project ID (Optional)"}),r.jsx($,{id:"relatedProject",value:s.relatedProject,onChange:c=>a("relatedProject",c.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"notes",children:"Notes"}),r.jsx($,{id:"notes",value:s.notes,onChange:c=>a("notes",c.target.value)})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Log":"Add Log Entry"})]})]})},KB=()=>{const[e,t]=je("procurementLogs",[]),[n,s]=f.useState(!1),[i,o]=f.useState(null),{toast:a}=fe(),l=d=>{let h;i?(h=e.map(u=>u.id===i.id?{...u,...d}:u),a({title:"Log Updated",description:`${d.logType} entry updated.`})):(h=[...e,d],a({title:"Log Added",description:`${d.logType} entry added.`})),t(h),s(!1),o(null)},c=d=>{o(d),s(!0)};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-cyan-500 mb-8",children:[r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-cyan-600 flex items-center",children:[r.jsx(hr,{className:"mr-2 h-6 w-6"}),"Procurement Log"]}),r.jsx(pe,{children:"Track Purchase Orders (PO), Invoices, and Delivery Notes."})]}),r.jsxs(O,{onClick:()=>{o(null),s(!0)},className:"mt-4 md:mt-0 bg-cyan-500 hover:bg-cyan-600 text-white",children:[r.jsx(hA,{className:"mr-2 h-4 w-4"}),"Add New Log Entry"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Simplified View:"}),r.jsx("p",{className:"text-sm",children:"This page provides a basic list of procurement logs. Full workflow integration and approval processes will be added later."})]})]})})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(vA,{className:"mr-2 h-5 w-5"}),"Logged Entries (",e.length,")"]})}),r.jsx(Q,{children:e.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-6",children:"No procurement logs recorded yet."}):r.jsx("div",{className:"space-y-2",children:e.sort((d,h)=>new Date(h.date)-new Date(d.date)).map(d=>r.jsxs(B,{className:"p-3 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold",children:[d.logType,": ",d.documentId," ",r.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["(",d.supplier,")"]})]}),r.jsxs("p",{className:"text-sm",children:["Date: ",new Date(d.date).toLocaleDateString()," | Status: ",r.jsx("span",{className:`font-medium ${d.status==="Paid"||d.status==="Delivered"?"text-green-600":d.status==="Cancelled"?"text-red-600":"text-yellow-600"}`,children:d.status})]}),d.amount&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Amount: ",d.amount]}),d.relatedProject&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Project: ",d.relatedProject]})]}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>c(d),title:"Edit Log",children:r.jsx(Ts,{className:"h-4 w-4"})})]}),d.notes&&r.jsxs("p",{className:"text-xs italic mt-1 text-gray-600",children:["Notes: ",d.notes]})]},d.id))})})]}),r.jsx(tt,{open:n,onOpenChange:d=>{d||o(null),s(d)},children:r.jsxs(Ke,{className:"sm:max-w-md",children:[r.jsx(Xe,{children:r.jsx(Je,{children:i?"Edit Procurement Log":"Add New Procurement Log Entry"})}),r.jsx(YB,{onSubmit:l,initialData:i||{},onCancel:()=>{s(!1),o(null)}})]})})]})},tm=()=>{const e=[{title:"Contractor Management",description:"Register, view, and manage contractors & consultants.",link:"/stakeholder-contractor-registration",icon:yt,buttonText:"Manage Contractors"},{title:"Supplier Portal",description:"Access supplier catalogues, delivery logs, and invoices.",link:"/stakeholder-supplier-portal",icon:gA,buttonText:"Access Supplier Portal"},{title:"Investor/Funding Partner View",description:"View financial dashboards, project ROI, and performance KPIs.",link:"/dashboard-finance",icon:Qe,buttonText:"View Investor Dashboard"}];return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-lime-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-lime-600 flex items-center",children:[r.jsx(Ot,{className:"mr-2 h-6 w-6"}),"Stakeholder & Vendor System"]}),r.jsx(pe,{children:"Centralized hub for managing contractors, consultants, suppliers, and investor relations."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Placeholder Content:"}),r.jsx("p",{className:"text-sm",children:"The linked pages are placeholders and will be developed with specific functionalities."})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,n)=>r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1+.2},children:r.jsxs(B,{className:"shadow-lg hover:shadow-xl transition-shadow h-full flex flex-col",children:[r.jsxs(G,{className:"flex-grow-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(t.icon,{className:"h-8 w-8 text-lime-600"}),r.jsx(z,{className:"text-xl",children:t.title})]}),r.jsx(pe,{className:"text-sm",children:t.description})]}),r.jsx(Q,{className:"flex-grow"}),r.jsx(ct,{children:r.jsx(O,{asChild:!0,className:"w-full bg-lime-600 hover:bg-lime-700 text-white",children:r.jsx($e,{to:t.link,children:t.buttonText})})})]})},n))})]})},XB=["General Contractor","Civil Works","MEP Contractor","Finishing Works","Specialized Consultant","Supplier"],dj=["Saudi Arabian","Indian","Pakistani","Filipino","Egyptian","Bangladeshi","Emirati","American","British","Other"],JB=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState({companyName:t.companyName||"",businessLicense:t.businessLicense||"",nationality:t.nationality||dj[0],categories:t.categories||[],contactPerson:t.contactPerson||"",email:t.email||"",phone:t.phone||"",address:t.address||"",previousProjects:t.previousProjects||"",rating:t.rating||"",documents:t.documents||[]}),{toast:o}=fe(),a=(u,m)=>{i(p=>({...p,[u]:m}))},l=(u,m)=>{i(p=>{const v=p[u]||[];return v.includes(m)?{...p,[u]:v.filter(g=>g!==m)}:{...p,[u]:[...v,m]}})},c=u=>{const p=Array.from(u.target.files).map(v=>({name:v.name,file:v,id:`DOC-${Date.now()}-${Math.random().toString(36).substr(2,5)}`}));i(v=>({...v,documents:[...v.documents||[],...p]})),u.target.value=null},d=u=>{i(m=>({...m,documents:m.documents.filter(p=>p.id!==u)}))},h=u=>{if(u.preventDefault(),!s.companyName||!s.businessLicense||s.categories.length===0){o({variant:"destructive",title:"Missing Fields",description:"Company Name, Business License, and at least one Category are required."});return}const m=s.documents.map(p=>({name:p.name,id:p.id}));e({...s,id:t.id||`CONTR-${Date.now()}`,documents:m})};return r.jsxs("form",{onSubmit:h,className:"space-y-3 max-h-[75vh] overflow-y-auto p-1 custom-scrollbar",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"companyName",children:"Company Name*"}),r.jsx($,{id:"companyName",value:s.companyName,onChange:u=>a("companyName",u.target.value),required:!0})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"businessLicense",children:"Business License No.*"}),r.jsx($,{id:"businessLicense",value:s.businessLicense,onChange:u=>a("businessLicense",u.target.value),required:!0})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"nationality",children:"Company Nationality/Origin*"}),r.jsxs(te,{value:s.nationality,onValueChange:u=>a("nationality",u),required:!0,children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Select Nationality"})}),r.jsx(ee,{children:dj.map(u=>r.jsx(_,{value:u,children:u},u))})]})]}),r.jsxs("div",{children:[r.jsx(E,{children:"Categories (Select all applicable)*"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 p-2 border rounded-md max-h-40 overflow-y-auto",children:XB.map(u=>r.jsx(O,{type:"button",variant:s.categories.includes(u)?"default":"outline",size:"sm",onClick:()=>l("categories",u),className:"text-xs justify-start",children:u},u))})]}),r.jsx("h4",{className:"text-sm font-medium pt-2 border-t",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"contactPerson",children:"Contact Person"}),r.jsx($,{id:"contactPerson",value:s.contactPerson,onChange:u=>a("contactPerson",u.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"email",children:"Email"}),r.jsx($,{id:"email",type:"email",value:s.email,onChange:u=>a("email",u.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"phone",children:"Phone"}),r.jsx($,{id:"phone",type:"tel",value:s.phone,onChange:u=>a("phone",u.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"address",children:"Address"}),r.jsx($,{id:"address",value:s.address,onChange:u=>a("address",u.target.value)})]})]}),r.jsx("h4",{className:"text-sm font-medium pt-2 border-t",children:"Additional Details"}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"previousProjects",children:"Previous Projects (Summary)"}),r.jsx(we,{id:"previousProjects",value:s.previousProjects,onChange:u=>a("previousProjects",u.target.value),placeholder:"List key projects or experience"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"rating",children:"Internal Rating (Optional)"}),r.jsxs(te,{value:s.rating,onValueChange:u=>a("rating",u),children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Select Rating"})}),r.jsxs(ee,{children:[r.jsx(_,{value:"5",children:"5 - Excellent"}),r.jsx(_,{value:"4",children:"4 - Good"}),r.jsx(_,{value:"3",children:"3 - Average"}),r.jsx(_,{value:"2",children:"2 - Fair"}),r.jsx(_,{value:"1",children:"1 - Poor"})]})]})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"documents",className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),"Upload Documents (e.g., Profile, Licenses)"]}),r.jsx($,{id:"documents",type:"file",multiple:!0,onChange:c,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),s.documents&&s.documents.length>0&&r.jsx("div",{className:"mt-2 space-y-1",children:s.documents.map(u=>r.jsxs("div",{className:"flex items-center justify-between p-1.5 bg-muted/50 rounded-md text-xs",children:[r.jsx("span",{className:"truncate",title:u.name,children:u.name}),r.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>d(u.id),className:"h-6 w-6",children:r.jsx(Re,{className:"h-3 w-3 text-destructive"})})]},u.id))})]}),r.jsxs(wt,{className:"pt-4",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Contractor":"Register Contractor"})]})]})},ZB=({contractors:e,onEdit:t,onDelete:n})=>!e||e.length===0?r.jsx(B,{className:"mt-8",children:r.jsx(Q,{className:"pt-6",children:r.jsx("p",{className:"text-muted-foreground text-center",children:"No contractors or consultants registered yet."})})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:e.map(s=>r.jsxs(B,{className:"shadow-lg hover:shadow-xl transition-shadow flex flex-col",children:[r.jsxs(G,{children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs(z,{className:"text-lg font-semibold text-primary flex items-center",children:[r.jsx(yt,{className:"mr-2 h-5 w-5"}),s.companyName]}),s.rating&&r.jsxs("div",{className:"flex items-center text-sm text-yellow-500",children:[r.jsx(fb,{className:"h-4 w-4 mr-1 fill-current"})," ",s.rating,"/5"]})]}),r.jsx(pe,{className:"text-xs text-muted-foreground",children:s.businessLicense})]}),r.jsxs(Q,{className:"space-y-2 text-sm flex-grow",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Categories:"})," ",s.categories.join(", ")]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Contact:"})," ",s.contactPerson||"N/A"," (",s.email||"N/A",")"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Nationality:"})," ",s.nationality]}),s.documents&&s.documents.length>0&&r.jsxs("div",{className:"pt-1",children:[r.jsxs("p",{className:"font-medium text-xs flex items-center",children:[r.jsx(st,{className:"h-3 w-3 mr-1"}),"Documents:"]}),r.jsx("ul",{className:"list-disc list-inside pl-2 text-xs",children:s.documents.map(i=>r.jsx("li",{className:"truncate",title:i.name,children:i.name},i.id))})]})]}),r.jsxs(ct,{className:"flex justify-end space-x-2 border-t pt-4",children:[r.jsxs(O,{variant:"outline",size:"sm",onClick:()=>t(s),children:[r.jsx(Ts,{className:"mr-1 h-3 w-3"})," Edit"]}),r.jsxs(O,{variant:"destructive",size:"sm",onClick:()=>n(s.id),children:[r.jsx(Re,{className:"mr-1 h-3 w-3"})," Delete"]})]})]},s.id))}),eU=()=>{const[e,t]=je("contractors",[]),[n,s]=f.useState(!1),[i,o]=f.useState(null),{toast:a}=fe();Pt();const l=h=>{let u;i?(u=e.map(m=>m.id===i.id?{...m,...h}:m),a({title:"Contractor Updated",description:`${h.companyName} details updated.`})):(u=[...e,h],a({title:"Contractor Registered",description:`${h.companyName} has been registered.`})),t(u),s(!1),o(null)},c=h=>{o(h),s(!0)},d=h=>{window.confirm("Are you sure you want to delete this contractor? This action cannot be undone.")&&(t(u=>u.filter(m=>m.id!==h)),a({title:"Contractor Deleted",variant:"destructive"}))};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-sky-500 mb-8",children:[r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-sky-600 flex items-center",children:[r.jsx(yt,{className:"mr-2 h-6 w-6"}),"Contractor & Consultant Management"]}),r.jsx(pe,{children:"Register new contractors/consultants or manage existing ones."})]}),r.jsxs(O,{onClick:()=>{o(null),s(!0)},className:"mt-4 md:mt-0 bg-sky-500 hover:bg-sky-600 text-white",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Register New Contractor"]})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Document Handling:"}),r.jsx("p",{className:"text-sm",children:"File uploads are simulated. In a production environment, files would be uploaded to secure cloud storage."})]})]})})]}),r.jsx(ZB,{contractors:e,onEdit:c,onDelete:d}),r.jsx(tt,{open:n,onOpenChange:h=>{h||o(null),s(h)},children:r.jsxs(Ke,{className:"sm:max-w-2xl",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:i?"Edit Contractor/Consultant":"Register New Contractor/Consultant"}),r.jsx(ut,{children:"Fill in the details below. All fields marked with * are required."})]}),r.jsx(JB,{onSubmit:l,initialData:i||{},onCancel:()=>{s(!1),o(null)}})]})})]})},tU=()=>r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-green-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-green-600 flex items-center",children:[r.jsx(ld,{className:"mr-2 h-6 w-6"}),"Supplier Portal"]}),r.jsx(pe,{children:"Access supplier catalogues, material specifications, delivery logs, feedback, and invoices."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Under Development:"}),r.jsx("p",{className:"text-sm",children:"This portal is currently a placeholder. Full functionality for supplier interaction will be implemented soon."})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(B,{className:"shadow-md",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(Rr,{className:"h-5 w-5 text-green-600"}),r.jsx(z,{className:"text-lg",children:"Material Catalogues"})]}),r.jsx(Q,{children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and search material specifications. (Placeholder)"})})]}),r.jsxs(B,{className:"shadow-md",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(st,{className:"h-5 w-5 text-green-600"}),r.jsx(z,{className:"text-lg",children:"Delivery Logs & Invoices"})]}),r.jsx(Q,{children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Track deliveries and manage invoices. (Placeholder)"})})]}),r.jsxs(B,{className:"shadow-md",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(ld,{className:"h-5 w-5 text-green-600"}),r.jsx(z,{className:"text-lg",children:"Submit Feedback"})]}),r.jsx(Q,{children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide feedback on materials and services. (Placeholder)"})})]})]})]}),nU=(e,t,n,s=1200)=>new Promise((i,o)=>{e&&typeof e=="function"?e({title:`AI Processing: ${t}`,description:"Simulating AI model response...",className:"bg-sky-500 text-white"}):e&&typeof e.toast=="function"&&e.toast({title:`AI Processing: ${t}`,description:"Simulating AI model response...",className:"bg-sky-500 text-white"}),setTimeout(()=>{n?i(n):o(new Error(`Mock API call failed for ${t}: No data provided`))},s)}),Wr=["First Part (Party A)","Second Part (Party B)","Party C","Party D","Other Party"],wr="__manual__",rU=({parties:e,setParties:t,stakeholdersList:n})=>{const s=()=>{let d=Wr[0];if(e.length>0){const h=Wr.indexOf(e[e.length-1].role);d=Wr[h+1]||Wr[Wr.length-1]}t([...e,{id:`party-${Date.now()}`,role:d,stakeholderId:wr,manualName:"",representative:"",witnessDetails:""}])},i=(d,h,u)=>{const m=[...e];m[d][h]=u,h==="stakeholderId"&&u!==wr?m[d].manualName="":h==="manualName"&&u!==""&&(m[d].stakeholderId=wr),t(m)},o=d=>{t(e.filter((h,u)=>u!==d))},a=(d,h)=>r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"text-sm font-semibold mb-2 text-indigo-600 flex items-center",children:[r.jsx(xA,{className:"mr-2 h-4 w-4"}),d]}),h.map((u,m)=>r.jsxs("div",{className:"p-3 border rounded-md bg-white space-y-2 relative mb-3 shadow-sm",children:[r.jsx(O,{type:"button",variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>o(e.findIndex(p=>p.id===u.id)),children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:`partyRole-${u.id}`,children:"Role in Agreement"}),r.jsxs(te,{value:u.role,onValueChange:p=>i(e.findIndex(v=>v.id===u.id),"role",p),children:[r.jsx(Z,{id:`partyRole-${u.id}`,children:r.jsx(ne,{placeholder:"Select Role"})}),r.jsx(ee,{children:Wr.map(p=>r.jsx(_,{value:p,children:p},p))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`partyStakeholder-${u.id}`,children:"Select Stakeholder (from Directory)"}),r.jsxs(te,{value:u.stakeholderId,onValueChange:p=>i(e.findIndex(v=>v.id===u.id),"stakeholderId",p),disabled:!!u.manualName&&u.stakeholderId!==wr,children:[r.jsx(Z,{id:`partyStakeholder-${u.id}`,children:r.jsx(ne,{placeholder:"Select from directory"})}),r.jsxs(ee,{children:[r.jsx(_,{value:wr,children:"None (Enter Manually)"}),n.map(p=>r.jsxs(_,{value:p.id,children:[p.name," (",p.type,")"]},p.id))]})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`partyManualName-${u.id}`,children:"OR Enter Party Name Manually"}),r.jsx($,{id:`partyManualName-${u.id}`,value:u.manualName,onChange:p=>i(e.findIndex(v=>v.id===u.id),"manualName",p.target.value),placeholder:"e.g., XYZ Corp Ltd., represented by...",disabled:u.stakeholderId!==wr})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:`partyRepresentative-${u.id}`,children:"Through its Representative (Optional)"}),r.jsx($,{id:`partyRepresentative-${u.id}`,value:u.representative,onChange:p=>i(e.findIndex(v=>v.id===u.id),"representative",p.target.value),placeholder:"e.g., Mr. John Doe, Director"})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:`partyWitness-${u.id}`,className:"flex items-center",children:[r.jsx(oi,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Witness Details (Optional)"]}),r.jsx(we,{id:`partyWitness-${u.id}`,value:u.witnessDetails,onChange:p=>i(e.findIndex(v=>v.id===u.id),"witnessDetails",p.target.value),placeholder:"e.g., Witnessed by: Name, Address",rows:2})]})]},u.id))]}),l=e.filter(d=>d.role===Wr[0]),c=e.filter(d=>d.role!==Wr[0]);return r.jsxs("div",{className:"space-y-4 p-3 border rounded-md bg-slate-50/70 shadow-inner",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs(E,{className:"text-base font-semibold flex items-center",children:[r.jsx(Ot,{className:"mr-2 h-5 w-5 text-primary"}),"Parties Involved*"]}),r.jsxs(O,{type:"button",size:"sm",onClick:s,className:"bg-indigo-500 hover:bg-indigo-600",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Party"]})]}),a("BETWEEN (First Part)",l),c.length>0&&a("AND (Second & Subsequent Parts)",c),e.length===0&&r.jsx("p",{className:"text-xs text-muted-foreground p-2 text-center",children:'Please add at least one party (typically a "First Part" and a "Second Part").'})]})},Zn=({title:e,icon:t,children:n,defaultOpen:s=!1})=>{const[i,o]=f.useState(s);return r.jsxs("div",{className:"border rounded-md",children:[r.jsxs("button",{type:"button",onClick:()=>o(!i),className:"flex items-center justify-between w-full p-3 bg-slate-50 hover:bg-slate-100 rounded-t-md",children:[r.jsxs("div",{className:"flex items-center",children:[t&&r.jsx(t,{className:"h-5 w-5 mr-2 text-primary"}),r.jsx("span",{className:"font-medium text-sm",children:e})]}),i?r.jsx(sb,{className:"h-5 w-5 text-muted-foreground"}):r.jsx(Zp,{className:"h-5 w-5 text-muted-foreground"})]}),i&&r.jsx("div",{className:"p-4 border-t space-y-3 bg-white",children:n})]})},sU=({preamble:e,setPreamble:t})=>r.jsx(Zn,{title:"Preamble / Recitals / Purpose",icon:nA,children:r.jsx(we,{value:e,onChange:n=>t(n.target.value),placeholder:"Enter the 'WHEREAS...' clauses, background, and overall purpose of the agreement.",rows:5})}),iU=({obligationsBreachRemedies:e,setObligationsBreachRemedies:t})=>r.jsx(Zn,{title:"Key Obligations, Breach & Remedies",icon:be,children:r.jsx(we,{value:e,onChange:n=>t(n.target.value),placeholder:"Detail main obligations of parties, conditions constituting a breach, default clauses, and remedies available (e.g., based on Clause 14 of JV example).",rows:5})}),oU=({externalDocumentLinks:e,setExternalDocumentLinks:t})=>{const n=()=>{t([...e,{id:`link-${Date.now()}`,title:"",url:""}])},s=(o,a,l)=>{const c=[...e];c[o][a]=l,t(c)},i=o=>{t(e.filter((a,l)=>l!==o))};return r.jsxs(r.Fragment,{children:[r.jsxs(O,{type:"button",size:"sm",onClick:n,className:"mb-2",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add External Link"]}),e.map((o,a)=>r.jsxs("div",{className:"flex items-center space-x-2 mb-2 p-2 border rounded-md",children:[r.jsx($,{value:o.title,onChange:l=>s(a,"title",l.target.value),placeholder:"Link Title (e.g., Master Plan)",className:"flex-grow"}),r.jsx($,{value:o.url,onChange:l=>s(a,"url",l.target.value),placeholder:"https://example.com/document.pdf",className:"flex-grow"}),r.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(a),children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]},o.id)),e.length===0&&r.jsx("p",{className:"text-xs text-muted-foreground",children:"No external links added."})]})},aU=({firstPartSignatory:e,setFirstPartSignatory:t,secondPartSignatory:n,setSecondPartSignatory:s})=>r.jsx(Zn,{title:"Signatures & Execution Details",icon:ub,children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstPartSignatory",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Part Signatory Details"}),r.jsx(we,{id:"firstPartSignatory",value:e,onChange:i=>t(i.target.value),placeholder:"e.g., SIGNED AND DELIVERED by the Party of the FIRST PART: M/s [Company Name] Through its Director MR. [Name]",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"secondPartSignatory",className:"block text-sm font-medium text-gray-700 mb-1",children:"Second Part (and Subsequent) Signatory Details"}),r.jsx(we,{id:"secondPartSignatory",value:n,onChange:i=>s(i.target.value),placeholder:"e.g., SIGNED AND DELIVERED by the Party of the SECOND PART: M/s [Company Name] Through its Director MR. [Name]",rows:3})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Record details about how the agreement was signed. If the physical document is uploaded, this can be supplementary."})]})}),lU=({paymentTerms:e,setPaymentTerms:t,nonCompeteClause:n,setNonCompeteClause:s,ipRights:i,setIpRights:o,terminationConditions:a,setTerminationConditions:l,disputeJurisdiction:c,setDisputeJurisdiction:d,appendixFile:h,setAppendixFile:u,appendixFileName:m,setAppendixFileName:p,externalDocumentLinks:v,setExternalDocumentLinks:g,firstPartSignatory:w,setFirstPartSignatory:j,secondPartSignatory:y,setSecondPartSignatory:x,handleFileChange:b})=>r.jsxs("div",{className:"space-y-3 pt-2",children:[r.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Standard Optional Clauses & Details:"}),r.jsx(Zn,{title:"Payment Terms",icon:Qe,children:r.jsx(we,{value:e,onChange:N=>t(N.target.value),placeholder:"Describe payment schedules, amounts, methods...",rows:3})}),r.jsx(Zn,{title:"Non-Compete Clause",icon:MA,children:r.jsx(we,{value:n,onChange:N=>s(N.target.value),placeholder:"Specify non-compete conditions, duration, scope...",rows:3})}),r.jsx(Zn,{title:"IP Rights",icon:PA,children:r.jsx(we,{value:i,onChange:N=>o(N.target.value),placeholder:"Outline intellectual property ownership and rights...",rows:3})}),r.jsx(Zn,{title:"Termination Conditions",icon:rA,children:r.jsx(we,{value:a,onChange:N=>l(N.target.value),placeholder:"Detail conditions under which the agreement can be terminated...",rows:3})}),r.jsx(Zn,{title:"Dispute Jurisdiction",icon:ii,children:r.jsx($,{value:c,onChange:N=>d(N.target.value),placeholder:"e.g., Courts of London, UK"})}),r.jsxs(Zn,{title:"Appendix / Reference Documents (Upload)",icon:st,children:[r.jsxs(E,{htmlFor:"appendixFile-form",className:"flex items-center text-xs",children:[r.jsx(tn,{className:"mr-2 h-3 w-3"}),"Upload Appendix (PDF/DOCX, Max 10MB)"]}),r.jsx($,{id:"appendixFile-form",type:"file",onChange:N=>b(N,u,p),accept:".pdf,.doc,.docx"}),m&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Current appendix: ",m]})]}),r.jsx(Zn,{title:"External Document Links",icon:db,children:r.jsx(oU,{externalDocumentLinks:v,setExternalDocumentLinks:g})}),r.jsx(aU,{firstPartSignatory:w,setFirstPartSignatory:j,secondPartSignatory:y,setSecondPartSignatory:x})]}),cU=({agreementTitle:e,onTitleChange:t,agreementType:n,onAgreementTypeChange:s,agreementTypes:i,stakeholderCategoryAggr:o,onStakeholderCategoryChange:a,stakeholderCategories:l})=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"agreementTitle-form",children:"Agreement Title*"}),r.jsx($,{id:"agreementTitle-form",value:e,onChange:c=>t(c.target.value),placeholder:"e.g., Joint Venture for Project Omega"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"agreementType-form",children:"Agreement Type*"}),r.jsxs(te,{value:n,onValueChange:s,children:[r.jsx(Z,{id:"agreementType-form",children:r.jsx(ne,{placeholder:"Select Type"})}),r.jsx(ee,{children:i.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"stakeholderCategoryAggr-form",children:"Overall Agreement Category*"}),r.jsxs(te,{value:o,onValueChange:a,children:[r.jsx(Z,{id:"stakeholderCategoryAggr-form",children:r.jsx(ne,{placeholder:"Select Category"})}),r.jsx(ee,{children:l.map(c=>r.jsx(_,{value:c,children:c},c))})]})]})]})]}),dU=({agreementDate:e,onAgreementDateChange:t,placeOfAgreement:n,onPlaceOfAgreementChange:s,effectiveDate:i,onEffectiveDateChange:o,expiryDate:a,onExpiryDateChange:l})=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"agreementDate-form",className:"flex items-center",children:[r.jsx(sA,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Agreement Date*"]}),r.jsx(ke,{id:"agreementDate-form",date:e,setDate:t,className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"placeOfAgreement-form",className:"flex items-center",children:[r.jsx(ii,{className:"mr-2 h-4 w-4 text-muted-foreground"}),"Place of Agreement*"]}),r.jsx($,{id:"placeOfAgreement-form",value:n,onChange:c=>s(c.target.value),placeholder:"e.g., Mumbai, India"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"effectiveDate-form",children:"Effective Date*"}),r.jsx(ke,{id:"effectiveDate-form",date:i,setDate:o,className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"expiryDate-form",children:"Expiry Date"}),r.jsx(ke,{id:"expiryDate-form",date:a,setDate:l,className:"w-full"})]})]})]}),uU=({documentFileName:e,onDocumentFileChange:t})=>r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"documentFile-form",className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),"Upload Signed Agreement (PDF/DOCX, Max 10MB)"]}),r.jsx($,{id:"documentFile-form",type:"file",onChange:t,accept:".pdf,.doc,.docx"}),e&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Current file: ",e]})]}),hU=({status:e,onStatusChange:t,agreementStatuses:n,confidentialityLevel:s,onConfidentialityLevelChange:i,confidentialityLevels:o,autoReminders:a,onAutoRemindersChange:l})=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"status-form",children:"Status*"}),r.jsxs(te,{value:e,onValueChange:t,children:[r.jsx(Z,{id:"status-form",children:r.jsx(ne,{placeholder:"Select Status"})}),r.jsx(ee,{children:n.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"confidentialityLevel-form",children:"Confidentiality Level"}),r.jsxs(te,{value:s,onValueChange:i,children:[r.jsx(Z,{id:"confidentialityLevel-form",children:r.jsx(ne,{placeholder:"Select Level"})}),r.jsx(ee,{children:o.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-2 md:pt-6 col-span-1 md:col-span-2",children:[" ",r.jsx(RP,{id:"autoReminders-form",checked:a,onCheckedChange:l}),r.jsx(E,{htmlFor:"autoReminders-form",className:"font-normal",children:"Set Auto Reminders before expiry"})]})]}),nm=["MOU","NCNDA","General Agreement","JV Agreement","NDA","Supply Contract","Service Agreement","Partnership Agreement","Subcontractor Agreement","Master Subcontractor Agreement","Other"],rm=["Partner","Investor","Contractor","Master Contractor","Master Subcontractor","Subcontractor","Government Entity","Supplier","Consultant","Client","Multiple"],sm=["Public","Internal","Confidential"],im=["Draft","Signed","Under Review","Active","Expired","Terminated"],uj=["First Part (Party A)","Second Part (Party B)","Party C","Party D","Other Party"],mU=({onSubmit:e,initialData:t={},onCancel:n,stakeholdersList:s=[],isAiMode:i=!1})=>{const[o,a]=f.useState({agreementTitle:"",agreementType:nm[0],agreementDate:null,placeOfAgreement:"",stakeholderCategoryAggr:rm[0],parties:[{id:`party-${Date.now()}`,role:uj[0],stakeholderId:wr,manualName:"",representative:"",witnessDetails:""}],effectiveDate:null,expiryDate:null,summary:"",documentFileName:"",confidentialityLevel:sm[1],autoReminders:!1,status:im[0],preamble:"",obligationsBreachRemedies:"",externalDocumentLinks:[],paymentTerms:"",nonCompeteClause:"",ipRights:"",terminationConditions:"",disputeJurisdiction:"",appendixFileName:"",firstPartSignatory:"",secondPartSignatory:""}),[l,c]=f.useState(null),[d,h]=f.useState(null),[u,m]=f.useState(!1),{toast:p}=fe();f.useEffect(()=>{a({agreementTitle:t.agreementTitle||"",agreementType:t.agreementType||nm[0],agreementDate:t.agreementDate?new Date(t.agreementDate):null,placeOfAgreement:t.placeOfAgreement||"",stakeholderCategoryAggr:t.stakeholderCategoryAggr||rm[0],parties:t.parties||[{id:`party-${Date.now()}`,role:uj[0],stakeholderId:wr,manualName:"",representative:"",witnessDetails:""}],effectiveDate:t.effectiveDate?new Date(t.effectiveDate):null,expiryDate:t.expiryDate?new Date(t.expiryDate):null,summary:t.summary||"",documentFileName:t.documentFileName||"",confidentialityLevel:t.confidentialityLevel||sm[1],autoReminders:t.autoReminders||!1,status:t.status||im[0],preamble:t.preamble||"",obligationsBreachRemedies:t.obligationsBreachRemedies||"",externalDocumentLinks:t.externalDocumentLinks||[],paymentTerms:t.paymentTerms||"",nonCompeteClause:t.nonCompeteClause||"",ipRights:t.ipRights||"",terminationConditions:t.terminationConditions||"",disputeJurisdiction:t.disputeJurisdiction||"",appendixFileName:t.appendixFileName||"",firstPartSignatory:t.firstPartSignatory||"",secondPartSignatory:t.secondPartSignatory||""}),c(null),h(null)},[t]);const v=(b,N)=>{a(M=>({...M,[b]:N}))},g=b=>{a(N=>({...N,parties:b}))},w=(b,N)=>{v(b,N)},j=(b,N,M)=>{if(b.target.files&&b.target.files[0]){const S=b.target.files[0];if(S.size>10*1024*1024){p({variant:"destructive",title:"File too large",description:"Maximum file size is 10MB."});return}N&&N(S),v(M,S.name)}},y=async()=>{m(!0);try{const b=await nU(p,`Agreement Content (${o.agreementType})`,{summary:`This is an AI-generated summary for a ${o.agreementType} concerning ${o.agreementTitle||"the specified project/matter"}. It outlines key objectives and involved parties.`,preamble:`WHEREAS, the parties are desirous of entering into a ${o.agreementType} for the purpose of [AI: Insert primary purpose based on title/type: e.g., 'collaborating on Project Alpha', 'ensuring confidentiality of shared information'].
WHEREAS, Party A ([AI: Specify Party A from form]) and Party B ([AI: Specify Party B from form]) have agreed to the terms herein.`,obligationsBreachRemedies:`1. Each party shall diligently perform its obligations as set forth.
2. A breach of this ${o.agreementType} includes failure to meet key deliverables or confidentiality terms.
3. Remedies for breach may include termination or legal action as per the dispute resolution clause.`});v("summary",`${o.summary?o.summary+`

`:""}AI Generated: ${b.summary}`),v("preamble",`${o.preamble?o.preamble+`

`:""}AI Generated: ${b.preamble}`),v("obligationsBreachRemedies",`${o.obligationsBreachRemedies?o.obligationsBreachRemedies+`

`:""}AI Generated: ${b.obligationsBreachRemedies}`),p({title:"AI Content Generated",description:"Review and refine the AI-generated text."})}catch(b){p({variant:"destructive",title:"AI Generation Failed",description:b.message})}finally{m(!1)}},x=b=>{if(b.preventDefault(),!o.agreementTitle||!o.agreementType||o.parties.length===0||!o.effectiveDate||!o.stakeholderCategoryAggr||!o.status||!o.agreementDate||!o.placeOfAgreement){p({variant:"destructive",title:"Missing Required Fields",description:"Title, Type, Agreement Date, Place, Category, Parties, Effective Date, and Status are required."});return}if(o.parties.some(M=>M.stakeholderId===wr&&!M.manualName)){p({variant:"destructive",title:"Incomplete Party Information",description:"Each manually entered party must have a name."});return}const N={...o};N.agreementDate=o.agreementDate?o.agreementDate.toISOString():null,N.effectiveDate=o.effectiveDate?o.effectiveDate.toISOString():null,N.expiryDate=o.expiryDate?o.expiryDate.toISOString():null,N.id=t.id||`AGR-${Date.now().toString(36)}`,N.lastModified=new Date().toISOString(),e(N)};return r.jsxs("form",{onSubmit:x,className:"space-y-6 max-h-[80vh] overflow-y-auto p-2 custom-scrollbar",children:[r.jsx(cU,{agreementTitle:o.agreementTitle,onTitleChange:b=>v("agreementTitle",b),agreementType:o.agreementType,onAgreementTypeChange:b=>v("agreementType",b),stakeholderCategoryAggr:o.stakeholderCategoryAggr,onStakeholderCategoryChange:b=>v("stakeholderCategoryAggr",b),agreementTypes:nm,stakeholderCategories:rm}),r.jsx(dU,{agreementDate:o.agreementDate,onAgreementDateChange:b=>w("agreementDate",b),placeOfAgreement:o.placeOfAgreement,onPlaceOfAgreementChange:b=>v("placeOfAgreement",b),effectiveDate:o.effectiveDate,onEffectiveDateChange:b=>w("effectiveDate",b),expiryDate:o.expiryDate,onExpiryDateChange:b=>w("expiryDate",b)}),r.jsx(rU,{parties:o.parties,setParties:g,stakeholdersList:s}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"summary-form",children:"Summary / Key Terms"}),r.jsx(we,{id:"summary-form",value:o.summary,onChange:b=>v("summary",b.target.value),placeholder:"Brief overview of the agreement's main clauses and business intent.",rows:3})]}),r.jsx(sU,{preamble:o.preamble,setPreamble:b=>v("preamble",b)}),r.jsx(iU,{obligationsBreachRemedies:o.obligationsBreachRemedies,setObligationsBreachRemedies:b=>v("obligationsBreachRemedies",b)}),i&&r.jsxs("div",{className:"my-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[r.jsxs(O,{type:"button",onClick:y,disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"})," ",u?"Generating Content...":"Use AI to Draft Content Sections"]}),r.jsx("p",{className:"text-xs text-blue-700 mt-2 text-center",children:"AI will help populate Summary, Preamble, and Obligations based on the Agreement Type. Review and edit as needed."})]}),r.jsx(uU,{documentFileName:o.documentFileName,onDocumentFileChange:b=>j(b,c,"documentFileName")}),r.jsx(hU,{status:o.status,onStatusChange:b=>v("status",b),agreementStatuses:im,confidentialityLevel:o.confidentialityLevel,onConfidentialityLevelChange:b=>v("confidentialityLevel",b),confidentialityLevels:sm,autoReminders:o.autoReminders,onAutoRemindersChange:b=>v("autoReminders",b)}),r.jsx(lU,{paymentTerms:o.paymentTerms,setPaymentTerms:b=>v("paymentTerms",b),nonCompeteClause:o.nonCompeteClause,setNonCompeteClause:b=>v("nonCompeteClause",b),ipRights:o.ipRights,setIpRights:b=>v("ipRights",b),terminationConditions:o.terminationConditions,setTerminationConditions:b=>v("terminationConditions",b),disputeJurisdiction:o.disputeJurisdiction,setDisputeJurisdiction:b=>v("disputeJurisdiction",b),appendixFile:d,setAppendixFile:h,appendixFileName:o.appendixFileName,setAppendixFileName:b=>v("appendixFileName",b),externalDocumentLinks:o.externalDocumentLinks,setExternalDocumentLinks:b=>v("externalDocumentLinks",b),firstPartSignatory:o.firstPartSignatory,setFirstPartSignatory:b=>v("firstPartSignatory",b),secondPartSignatory:o.secondPartSignatory,setSecondPartSignatory:b=>v("secondPartSignatory",b),handleFileChange:(b,N,M)=>j(b,N,M)}),r.jsxs(wt,{className:"pt-8",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Agreement":i?"Finalize AI Draft":"Create Agreement"})]})]})},om=["All Types","MOU","NCNDA","General Agreement","JV Agreement","NDA","Supply Contract","Service Agreement","Partnership Agreement","Subcontractor Agreement","Master Subcontractor Agreement","Other"],am=["All Categories","Partner","Investor","Contractor","Master Contractor","Master Subcontractor","Subcontractor","Government Entity","Supplier","Consultant","Client","Multiple"],lm=["All Statuses","Draft","Signed","Under Review","Active","Expired","Terminated"],fU=({agreements:e,onEdit:t,onDelete:n,onDownloadDocument:s,allStakeholders:i})=>{const[o,a]=f.useState(""),[l,c]=f.useState(om[0]),[d,h]=f.useState(am[0]),[u,m]=f.useState(lm[0]),[p,v]=f.useState(null),[g,w]=f.useState(null),{toast:j}=fe(),y=S=>!S||S.length===0?"N/A":S.map(k=>{if(k.stakeholderId&&k.stakeholderId!=="__manual__"){const R=i.find(P=>P.id===k.stakeholderId);return R?R.name:`ID: ${k.stakeholderId}`}return k.manualName||"Unnamed Party"}).join(", "),x=(S,k)=>{const R=k?zs(k):null,P=new Date;let D=S,C;R&&Ek(R)&&(C=Ak(R,P),S==="Active"&&C<0&&(D="Expired"));let T=st,I="text-slate-500",W="bg-slate-100",L=D;switch(D){case"Draft":T=mn,I="text-gray-600",W="bg-gray-100";break;case"Signed":case"Active":T=ar,I="text-green-600",W="bg-green-100",C!==void 0&&(C<=30&&C>=0?(T=lo,I="text-orange-600",W="bg-orange-100",L=`Active (Expires in ${C}d)`):C<0?(T=Vn,I="text-red-600",W="bg-red-100",L="Expired"):L=`Active (Expires in ${C}d)`);break;case"Under Review":T=Pn,I="text-blue-600",W="bg-blue-100";break;case"Expired":T=Vn,I="text-red-600",W="bg-red-100";break;case"Terminated":T=st,I="text-neutral-600",W="bg-neutral-200";break}return r.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W} ${I} inline-flex items-center`,children:[r.jsx(T,{className:"h-3.5 w-3.5 mr-1.5"}),L]})},b=S=>{j({title:"Print Summary (Conceptual)",description:`This would generate a printable summary for "${S.agreementTitle}". True PDF generation is complex.`})},N=S=>{j({title:"Download PDF (Conceptual)",description:`Simulating PDF download for "${S.agreementTitle}". A full PDF generation feature would be implemented here.`,className:"bg-green-500 text-white"});const k=`
Agreement Title: ${S.agreementTitle}
Type: ${S.agreementType}
Status: ${S.status}
Effective Date: ${S.effectiveDate?Pe(zs(S.effectiveDate),"PPP"):"N/A"}
Expiry Date: ${S.expiryDate?Pe(zs(S.expiryDate),"PPP"):"N/A"}

Parties:
${S.parties.map(C=>{var T;return`  - ${C.manualName||((T=i.find(I=>I.id===C.stakeholderId))==null?void 0:T.name)||"N/A"} (${C.role})`}).join(`
`)}

Summary:
${S.summary||"N/A"}

Preamble:
${S.preamble||"N/A"}

Obligations & Breach:
${S.obligationsBreachRemedies||"N/A"}
            `,R=new Blob([k],{type:"text/plain"}),P=URL.createObjectURL(R),D=document.createElement("a");D.href=P,D.download=`${S.agreementTitle.replace(/ /g,"_")}_summary.txt`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(P)},M=f.useMemo(()=>e.filter(S=>{var P,D;const k=S.effectiveDate?zs(S.effectiveDate):null,R=(P=S.parties)==null?void 0:P.some(C=>{var I,W;const T=i.find(L=>L.id===C.stakeholderId);return((I=T==null?void 0:T.name)==null?void 0:I.toLowerCase().includes(o.toLowerCase()))||((W=C.manualName)==null?void 0:W.toLowerCase().includes(o.toLowerCase()))});return(((D=S.agreementTitle)==null?void 0:D.toLowerCase().includes(o.toLowerCase()))||R)&&(l===om[0]||S.agreementType===l)&&(d===am[0]||S.stakeholderCategoryAggr===d)&&(u===lm[0]||S.status===u)&&(!p||k&&k>=p)&&(!g||k&&k<=g)}).sort((S,k)=>new Date(k.lastModified)-new Date(S.lastModified)),[e,o,l,d,u,p,g,i]);return r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6 p-4 border rounded-lg bg-slate-50/70",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx($,{placeholder:"Search Title or Parties...",value:o,onChange:S=>a(S.target.value),className:"pl-10 bg-white"})]}),r.jsxs(te,{value:l,onValueChange:c,children:[r.jsx(Z,{className:"bg-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{})]})}),r.jsx(ee,{children:om.map(S=>r.jsx(_,{value:S,children:S},S))})]}),r.jsxs(te,{value:d,onValueChange:h,children:[r.jsx(Z,{className:"bg-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{})]})}),r.jsx(ee,{children:am.map(S=>r.jsx(_,{value:S,children:S},S))})]}),r.jsxs(te,{value:u,onValueChange:m,children:[r.jsx(Z,{className:"bg-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{})]})}),r.jsx(ee,{children:lm.map(S=>r.jsx(_,{value:S,children:S},S))})]}),r.jsx(ke,{date:p,setDate:v,placeholder:"Effective Date After...",className:"w-full bg-white"}),r.jsx(ke,{date:g,setDate:w,placeholder:"Effective Date Before...",className:"w-full bg-white"})]}),r.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-700",children:r.jsxs("p",{className:"flex items-center",children:[r.jsx(nd,{className:"h-4 w-4 mr-2"}),r.jsx("strong",{children:"Notifications & AI (Conceptual):"})," Real-time alerts, AI summaries, and cloud integrations would require backend services. Current display is based on available data."]})}),r.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{className:"bg-slate-100",children:[r.jsx(K,{children:"Title"}),r.jsx(K,{children:"Type"}),r.jsx(K,{children:"Parties"}),r.jsx(K,{children:"Effective"}),r.jsx(K,{children:"Status"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsxs($t,{children:[M.length===0&&r.jsx(De,{children:r.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-10",children:"No agreements match your criteria."})}),M.map(S=>r.jsxs(De,{className:"hover:bg-slate-50 transition-colors",children:[r.jsx(Y,{className:"font-medium max-w-xs truncate",title:S.agreementTitle,children:S.agreementTitle}),r.jsx(Y,{children:S.agreementType}),r.jsx(Y,{className:"max-w-[200px] truncate",title:y(S.parties),children:y(S.parties)}),r.jsx(Y,{children:S.effectiveDate?Pe(zs(S.effectiveDate),"dd MMM yyyy"):"N/A"}),r.jsx(Y,{children:x(S.status,S.expiryDate)}),r.jsxs(Y,{className:"text-right space-x-1",children:[S.documentFileName&&r.jsx(O,{variant:"ghost",size:"icon",title:`Download ${S.documentFileName}`,onClick:()=>s(S.documentFileName),children:r.jsx(eg,{className:"h-4 w-4 text-green-600"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>N(S),title:"Download as PDF (Conceptual)",children:r.jsx(dA,{className:"h-4 w-4 text-purple-600"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>b(S),title:"Print Summary",children:r.jsx(kA,{className:"h-4 w-4 text-blue-600"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>t(S),title:"Edit Agreement",children:r.jsx(mn,{className:"h-4 w-4 text-yellow-600"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>n(S.id),title:"Delete Agreement",children:r.jsx(Re,{className:"h-4 w-4 text-red-600"})})]})]},S.id))]})]})}),r.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:[r.jsxs("p",{className:"flex items-center mb-1",children:[r.jsx(ru,{className:"h-3 w-3 mr-1"})," Link additional stakeholders via the 'Edit' action."]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx(dr,{className:"h-3 w-3 mr-1"})," AI features for content generation are available when creating/editing agreements. Summary, clause detection, and risk flagging are conceptual."]})]})]})},cm=["All Types","Partner","Investor","Contractor","Master Contractor","Master Subcontractor","Subcontractor","Government Entity","Supplier","Consultant","Client"],pU=({allStakeholders:e,agreements:t})=>{const[n,s]=f.useState(""),[i,o]=f.useState(cm[0]),a=c=>t.filter(d=>d.parties&&d.parties.some(h=>h.stakeholderId===c)).length,l=f.useMemo(()=>e.filter(c=>{var d,h,u,m,p;return(((d=c.name)==null?void 0:d.toLowerCase().includes(n.toLowerCase()))||((h=c.id)==null?void 0:h.toLowerCase().includes(n.toLowerCase()))||((u=c.contactPerson)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))||((m=c.email)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))||((p=c.crNumber)==null?void 0:p.toLowerCase().includes(n.toLowerCase())))&&(i===cm[0]||c.type===i)}).sort((c,d)=>c.name.localeCompare(d.name)),[e,n,i]);return r.jsxs(B,{className:"shadow-lg border-t-4 border-indigo-600",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-xl font-semibold text-indigo-700 flex items-center",children:[r.jsx(Ot,{className:"mr-2 h-6 w-6"}),"Stakeholder Directory"]}),r.jsx(pe,{children:"Master database of all stakeholders. Manage individual profiles in their respective modules (e.g., Contractor Registration)."})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 p-4 border rounded-lg bg-slate-50/70",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx($,{placeholder:"Search Name, ID, Contact...",value:n,onChange:c=>s(c.target.value),className:"pl-10 bg-white"})]}),r.jsxs(te,{value:i,onValueChange:o,children:[r.jsx(Z,{className:"bg-white",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{})]})}),r.jsx(ee,{children:cm.map(c=>r.jsx(_,{value:c,children:c},c))})]})]}),r.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{className:"bg-slate-100",children:[r.jsxs(K,{children:[r.jsx(Ot,{className:"inline h-4 w-4 mr-1"}),"Name (Company/Person)"]}),r.jsxs(K,{children:[r.jsx(yt,{className:"inline h-4 w-4 mr-1"}),"Role/Category"]}),r.jsxs(K,{children:[r.jsx(pA,{className:"inline h-4 w-4 mr-1"}),"Nationality/Country"]}),r.jsxs(K,{children:[r.jsx(od,{className:"inline h-4 w-4 mr-1"}),"Contact Person"]}),r.jsxs(K,{children:[r.jsx(CA,{className:"inline h-4 w-4 mr-1"}),"Email & Mobile"]}),r.jsxs(K,{children:[r.jsx(id,{className:"inline h-4 w-4 mr-1"}),"ID/CR Number"]}),r.jsxs(K,{children:[r.jsx(ab,{className:"inline h-4 w-4 mr-1"}),"Docs (CR, Certs)"]}),r.jsxs(K,{children:[r.jsx(st,{className:"inline h-4 w-4 mr-1"}),"Linked Agreements"]}),r.jsxs(K,{children:[r.jsx(fb,{className:"inline h-4 w-4 mr-1"}),"Notes/Ratings"]})]})}),r.jsxs($t,{children:[l.length===0&&r.jsx(De,{children:r.jsx(Y,{colSpan:9,className:"text-center text-muted-foreground py-10",children:"No stakeholders match your criteria."})}),l.map(c=>r.jsxs(De,{className:"hover:bg-slate-50 transition-colors",children:[r.jsx(Y,{className:"font-medium",children:c.name||"N/A"}),r.jsx(Y,{children:c.type||"N/A"}),r.jsx(Y,{children:c.nationality||"N/A (from source)"}),r.jsx(Y,{children:c.contactPerson||"N/A"}),r.jsxs(Y,{children:[c.email&&r.jsx("div",{className:"truncate",title:c.email,children:c.email}),c.phone&&r.jsx("div",{children:c.phone}),!c.email&&!c.phone&&"N/A"]}),r.jsx(Y,{children:c.crNumber||c.idNumber||"N/A"}),r.jsx(Y,{className:"text-xs text-muted-foreground",children:"View in Source"}),r.jsx(Y,{className:"text-center",children:a(c.id)}),r.jsx(Y,{className:"text-xs text-muted-foreground",children:"View in Source"})]},c.id))]})]})})]}),r.jsxs(ct,{className:"text-xs text-muted-foreground pt-4 border-t",children:["Displaying ",l.length," of ",e.length," stakeholders. Full details like uploaded documents, nationality, and internal ratings are managed within individual stakeholder modules (e.g., Contractor Registration, Partner Management)."]})]})},gU=({activeTab:e,onAddNew:t,onAiGenerate:n})=>r.jsx(B,{className:"shadow-xl border-t-4 border-slate-700 mb-8 bg-white/80 backdrop-blur-sm",children:r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl lg:text-3xl font-bold tracking-tight text-slate-800 flex items-center",children:[r.jsx(nu,{className:"mr-3 h-7 w-7 lg:h-8 lg:w-8 text-indigo-600"}),"Legal Agreements & Stakeholder Management"]}),r.jsx(pe,{className:"text-sm lg:text-base text-slate-600",children:"Manage MOUs, NCNDAs, other agreements, and view stakeholder lists. AI tools available."})]}),e==="agreements"&&r.jsxs("div",{className:"mt-4 md:mt-0 flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[r.jsxs(O,{onClick:n,variant:"outline",className:"text-indigo-600 border-indigo-600 hover:bg-indigo-50 shadow-md transition-all duration-300 ease-in-out transform hover:scale-105",children:[r.jsx(dr,{className:"mr-2 h-4 w-4"}),"AI Generate Agreement"]}),r.jsxs(O,{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-md transition-all duration-300 ease-in-out transform hover:scale-105",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New Agreement"]})]})]})}),xU=({activeTab:e,onTabChange:t,children:n})=>r.jsxs(yx,{value:e,onValueChange:t,className:"w-full",children:[r.jsxs(Lu,{className:"grid w-full grid-cols-1 md:grid-cols-2 mb-6 bg-slate-200/70 p-1 rounded-lg shadow",children:[r.jsxs(rl,{value:"agreements",className:"data-[state=active]:bg-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-md rounded-md transition-all duration-300 ease-in-out py-2.5",children:[r.jsx(Rr,{className:"mr-2 h-5 w-5"}),"Manage Agreements"]}),r.jsxs(rl,{value:"stakeholders",className:"data-[state=active]:bg-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-md rounded-md transition-all duration-300 ease-in-out py-2.5",children:[r.jsx(Ot,{className:"mr-2 h-5 w-5"}),"Stakeholder Directory"]})]}),n]}),vU=()=>{const[e,t]=je("cmsLegalAgreements",[]),[n,s]=f.useState(!1),[i,o]=f.useState(null),[a,l]=f.useState("agreements"),[c,d]=f.useState(!1),[h]=je("contractors",[]),[u]=je("cmsPartners",[]),[m]=je("cmsSuppliers",[]),[p]=je("cmsClients",[]),[v]=je("cmsInvestors",[]),g=f.useMemo(()=>{const S=(k,R)=>({id:k.id||`item-${Math.random().toString(36).substr(2,9)}`,name:k.name||k.companyName||k.clientName||k.investorName||"Unknown Stakeholder",type:k.type||k.category||R,email:k.email||k.contactEmail,phone:k.phone||k.contactPhone,contactPerson:k.contactPerson,crNumber:k.crNumber||k.registrationNumber,idNumber:k.idNumber,nationality:k.nationality});return[...(h||[]).map(k=>S(k,"Contractor")),...(u||[]).map(k=>S(k,"Partner")),...(m||[]).map(k=>S(k,"Supplier")),...(p||[]).map(k=>S(k,"Client")),...(v||[]).map(k=>S(k,"Investor"))].filter((k,R,P)=>P.findIndex(D=>D.id===k.id)===R)},[h,u,m,p,v]),{toast:w}=fe(),j=f.useCallback((S=null,k=!1)=>{o(S),d(k),s(!0)},[]),y=f.useCallback(()=>{j(null,!0)},[j]),x=f.useCallback(()=>{o(null),s(!1),d(!1)},[]),b=f.useCallback(S=>{i?(t(k=>k.map(R=>R.id===S.id?S:R)),w({title:"Agreement Updated",description:`"${S.agreementTitle}" has been updated.`})):(t(k=>[S,...k].sort((R,P)=>new Date(P.effectiveDate)-new Date(R.effectiveDate))),w({title:"Agreement Added",description:`"${S.agreementTitle}" has been added.`})),x()},[i,t,w,x]),N=f.useCallback(S=>{window.confirm("Are you sure you want to delete this agreement? This action cannot be undone.")&&(t(k=>k.filter(R=>R.id!==S)),w({title:"Agreement Deleted",variant:"destructive"}))},[t,w]),M=f.useCallback(S=>{w({title:"Download Initiated (Placeholder)",description:`Preparing to download ${S}. This is a conceptual feature for uploaded physical documents.`})},[w]);return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 bg-gradient-to-br from-slate-50 to-indigo-50 min-h-screen",children:[r.jsx(gU,{activeTab:a,onAddNew:()=>j(null,!1),onAiGenerate:y}),r.jsxs(xU,{activeTab:a,onTabChange:l,children:[r.jsx(br,{value:"agreements",children:r.jsx(fU,{agreements:e,onEdit:S=>j(S,!1),onDelete:N,onDownloadDocument:M,allStakeholders:g})}),r.jsx(br,{value:"stakeholders",children:r.jsx(pU,{allStakeholders:g,agreements:e})})]}),r.jsx(tt,{open:n,onOpenChange:S=>{S?s(S):x()},children:r.jsxs(Ke,{className:"sm:max-w-3xl lg:max-w-4xl bg-white rounded-lg shadow-2xl",children:[r.jsxs(Xe,{className:"border-b pb-4",children:[r.jsx(Je,{className:"text-xl font-semibold text-slate-800",children:i?"Edit Agreement":c?"AI Assisted Agreement Draft":"Create New Agreement"}),r.jsx(ut,{className:"text-sm text-slate-500",children:c?"Use AI to help draft content, then review and finalize.":"Fill in the details for the agreement. Upload the signed document if available."})]}),r.jsx(mU,{onSubmit:b,initialData:i||{},onCancel:x,stakeholdersList:g,isAiMode:c})]})})]})};function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cs.apply(null,arguments)}function yU(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function jU(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function IP(...e){return t=>e.forEach(n=>jU(n,t))}function wU(...e){return f.useCallback(IP(...e),e)}function bU(e,t=[]){let n=[];function s(o,a){const l=f.createContext(a),c=n.length;n=[...n,a];function d(u){const{scope:m,children:p,...v}=u,g=(m==null?void 0:m[e][c])||l,w=f.useMemo(()=>v,Object.values(v));return f.createElement(g.Provider,{value:w},p)}function h(u,m){const p=(m==null?void 0:m[e][c])||l,v=f.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,h]}const i=()=>{const o=n.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[s,SU(i,...t)]}function SU(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=s.reduce((l,{useScope:c,scopeName:d})=>{const u=c(o)[`__scope${d}`];return{...l,...u}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function OP(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...n)},[])}function NU({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=CU({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:s,l=OP(n),c=f.useCallback(d=>{if(o){const u=typeof d=="function"?d(e):d;u!==e&&l(u)}else i(d)},[o,e,i,l]);return[a,c]}function CU({defaultProp:e,onChange:t}){const n=f.useState(e),[s]=n,i=f.useRef(s),o=OP(t);return f.useEffect(()=>{i.current!==s&&(o(s),i.current=s)},[s,i,o]),n}function kU(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const PU=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{};function DU(e){const[t,n]=f.useState(void 0);return PU(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;a=d.inlineSize,l=d.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}const LP=f.forwardRef((e,t)=>{const{children:n,...s}=e,i=f.Children.toArray(n),o=i.find(MU);if(o){const a=o.props.children,l=i.map(c=>c===o?f.Children.count(a)>1?f.Children.only(null):f.isValidElement(a)?a.props.children:null:c);return f.createElement(Qf,Cs({},s,{ref:t}),f.isValidElement(a)?f.cloneElement(a,void 0,l):null)}return f.createElement(Qf,Cs({},s,{ref:t}),n)});LP.displayName="Slot";const Qf=f.forwardRef((e,t)=>{const{children:n,...s}=e;return f.isValidElement(n)?f.cloneElement(n,{...EU(s,n.props),ref:t?IP(t,n.ref):n.ref}):f.Children.count(n)>1?f.Children.only(null):null});Qf.displayName="SlotClone";const TU=({children:e})=>f.createElement(f.Fragment,null,e);function MU(e){return f.isValidElement(e)&&e.type===TU}function EU(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...l)=>{o(...l),i(...l)}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const AU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],FP=AU.reduce((e,t)=>{const n=f.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?LP:t;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(l,Cs({},a,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_P="Switch",[RU,F9]=bU(_P),[IU,OU]=RU(_P),LU=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:d,...h}=e,[u,m]=f.useState(null),p=wU(t,y=>m(y)),v=f.useRef(!1),g=u?!!u.closest("form"):!0,[w=!1,j]=NU({prop:i,defaultProp:o,onChange:d});return f.createElement(IU,{scope:n,checked:w,disabled:l},f.createElement(FP.button,Cs({type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":$P(w),"data-disabled":l?"":void 0,disabled:l,value:c},h,{ref:p,onClick:yU(e.onClick,y=>{j(x=>!x),g&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})})),g&&f.createElement($U,{control:u,bubbles:!v.current,name:s,value:c,checked:w,required:a,disabled:l,style:{transform:"translateX(-100%)"}}))}),FU="SwitchThumb",_U=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=OU(FU,n);return f.createElement(FP.span,Cs({"data-state":$P(i.checked),"data-disabled":i.disabled?"":void 0},s,{ref:t}))}),$U=e=>{const{control:t,checked:n,bubbles:s=!0,...i}=e,o=f.useRef(null),a=kU(n),l=DU(t);return f.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&u){const m=new Event("click",{bubbles:s});u.call(c,n),c.dispatchEvent(m)}},[a,n,s]),f.createElement("input",Cs({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function $P(e){return e?"checked":"unchecked"}const VP=LU,VU=_U,Yf=ce.forwardRef(({className:e,...t},n)=>r.jsx(VP,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(VU,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yf.displayName=VP.displayName;const hj=()=>r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8 max-w-3xl mx-auto",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-red-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-red-600 flex items-center",children:[r.jsx(EA,{className:"mr-2 h-6 w-6"}),"Security & Access Control"]}),r.jsx(pe,{children:"Manage role-based access levels, user logs, authentication, and document encryption settings."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Placeholder Settings:"}),r.jsx("p",{className:"text-sm",children:"These settings are illustrative. Actual implementation of security features requires backend integration."})]})]})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(Ua,{className:"mr-2 h-5 w-5"}),"Role-Based Access Levels"]})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Define permissions for different user roles. (Placeholder)"}),r.jsx(O,{variant:"outline",children:"Manage Roles (Not Implemented)"})]})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(jA,{className:"mr-2 h-5 w-5"}),"Authentication & Encryption"]})}),r.jsxs(Q,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(E,{htmlFor:"twoFactorAuth",className:"flex flex-col space-y-1",children:[r.jsx("span",{children:"Two-Factor Authentication (2FA)"}),r.jsx("span",{className:"font-normal leading-snug text-muted-foreground",children:"Enhance account security with 2FA."})]}),r.jsx(Yf,{id:"twoFactorAuth",disabled:!0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(E,{htmlFor:"docEncryption",className:"flex flex-col space-y-1",children:[r.jsx("span",{children:"Encrypted Document Vault"}),r.jsx("span",{className:"font-normal leading-snug text-muted-foreground",children:"Enable encryption for stored documents."})]}),r.jsx(Yf,{id:"docEncryption",checked:!0,disabled:!0})]})]})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(Rr,{className:"mr-2 h-5 w-5"}),"Admin Override & User Logs"]})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"View system access logs and admin override actions. (Placeholder)"}),r.jsx(O,{variant:"outline",children:"View Access Logs (Not Implemented)"})]})]})]})]}),qU=({title:e,description:t,icon:n,onClick:s})=>r.jsxs(B,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(n,{className:"h-6 w-6 text-indigo-500"}),r.jsx(z,{className:"text-lg",children:e})]}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t}),r.jsx(O,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Access Tool (Placeholder)"})]})]}),BU=()=>{const e=[{title:"Predictive Delay Alerts",description:"AI analyzes project data to predict potential delays.",icon:Xv},{title:"Cost Overrun Detection",description:"Identifies patterns leading to cost overruns early.",icon:Xv},{title:"AI Document Scanner & Form Generator",description:"Convert scanned documents or handwritten notes to digital forms.",icon:Hv},{title:"Image Recognition for Safety Compliance",description:"Analyzes site photos for PPE and safety protocol adherence.",icon:dl},{title:"AI Assistant for Medical Guidance",description:"Provides initial guidance for on-site injuries (not a replacement for medical professionals).",icon:ad},{title:"Site Assistant AI (Civil/MEP)",description:"Answers technical queries related to civil and MEP tasks.",icon:ad},{title:"AI-Powered Daily Summary Reports",description:"Generates concise daily progress summaries from logs.",icon:Hv}],t=n=>{alert(`Accessing AI Tool: ${n}. This feature is a placeholder.`)};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-indigo-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-indigo-600 flex items-center",children:[r.jsx(dr,{className:"mr-2 h-6 w-6"}),"AI Tools & Automation Hub"]}),r.jsx(pe,{children:"Leverage AI-powered tools for predictive analytics, automation, and intelligent assistance."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Conceptual AI Tools:"}),r.jsx("p",{className:"text-sm",children:"The AI tools listed are conceptual and represent planned features. Full implementation requires significant development and AI model integration."})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,s)=>r.jsx(de.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:s*.05+.1},children:r.jsx(qU,{title:n.title,description:n.description,icon:n.icon,onClick:()=>t(n.title)})},s))})]})},UU=({isOpen:e,onClose:t,onSubmit:n,projects:s})=>{const[i,o]=f.useState(new Date),[a,l]=f.useState(""),[c,d]=f.useState(""),[h,u]=f.useState(""),[m,p]=f.useState(""),[v,g]=f.useState(""),[w,j]=f.useState(""),[y,x]=f.useState(""),{toast:b}=fe(),N=()=>{var S;if(!a||!h){b({variant:"destructive",title:"Missing Fields",description:"Project and Work Accomplished are required."});return}n({reportDate:i.toISOString(),projectId:a,weather:c,workAccomplished:h,manpowerCount:parseInt(m)||0,equipmentUsed:v,safetyObservations:w,issuesEncountered:y}),b({title:"Daily Report Submitted",description:`Report for ${(S=s.find(k=>k.id===a))==null?void 0:S.projectName} on ${i.toLocaleDateString()}`}),t(),l(""),d(""),u(""),p(""),g(""),j(""),x("")},M=s||[];return r.jsx(tt,{open:e,onOpenChange:t,children:r.jsxs(Ke,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto custom-scrollbar",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:"Create Daily Report"}),r.jsx(ut,{children:"Log activities and progress for the selected project and date."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"reportDate",children:"Report Date"}),r.jsx(ke,{id:"reportDate",date:i,setDate:o})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-dailyreport",children:"Project"}),r.jsxs(te,{value:a,onValueChange:l,children:[r.jsx(Z,{id:"projectId-dailyreport",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:M.map(S=>r.jsxs(_,{value:S.id,children:[S.projectName," (",S.projectCode,")"]},S.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"weather",children:"Weather Conditions"}),r.jsx($,{id:"weather",value:c,onChange:S=>d(S.target.value),placeholder:"e.g., Sunny, 25C, Light breeze"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"workAccomplished",children:"Work Accomplished"}),r.jsx(we,{id:"workAccomplished",value:h,onChange:S=>u(S.target.value),placeholder:"Detail tasks completed, progress made..."})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"manpowerCount",children:"Manpower on Site (Count)"}),r.jsx($,{id:"manpowerCount",type:"number",value:m,onChange:S=>p(S.target.value),placeholder:"e.g., 25"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"equipmentUsed",children:"Equipment Used"}),r.jsx(we,{id:"equipmentUsed",value:v,onChange:S=>g(S.target.value),placeholder:"List equipment and hours, e.g., Excavator (8hrs), Crane (4hrs)"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"safetyObservations",children:"Safety Observations/Incidents"}),r.jsx(we,{id:"safetyObservations",value:w,onChange:S=>j(S.target.value),placeholder:"Toolbox talks, near misses, incidents, positive observations..."})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"issuesEncountered",children:"Issues/Delays Encountered"}),r.jsx(we,{id:"issuesEncountered",value:y,onChange:S=>x(S.target.value),placeholder:"Any challenges, delays, or issues faced today..."})]})]}),r.jsxs(wt,{children:[r.jsx(O,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(O,{onClick:N,children:"Submit Report"})]})]})})},mj=["Units","kg","Tonnes","m","sq.m","cu.m","Liters","Bags","Rolls","Pallets"],dm=["Low","Medium","High","Critical"],zU=({isOpen:e,onClose:t,onSubmit:n,projects:s})=>{var k,R;const[i]=je("cmsMaterials",[]),[o,a]=f.useState(""),[l,c]=f.useState(""),[d,h]=f.useState(mj[0]),[u,m]=f.useState(""),[p,v]=f.useState(new Date),[g,w]=f.useState(dm[1]),[j,y]=f.useState(""),[x,b]=f.useState(""),{toast:N}=fe(),M=()=>{if(!o||!l||!u||!j){N({variant:"destructive",title:"Missing Fields",description:"Material, quantity, project, and delivery location are required."});return}const P=i.find(D=>D.id===o);n({materialId:o,materialName:(P==null?void 0:P.name)||"N/A",quantity:parseFloat(l),unit:(P==null?void 0:P.unit)||d,projectId:u,deliveryDate:p.toISOString(),urgency:g,deliveryLocation:j,notes:x}),N({title:"Material Request Submitted",description:`${l} ${d} of ${(P==null?void 0:P.name)||"material"} requested.`}),t(),a(""),c(""),m(""),y(""),b(""),w(dm[1])},S=s||[];return r.jsx(tt,{open:e,onOpenChange:t,children:r.jsxs(Ke,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto custom-scrollbar",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:"Request New Material"}),r.jsx(ut,{children:"Submit a request for materials needed on site."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"materialId",children:"Material"}),r.jsxs(te,{value:o,onValueChange:a,children:[r.jsx(Z,{id:"materialId",children:r.jsx(ne,{placeholder:"Select Material from Inventory"})}),r.jsx(ee,{children:i.map(P=>r.jsxs(_,{value:P.id,children:[P.name," (",P.sku,") - Available: ",P.quantity," ",P.unit]},P.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"quantity-materialreq",children:"Quantity"}),r.jsx($,{id:"quantity-materialreq",type:"number",value:l,onChange:P=>c(P.target.value),placeholder:"e.g., 50"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"unit-materialreq",children:"Unit"}),r.jsxs(te,{value:d,onValueChange:h,disabled:!!((k=i.find(P=>P.id===o))!=null&&k.unit),children:[r.jsx(Z,{id:"unit-materialreq",children:r.jsx(ne,{placeholder:"Unit"})}),r.jsx(ee,{children:mj.map(P=>r.jsx(_,{value:P,children:P},P))})]}),((R=i.find(P=>P.id===o))==null?void 0:R.unit)&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unit auto-selected from inventory."})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-materialreq",children:"Project"}),r.jsxs(te,{value:u,onValueChange:m,children:[r.jsx(Z,{id:"projectId-materialreq",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:S.map(P=>r.jsxs(_,{value:P.id,children:[P.projectName," (",P.projectCode,")"]},P.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"deliveryDate",children:"Required Delivery Date"}),r.jsx(ke,{id:"deliveryDate",date:p,setDate:v})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"urgency",children:"Urgency Level"}),r.jsxs(te,{value:g,onValueChange:w,children:[r.jsx(Z,{id:"urgency",children:r.jsx(ne,{placeholder:"Select Urgency"})}),r.jsx(ee,{children:dm.map(P=>r.jsx(_,{value:P,children:P},P))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"deliveryLocation",children:"Delivery Location on Site"}),r.jsx($,{id:"deliveryLocation",value:j,onChange:P=>y(P.target.value),placeholder:"e.g., Sector B, Laydown Area 3"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"notes-materialreq",children:"Notes (Optional)"}),r.jsx(we,{id:"notes-materialreq",value:x,onChange:P=>b(P.target.value),placeholder:"Specific instructions, vendor preference, etc."})]})]}),r.jsxs(wt,{children:[r.jsx(O,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(O,{onClick:M,children:"Submit Request"})]})]})})},um=["Unforeseen Site Conditions","Scope Change","Material Price Increase","Equipment Rental Overrun","Additional Labor","Other"],WU=({isOpen:e,onClose:t,onSubmit:n,projects:s})=>{const[i,o]=f.useState(""),[a,l]=f.useState(""),[c,d]=f.useState(um[0]),[h,u]=f.useState(""),[m,p]=f.useState(""),{toast:v}=fe(),g=()=>{var j;if(!i||!a||!h){v({variant:"destructive",title:"Missing Fields",description:"Project, amount, and justification are required."});return}n({projectId:i,amountRequested:parseFloat(a),category:c,justification:h,breakdown:m,requestDate:new Date().toISOString()}),v({title:"Budget Request Submitted",description:`Request of $${a} for ${(j=s.find(y=>y.id===i))==null?void 0:j.projectName} submitted.`}),t(),o(""),l(""),d(um[0]),u(""),p("")},w=s||[];return r.jsx(tt,{open:e,onOpenChange:t,children:r.jsxs(Ke,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto custom-scrollbar",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:"Request Additional Budget"}),r.jsx(ut,{children:"Submit a request for additional funds for a project."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-budgetreq",children:"Project"}),r.jsxs(te,{value:i,onValueChange:o,children:[r.jsx(Z,{id:"projectId-budgetreq",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:w.map(j=>r.jsxs(_,{value:j.id,children:[j.projectName," (Current Budget: $",parseFloat(j.projectBudget||0).toLocaleString(),")"]},j.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"amountRequested",children:"Amount Requested (USD)"}),r.jsx($,{id:"amountRequested",type:"number",value:a,onChange:j=>l(j.target.value),placeholder:"e.g., 5000"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"category-budgetreq",children:"Reason/Category"}),r.jsxs(te,{value:c,onValueChange:d,children:[r.jsx(Z,{id:"category-budgetreq",children:r.jsx(ne,{placeholder:"Select Category"})}),r.jsx(ee,{children:um.map(j=>r.jsx(_,{value:j,children:j},j))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"justification",children:"Justification"}),r.jsx(we,{id:"justification",value:h,onChange:j=>u(j.target.value),placeholder:"Detailed reason for the additional budget..."})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"breakdown",children:"Cost Breakdown (Optional)"}),r.jsx(we,{id:"breakdown",value:m,onChange:j=>p(j.target.value),placeholder:"e.g., Item 1: $X, Item 2: $Y..."})]})]}),r.jsxs(wt,{children:[r.jsx(O,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(O,{onClick:g,children:"Submit Request"})]})]})})},HU=({isOpen:e,onClose:t,projects:n,siteManagerId:s})=>{const i=n||[];return r.jsx(tt,{open:e,onOpenChange:t,children:r.jsxs(Ke,{className:"sm:max-w-md",children:[r.jsxs(Xe,{children:[r.jsxs(Je,{className:"flex items-center",children:[r.jsx(vs,{className:"mr-2 h-5 w-5 text-primary"}),"Your Project Assignments"]}),r.jsx(ut,{children:"Overview of projects currently assigned to you."})]}),r.jsx("div",{className:"py-4 max-h-96 overflow-y-auto space-y-3 pr-1 custom-scrollbar",children:i.length===0?r.jsx("p",{className:"text-muted-foreground text-center",children:"No projects are currently assigned to you."}):i.map(o=>r.jsxs(B,{className:"bg-slate-50 hover:shadow-md transition-shadow",children:[r.jsxs(G,{className:"p-4",children:[r.jsx(z,{className:"text-base font-semibold text-primary",children:o.projectName}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",o.projectCode]})]}),r.jsxs(Q,{className:"p-4 pt-0 text-sm",children:[r.jsxs("p",{children:["Status: ",r.jsx("span",{className:`font-medium ${o.projectStatus==="In Progress"?"text-blue-600":"text-gray-600"}`,children:o.projectStatus})]}),r.jsxs("p",{children:["Client: ",o.clientName]}),r.jsxs("p",{children:["Expected End: ",o.expectedEndDate?Pe(new Date(o.expectedEndDate),"dd MMM yyyy"):"N/A"]}),r.jsx(O,{size:"sm",variant:"link",asChild:!0,className:"p-0 h-auto mt-1",children:r.jsx($e,{to:`/projects/${o.id}`,children:"View Details"})})]})]},o.id))}),r.jsx(wt,{children:r.jsx(O,{onClick:t,children:"Close"})})]})})},ac=({title:e,value:t,icon:n,bgColor:s="bg-slate-100",iconColor:i="text-slate-600",linkTo:o,description:a})=>r.jsxs(B,{className:`shadow-lg hover:shadow-xl transition-shadow ${s}`,children:[r.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(z,{className:"text-sm font-medium",children:e}),r.jsx(n,{className:`h-5 w-5 ${i}`})]}),r.jsxs(Q,{children:[r.jsx("div",{className:"text-2xl font-bold",children:t}),a&&r.jsx("p",{className:"text-xs text-muted-foreground",children:a}),o&&r.jsx($e,{to:o,className:"text-xs text-primary hover:underline mt-1 block",children:"View details"})]})]}),GU=({project:e})=>r.jsx(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"p-4 border rounded-lg hover:bg-slate-50 transition-colors",children:r.jsxs($e,{to:`/projects/${e.id}`,className:"block",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h4",{className:"font-semibold text-primary",children:e.projectName}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.projectStatus==="Completed"?"bg-green-100 text-green-700":e.projectStatus==="In Progress"?"bg-blue-100 text-blue-700":e.projectStatus==="On Hold"?"bg-yellow-100 text-yellow-700":e.projectStatus==="Cancelled"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:e.projectStatus})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",e.projectCode," | Due: ",e.expectedEndDate?Pe(new Date(e.expectedEndDate),"dd MMM yyyy"):"N/A"]}),e.currentCost&&e.projectBudget&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Budget: $",parseFloat(e.currentCost).toLocaleString()," / $",parseFloat(e.projectBudget).toLocaleString()]})]})}),QU=({task:e,projectName:t})=>{const n=e.dueDate&&new Date(e.dueDate)<new Date&&e.status!=="Completed";return r.jsxs(de.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:`p-3 border-l-4 rounded-r-md mb-2 ${n?"border-red-500 bg-red-50":e.priority==="High"||e.priority==="Urgent"?"border-orange-500 bg-orange-50":"border-blue-500 bg-blue-50"}`,children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-sm",children:e.name}),r.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${n?"text-red-700 bg-red-200":"text-gray-700 bg-gray-200"}`,children:e.status})]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Project: ",t||"N/A"," | Due: ",e.dueDate?Pe(new Date(e.dueDate),"dd MMM"):"N/A"]})]})},fj=()=>{const[e]=je("projects",[]),[t]=je("cmsTasks",[]),[n]=je("cmsSafetyDocs",[]),[s,i]=je("cmsDailyLogs",[]),[o,a]=je("cmsMaterialRequests",[]),[l,c]=je("cmsBudgetRequests",[]),[d,h]=f.useState(!1),[u,m]=f.useState(!1),[p,v]=f.useState(!1),[g,w]=f.useState(!1),j="SM001",y="Default Site Manager",x=f.useMemo(()=>e.filter(C=>C.siteManagerId===j||C.siteManager===y||!C.siteManagerId),[e]),b=x.filter(C=>C.projectStatus==="In Progress").length,N=f.useMemo(()=>t.filter(C=>x.some(T=>T.id===C.projectId)&&C.status!=="Completed").sort((C,T)=>C.dueDate&&T.dueDate?new Date(C.dueDate)-new Date(T.dueDate):C.dueDate?-1:1).slice(0,5),[t,x]),M=t.filter(C=>x.some(T=>T.id===C.projectId)&&C.status!=="Completed").length,S=f.useMemo(()=>n.filter(C=>{if(!C.expiryDate)return!1;const T=Ak(new Date(C.expiryDate),new Date);return T<=7&&T>=0}).length,[n]),k=C=>{i(T=>[{id:`DR-${Date.now()}`,...C},...T]),h(!1)},R=C=>{a(T=>[{id:`MR-${Date.now()}`,...C,status:"Pending",requestDate:new Date().toISOString()},...T]),m(!1)},P=C=>{c(T=>[{id:`BR-${Date.now()}`,...C,status:"Pending"},...T]),v(!1)},D=[{label:"New Daily Log",icon:aA,action:()=>h(!0),color:"bg-blue-500 hover:bg-blue-600"},{label:"Request Material",icon:Qv,action:()=>m(!0),color:"bg-green-500 hover:bg-green-600"},{label:"Request Budget",icon:Qe,action:()=>v(!0),color:"bg-yellow-500 hover:bg-yellow-600 text-black"},{label:"View Assignments",icon:vs,action:()=>w(!0),color:"bg-purple-500 hover:bg-purple-600"}];return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[r.jsx(B,{className:"bg-gradient-to-r from-primary to-blue-700 text-primary-foreground shadow-xl",children:r.jsxs(G,{children:[r.jsx(z,{className:"text-3xl font-bold",children:"Site Manager Dashboard"}),r.jsxs(pe,{className:"text-blue-100",children:["Welcome, ",y,". Overview of your responsibilities."]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(ac,{title:"Active Projects",value:b,icon:vs,bgColor:"bg-sky-50",iconColor:"text-sky-600",linkTo:"/projects?status=In+Progress",description:"Currently ongoing projects."}),r.jsx(ac,{title:"Pending Tasks",value:M,icon:Rr,bgColor:"bg-indigo-50",iconColor:"text-indigo-600",linkTo:"/schedules?status=Pending",description:"Tasks needing attention."}),r.jsx(ac,{title:"Safety Alerts",value:S,icon:be,bgColor:"bg-red-50",iconColor:"text-red-600",linkTo:"/safety-compliance?status=Expiring+Soon",description:"Certifications/permits expiring soon."}),r.jsx(ac,{title:"Pending Material Requests",value:o.filter(C=>C.status==="Pending").length,icon:Qv,bgColor:"bg-teal-50",iconColor:"text-teal-600",description:"Awaiting approval/delivery."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(B,{className:"shadow-lg",children:[r.jsx(G,{children:r.jsx(z,{className:"text-xl font-semibold text-primary",children:"My Assigned Projects"})}),r.jsx(Q,{className:"max-h-96 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:x.length>0?x.map(C=>r.jsx(GU,{project:C},C.id)):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No projects currently assigned."})}),r.jsx(ct,{children:r.jsx(O,{variant:"outline",asChild:!0,className:"w-full",children:r.jsxs($e,{to:"/projects",children:[r.jsx(Rr,{className:"mr-2 h-4 w-4"}),"View All Projects"]})})})]}),r.jsxs(B,{className:"shadow-lg",children:[r.jsx(G,{children:r.jsx(z,{className:"text-xl font-semibold text-primary",children:"Upcoming / Overdue Tasks"})}),r.jsx(Q,{className:"max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:N.length>0?r.jsx("ul",{className:"space-y-2",children:N.map(C=>{var T;return r.jsx(QU,{task:C,projectName:(T=e.find(I=>I.id===C.projectId))==null?void 0:T.projectName},C.id)})}):r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No urgent tasks for your projects."})}),r.jsx(ct,{children:r.jsx(O,{variant:"outline",asChild:!0,className:"w-full",children:r.jsxs($e,{to:"/schedules",children:[r.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Go to Full Schedule"]})})})]})]}),r.jsxs(B,{className:"shadow-lg",children:[r.jsx(G,{children:r.jsx(z,{className:"text-xl font-semibold text-primary",children:"Quick Actions"})}),r.jsx(Q,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:D.map(C=>r.jsxs(O,{onClick:C.action,className:`flex flex-col items-center justify-center h-24 text-sm ${C.color} text-white shadow-md hover:shadow-lg transition-shadow`,children:[r.jsx(C.icon,{className:"h-6 w-6 mb-1.5"}),C.label]},C.label))})]}),r.jsx(UU,{isOpen:d,onClose:()=>h(!1),onSubmit:k,projects:x}),r.jsx(zU,{isOpen:u,onClose:()=>m(!1),onSubmit:R,projects:x}),r.jsx(WU,{isOpen:p,onClose:()=>v(!1),onSubmit:P,projects:x}),r.jsx(HU,{isOpen:g,onClose:()=>w(!1),projects:x,siteManagerId:j})]})},YU=()=>{const e=[{id:"proj1",name:"Downtown Tower - Phase 2",status:"In Progress",nextMilestone:"Facade Installation"},{id:"proj2",name:"West Bridge Repair",status:"Pending Approval",nextMilestone:"Material Procurement"}],t=[{id:"app1",type:"Variation Order",project:"Downtown Tower - Phase 2",submitted:"2025-05-15"},{id:"app2",type:"Work Completion Certificate",project:"Old Warehouse Demolition",submitted:"2025-05-12"}],n=[{id:"pay1",invoice:"INV-00123",project:"Downtown Tower - Phase 2",amount:"50,000 SAR",status:"Paid"},{id:"pay2",invoice:"INV-00125",project:"West Bridge Repair",amount:"25,000 SAR",status:"Pending"}];return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-blue-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-blue-600 flex items-center",children:[r.jsx(yt,{className:"mr-2 h-6 w-6"}),"Contractor Dashboard"]}),r.jsx(pe,{children:"Overview of your assigned projects, pending approvals, and payment status."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Personalized View (Mock Data):"}),r.jsx("p",{className:"text-sm",children:"This dashboard will be personalized for each logged-in contractor. The data shown is for demonstration purposes."})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(B,{className:"lg:col-span-1",children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(yt,{className:"mr-2 h-5 w-5 text-blue-600"}),"Assigned Projects"]})}),r.jsx(Q,{children:e.length>0?e.map(s=>r.jsxs("div",{className:"mb-3 pb-3 border-b last:border-b-0",children:[r.jsx("h4",{className:"font-semibold",children:s.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",s.status]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Next: ",s.nextMilestone]}),r.jsx(O,{variant:"link",size:"sm",className:"p-0 h-auto text-xs mt-1",children:r.jsx($e,{to:`/projects/${s.id}`,children:"View Details"})})]},s.id)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No projects currently assigned."})})]}),r.jsxs(B,{className:"lg:col-span-1",children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(ur,{className:"mr-2 h-5 w-5 text-orange-500"}),"Pending Approvals"]})}),r.jsx(Q,{children:t.length>0?t.map(s=>r.jsxs("div",{className:"mb-2 pb-2 border-b last:border-b-0",children:[r.jsx("h4",{className:"font-semibold text-sm",children:s.type}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Project: ",s.project]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Submitted: ",s.submitted]})]},s.id)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending approvals."})})]}),r.jsxs(B,{className:"lg:col-span-1",children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(Qe,{className:"mr-2 h-5 w-5 text-green-500"}),"Payment Status"]})}),r.jsx(Q,{children:n.length>0?n.map(s=>r.jsxs("div",{className:"mb-2 pb-2 border-b last:border-b-0",children:[r.jsxs("h4",{className:"font-semibold text-sm",children:["Invoice: ",s.invoice]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Project: ",s.project," | Amount: ",s.amount]}),r.jsxs("p",{className:`text-xs font-medium ${s.status==="Paid"?"text-green-600":"text-yellow-600"}`,children:["Status: ",s.status]})]},s.id)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment information available."})})]})]})]})},pj=()=>{const e={currentMonth:"+150,000 SAR",nextMonthForecast:"+120,000 SAR (AI Predicted)"},t={grossProfit:"850,000 SAR",netProfit:"350,000 SAR",margin:"15.5%"},n=[{site:"Downtown Tower",budgetUsed:"75%",status:"On Track"},{site:"West Bridge Project",budgetUsed:"95%",status:"Alert: Nearing Limit"},{site:"New Villa Complex",budgetUsed:"30%",status:"Under Budget"}],s={pending:15,paid:120,overdue:3};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-green-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-green-600 flex items-center",children:[r.jsx(Qe,{className:"mr-2 h-6 w-6"}),"Finance Dashboard"]}),r.jsx(pe,{children:"AI-enhanced cash flow, P&L summaries, budget status by site, and invoice tracking."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Illustrative Data & AI Placeholders:"}),r.jsx("p",{className:"text-sm",children:"Financial figures and AI predictions are for demonstration. Real data and AI models would be integrated in a full system."})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsxs(z,{className:"text-sm font-medium flex items-center text-muted-foreground",children:[r.jsx(pb,{className:"mr-1 h-4 w-4"}),"AI Cash Flow"]})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-xl font-bold",children:e.currentMonth}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Next Month: ",e.nextMonthForecast]})]})]}),r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsxs(z,{className:"text-sm font-medium flex items-center text-muted-foreground",children:[r.jsx(hb,{className:"mr-1 h-4 w-4"}),"P&L Summary"]})}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-xl font-bold",children:t.netProfit}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Gross: ",t.grossProfit," | Margin: ",t.margin]})]})]}),r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsxs(z,{className:"text-sm font-medium flex items-center text-muted-foreground",children:[r.jsx(tb,{className:"mr-1 h-4 w-4"}),"Budget Status"]})}),r.jsxs(Q,{children:[r.jsxs("p",{className:"text-xl font-bold",children:[n.filter(i=>i.status.includes("Alert")).length," Site(s) Alert"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.length," sites tracked"]})]})]}),r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsxs(z,{className:"text-sm font-medium flex items-center text-muted-foreground",children:[r.jsx(st,{className:"mr-1 h-4 w-4"}),"Invoice Tracker"]})}),r.jsxs(Q,{children:[r.jsxs("p",{className:"text-xl font-bold",children:[s.pending," Pending"]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.overdue," Overdue | ",s.paid," Paid"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(B,{children:[r.jsx(G,{children:r.jsx(z,{children:"Budget by Site (Mock)"})}),r.jsx(Q,{children:n.map(i=>r.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[r.jsx("span",{children:i.site}),r.jsxs("span",{className:`${i.status.includes("Alert")?"text-red-500":"text-green-500"} font-medium`,children:[i.budgetUsed," (",i.status,")"]})]},i.site))})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsx(z,{children:"Quick Actions"})}),r.jsxs(Q,{className:"space-y-2",children:[r.jsx(O,{variant:"outline",className:"w-full justify-start",children:"Generate P&L Report (Placeholder)"}),r.jsx(O,{variant:"outline",className:"w-full justify-start",children:"View Cash Flow Details (Placeholder)"}),r.jsx(O,{variant:"outline",className:"w-full justify-start",children:"Manage Invoices (Placeholder)"})]})]})]})]})},KU=()=>{const e={activeProjects:25,totalUsers:150,storageUsed:"75 GB / 200 GB",pendingTasks:42},t=[{id:"alert1",message:"High CPU usage on main server.",severity:"Critical",time:"5m ago"},{id:"alert2",message:"Backup failed for Project Alpha DB.",severity:"High",time:"1h ago"}],n=[{type:"Staff Insurance",name:"John Doe",expires:"2025-06-01"},{type:"Business License",name:"Contractor XYZ",expires:"2025-07-15"}];return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-purple-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-purple-600 flex items-center",children:[r.jsx(TA,{className:"mr-2 h-6 w-6"}),"Admin Dashboard"]}),r.jsx(pe,{children:"Global system statistics, alerts, access logs, and upcoming expiry notifications."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"System Overview (Mock Data):"}),r.jsx("p",{className:"text-sm",children:"This dashboard provides a high-level view of the system. Data is illustrative."})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsx(z,{className:"text-sm font-medium text-muted-foreground",children:"Active Projects"})}),r.jsx(Q,{children:r.jsx("p",{className:"text-2xl font-bold",children:e.activeProjects})})]}),r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsx(z,{className:"text-sm font-medium text-muted-foreground",children:"Total Users"})}),r.jsx(Q,{children:r.jsx("p",{className:"text-2xl font-bold",children:e.totalUsers})})]}),r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsx(z,{className:"text-sm font-medium text-muted-foreground",children:"Storage Used"})}),r.jsx(Q,{children:r.jsx("p",{className:"text-2xl font-bold",children:e.storageUsed})})]}),r.jsxs(B,{children:[r.jsx(G,{className:"pb-2",children:r.jsx(z,{className:"text-sm font-medium text-muted-foreground",children:"Pending Tasks (System)"})}),r.jsx(Q,{children:r.jsx("p",{className:"text-2xl font-bold",children:e.pendingTasks})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(B,{className:"lg:col-span-2",children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(be,{className:"mr-2 h-5 w-5 text-red-500"}),"System Alerts & Warnings"]})}),r.jsx(Q,{children:t.length>0?t.map(s=>r.jsxs("div",{className:`mb-2 p-2 rounded-md border-l-4 ${s.severity==="Critical"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50"}`,children:[r.jsx("p",{className:"font-semibold text-sm",children:s.message}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Severity: ",s.severity," | Time: ",s.time]})]},s.id)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No active system alerts."})})]}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(cA,{className:"mr-2 h-5 w-5 text-orange-500"}),"Upcoming Expiries"]})}),r.jsx(Q,{children:n.length>0?n.map(s=>r.jsxs("div",{className:"mb-1",children:[r.jsxs("p",{className:"text-sm font-medium",children:[s.type,": ",s.name]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expires: ",s.expires]})]},s.name+s.type)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No upcoming expiries."})})]})]}),r.jsxs(B,{className:"mt-6",children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(ul,{className:"mr-2 h-5 w-5"}),"System Management"]})}),r.jsxs(Q,{className:"flex flex-wrap gap-2",children:[r.jsx(O,{variant:"outline",children:"User Management (Placeholder)"}),r.jsx(O,{variant:"outline",children:"View Access Logs (Placeholder)"}),r.jsx(O,{variant:"outline",children:"System Configuration (Placeholder)"}),r.jsx(O,{variant:"outline",children:"Backup & Restore (Placeholder)"})]})]})]})},XU=({title:e,description:t,icon:n,onClick:s})=>r.jsxs(B,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(n,{className:"h-6 w-6 text-blue-500"}),r.jsx(z,{className:"text-lg",children:e})]}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t}),r.jsx(O,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Generate Report (Placeholder)"})]})]}),JU=()=>{const e=[{title:"Project Progress Report",description:"Overall project status, milestone completion, and S-curves.",icon:tb},{title:"Resource Utilization Report",description:"Tracks manpower and equipment usage against planned allocation.",icon:hb},{title:"Cost Variance Report",description:"Compares actual costs with budgeted amounts, highlighting variances.",icon:st},{title:"Telecom Test Summary",description:"Aggregated results for fiber optic tests (OTDR, power levels, splice loss).",icon:st},{title:"Safety Incident Report",description:"Summary of safety observations, near misses, and incidents.",icon:be},{title:"Quality Assurance Summary",description:"Overview of QA checks, non-conformances, and corrective actions.",icon:st}],t=n=>{alert(`Generating ${n}. This feature is a placeholder.`)};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-blue-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-blue-600 flex items-center",children:[r.jsx(st,{className:"mr-2 h-6 w-6"}),"Project Reports (Civil & Telecom)"]}),r.jsx(pe,{children:"Generate various project reports like progress S-curves, resource utilization, cost variance, and specialized telecom reports."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Under Development:"}),r.jsx("p",{className:"text-sm",children:"This module is currently a placeholder. Full report generation capabilities will be implemented based on available data."})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,s)=>r.jsx(de.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:s*.05+.1},children:r.jsx(XU,{title:n.title,description:n.description,icon:n.icon,onClick:()=>t(n.title)})},s))})]})},ZU=({title:e,description:t,icon:n,onClick:s})=>r.jsxs(B,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(n,{className:"h-6 w-6 text-green-500"}),r.jsx(z,{className:"text-lg",children:e})]}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t}),r.jsx(O,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Manage QC (Placeholder)"})]})]}),e9=()=>{const e=[{title:"Civil Works QA/QC",description:"Manage concrete strength tests, soil compaction reports, material approvals.",icon:ob},{title:"Telecom Installation QC",description:"Track fiber optic testing (OTDR, power levels), splice loss records, and equipment commissioning.",icon:AA},{title:"Non-Conformance Reports (NCRs)",description:"Log and track non-conformances and their corrective actions.",icon:be},{title:"Material Inspection Records",description:"Document incoming material inspections and approvals.",icon:bA},{title:"Test & Inspection Plans (ITPs)",description:"Define and manage Inspection and Test Plans for various activities.",icon:ur}],t=n=>{alert(`Managing Quality Control for: ${n}. This feature is a placeholder.`)};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-green-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-green-600 flex items-center",children:[r.jsx(ur,{className:"mr-2 h-6 w-6"}),"Quality Control (Civil & Telecom)"]}),r.jsx(pe,{children:"Manage quality assurance for civil works (concrete strength, soil compaction) and telecom installations (fiber optic testing - OTDR, power levels, splice loss)."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Under Development:"}),r.jsx("p",{className:"text-sm",children:"This module is currently a placeholder. Full quality control management features will be implemented."})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,s)=>r.jsx(de.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:s*.05+.1},children:r.jsx(ZU,{title:n.title,description:n.description,icon:n.icon,onClick:()=>t(n.title)})},s))})]})},lc=({title:e,description:t,icon:n,actionText:s,onAction:i})=>r.jsxs(B,{className:"shadow-md hover:shadow-lg transition-shadow",children:[r.jsxs(G,{className:"flex flex-row items-center space-x-3 pb-2",children:[r.jsx(n,{className:"h-6 w-6 text-indigo-500"}),r.jsx(z,{className:"text-lg",children:e})]}),r.jsxs(Q,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t}),i&&r.jsx(O,{variant:"outline",size:"sm",onClick:i,className:"w-full",children:s||"Access Channel"})]})]}),t9=()=>r.jsxs("div",{className:"border rounded-lg p-4 h-96 flex flex-col",children:[r.jsxs("div",{className:"flex-grow space-y-2 overflow-y-auto p-2 bg-slate-50 rounded",children:[r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-muted p-2 rounded-lg max-w-xs",children:"Hello Team! Any updates on Sector B?"})}),r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"bg-primary text-primary-foreground p-2 rounded-lg max-w-xs",children:"Working on it, trenching is 50% complete."})}),r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-muted p-2 rounded-lg max-w-xs",children:"Great, send photos when possible."})})]}),r.jsxs("div",{className:"mt-4 flex",children:[r.jsx($,{placeholder:"Type your message...",className:"flex-grow mr-2",disabled:!0}),r.jsxs(O,{disabled:!0,children:[r.jsx(DA,{className:"h-4 w-4 mr-1"}),"Send"]})]}),r.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Chat interface is a placeholder."})]}),n9=()=>{const[e,t]=f.useState("chat"),n=[{id:"chat",title:"Project Chat",description:"Real-time chat for project teams, site-wise groups, and private messages.",icon:ad,actionText:"Open Chat (Placeholder)"},{id:"notices",title:"Official Notices & RFIs",description:"Distribute official notices, site instructions, and manage Requests for Information (RFIs).",icon:st,actionText:"View Notices (Placeholder)"},{id:"alerts",title:"Emergency Broadcasts",description:"Send urgent alerts via multiple channels (SMS, Email, Push Notifications).",icon:nd,actionText:"Send Alert (Placeholder)"},{id:"voice",title:"Voice Memo Support",description:"Record and share voice memos for quick updates or instructions.",icon:Yv,actionText:"Record Memo (Placeholder)"},{id:"email",title:"Email Gateway",description:"Integrate with email for formal communication logging.",icon:od,actionText:"Access Email Log (Placeholder)"}],s=i=>{alert(`Accessing ${i}. This feature is a placeholder.`)};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-indigo-500 mb-8",children:[r.jsxs(G,{children:[r.jsxs(z,{className:"text-2xl font-bold tracking-tight text-indigo-600 flex items-center",children:[r.jsx(Ot,{className:"mr-2 h-6 w-6"}),"Communication & Notices Hub"]}),r.jsx(pe,{children:"Centralized communication for project collaboration, official notices, RFIs, and alerts for Civil & Telecom projects."})]}),r.jsx(Q,{children:r.jsxs("div",{className:"mt-2 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md flex items-start",children:[r.jsx(be,{className:"h-5 w-5 mr-3 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Under Development:"}),r.jsx("p",{className:"text-sm",children:"This module is currently a placeholder. Full communication features will be implemented with backend integration."})]})]})})]}),r.jsxs(yx,{value:e,onValueChange:t,className:"w-full",children:[r.jsx(Lu,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:grid-cols-5 mb-6",children:n.map(i=>r.jsxs(rl,{value:i.id,className:"text-xs sm:text-sm",children:[r.jsx(i.icon,{className:"mr-1.5 h-4 w-4"}),i.title]},i.id))}),r.jsx(br,{value:"chat",children:r.jsxs(B,{children:[r.jsx(G,{children:r.jsx(z,{children:"Project Chat (Placeholder)"})}),r.jsx(Q,{children:r.jsx(t9,{})})]})}),r.jsx(br,{value:"notices",children:r.jsx(lc,{title:"Official Notices & RFIs",description:"Distribute official notices, site instructions, and manage Requests for Information (RFIs).",icon:st,actionText:"Manage Notices & RFIs (Placeholder)",onAction:()=>s("Notices & RFIs")})}),r.jsx(br,{value:"alerts",children:r.jsx(lc,{title:"Emergency Broadcasts",description:"Send urgent alerts via multiple channels (SMS, Email, Push Notifications).",icon:nd,actionText:"Compose Emergency Alert (Placeholder)",onAction:()=>s("Emergency Broadcasts")})}),r.jsx(br,{value:"voice",children:r.jsx(lc,{title:"Voice Memo Support",description:"Record and share voice memos for quick updates or instructions.",icon:Yv,actionText:"Record/Listen to Memos (Placeholder)",onAction:()=>s("Voice Memos")})}),r.jsx(br,{value:"email",children:r.jsx(lc,{title:"Email Gateway",description:"Integrate with email for formal communication logging and distribution.",icon:od,actionText:"View Email Logs (Placeholder)",onAction:()=>s("Email Gateway")})})]})]})},gj=["Excavator","Bulldozer","Crane","Loader","Dump Truck","Concrete Mixer","Generator","Scaffolding","Splicing Machine","OTDR","Cable Puller"],xj=["Available","In Use","Maintenance","Unavailable"],vj=["Pending","Approved","Dispatched","Returned","Cancelled"],Ld=({onSubmit:e,initialData:t={},onCancel:n,isDispatchForm:s=!1,projectList:i=[]})=>{const[o,a]=f.useState(t.name||""),[l,c]=f.useState(t.type||gj[0]),[d,h]=f.useState(t.identifier||`EQ-${Date.now().toString().slice(-4)}`),[u,m]=f.useState(t.status||xj[0]),[p,v]=f.useState(t.lastMaintenance?new Date(t.lastMaintenance):null),[g,w]=f.useState(t.nextMaintenance?new Date(t.nextMaintenance):null),[j,y]=f.useState(t.projectId||""),[x,b]=f.useState(t.dispatchDate?new Date(t.dispatchDate):new Date),[N,M]=f.useState(t.expectedReturnDate?new Date(t.expectedReturnDate):null),[S,k]=f.useState(t.notes||""),[R,P]=f.useState(t.dispatchStatus||vj[0]),{toast:D}=fe(),C=T=>{if(T.preventDefault(),!o||!l||!d){D({variant:"destructive",title:"Missing Information",description:"Name, type, and identifier are required."});return}let I={id:t.id||d,name:o,type:l,identifier:d,status:u,lastMaintenance:p?p.toISOString():null,nextMaintenance:g?g.toISOString():null};if(s){if(!j||!x){D({variant:"destructive",title:"Missing Dispatch Info",description:"Project and dispatch date are required for dispatch."});return}I={...I,dispatchId:t.dispatchId||`DISP-${Date.now().toString().slice(-4)}`,equipmentId:t.equipmentId||t.id||d,equipmentName:o,projectId:j,dispatchDate:x.toISOString(),expectedReturnDate:N?N.toISOString():null,notes:S,dispatchStatus:R}}e(I)};return r.jsxs("form",{onSubmit:C,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"name-eq-form",children:"Equipment Name"}),r.jsx($,{id:"name-eq-form",value:o,onChange:T=>a(T.target.value),placeholder:"e.g., CAT 320D"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"identifier-eq-form",children:"Identifier/Tag"}),r.jsx($,{id:"identifier-eq-form",value:d,onChange:T=>h(T.target.value),placeholder:"e.g., EQ-001",disabled:!!t.id&&!s})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"type-eq-form",children:"Type"}),r.jsxs(te,{value:l,onValueChange:c,children:[r.jsx(Z,{id:"type-eq-form",children:r.jsx(ne,{placeholder:"Select Type"})}),r.jsx(ee,{children:gj.map(T=>r.jsx(_,{value:T,children:T},T))})]})]}),!s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"status-eq-form",children:"Status"}),r.jsxs(te,{value:u,onValueChange:m,children:[r.jsx(Z,{id:"status-eq-form",children:r.jsx(ne,{placeholder:"Select Status"})}),r.jsx(ee,{children:xj.map(T=>r.jsx(_,{value:T,children:T},T))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"lastMaintenance-eq-form",children:"Last Maintenance"}),r.jsx(ke,{id:"lastMaintenance-eq-form",date:p,setDate:v})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"nextMaintenance-eq-form",children:"Next Maintenance"}),r.jsx(ke,{id:"nextMaintenance-eq-form",date:g,setDate:w})]})]})]}),s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-eq-form",children:"Project"}),r.jsxs(te,{value:j,onValueChange:y,children:[r.jsx(Z,{id:"projectId-eq-form",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:i.map(T=>r.jsxs(_,{value:T.id,children:[T.projectName," (",T.projectCode||T.id,")"]},T.id))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"dispatchDate-eq-form",children:"Dispatch Date"}),r.jsx(ke,{id:"dispatchDate-eq-form",date:x,setDate:b})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"expectedReturnDate-eq-form",children:"Expected Return"}),r.jsx(ke,{id:"expectedReturnDate-eq-form",date:N,setDate:M})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"dispatchStatus-eq-form",children:"Dispatch Status"}),r.jsxs(te,{value:R,onValueChange:P,children:[r.jsx(Z,{id:"dispatchStatus-eq-form",children:r.jsx(ne,{placeholder:"Select Dispatch Status"})}),r.jsx(ee,{children:vj.map(T=>r.jsx(_,{value:T,children:T},T))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"notes-eq-form",children:"Notes"}),r.jsx(we,{id:"notes-eq-form",value:S,onChange:T=>k(T.target.value),placeholder:"Dispatch notes, conditions..."})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[n&&r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id||t.dispatchId?s?"Update Dispatch":"Update Equipment":s?"Create Dispatch":"Add Equipment"})]})]})},Kf=({status:e,type:t="equipment"})=>{let n="bg-gray-100 text-gray-700",s=Pn;return t==="equipment"?e==="Available"?(n="bg-green-100 text-green-700",s=ar):e==="In Use"?(n="bg-blue-100 text-blue-700",s=hr):e==="Maintenance"?(n="bg-yellow-100 text-yellow-700",s=vb):e==="Unavailable"&&(n="bg-red-100 text-red-700",s=ai):t==="dispatch"&&(e==="Pending"?(n="bg-yellow-100 text-yellow-700",s=Pn):e==="Approved"?(n="bg-sky-100 text-sky-700",s=ar):e==="Dispatched"?(n="bg-blue-100 text-blue-700",s=hr):e==="Returned"?(n="bg-green-100 text-green-700",s=ar):e==="Cancelled"&&(n="bg-red-100 text-red-700",s=ai)),r.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium inline-flex items-center ${n}`,children:[r.jsx(s,{className:"h-3 w-3 mr-1.5"}),e||"N/A"]})},r9=["Excavator","Bulldozer","Crane","Loader","Dump Truck","Concrete Mixer","Generator","Scaffolding","Splicing Machine","OTDR","Cable Puller"],s9=["Available","In Use","Maintenance","Unavailable"],i9=["Pending","Approved","Dispatched","Returned","Cancelled"],o9=()=>{const[e,t]=je("cmsEquipment",[]),[n,s]=je("cmsDispatchLog",[]),[i]=je("projects",[]),[o,a]=f.useState(!1),[l,c]=f.useState(!1),[d,h]=f.useState(null),[u,m]=f.useState(""),[p,v]=f.useState("All Types"),[g,w]=f.useState("All Statuses"),{toast:j}=fe(),y=D=>{d&&d.id&&!d.dispatchId?(t(C=>C.map(T=>T.id===D.id?D:T)),j({title:"Equipment Updated",description:`${D.name} details saved.`})):(t(C=>[...C,D]),j({title:"Equipment Added",description:`${D.name} added to inventory.`})),a(!1),h(null)},x=D=>{if(d&&d.dispatchId)s(C=>C.map(T=>T.dispatchId===D.dispatchId?D:T)),j({title:"Dispatch Updated",description:`Dispatch for ${D.equipmentName} updated.`});else{s(T=>[D,...T].sort((I,W)=>new Date(W.dispatchDate)-new Date(I.dispatchDate)));const C=e.find(T=>T.id===D.equipmentId);C&&C.status==="Available"&&(D.dispatchStatus==="Approved"||D.dispatchStatus==="Dispatched")&&t(T=>T.map(I=>I.id===D.equipmentId?{...I,status:"In Use"}:I)),j({title:"Equipment Dispatched",description:`${D.equipmentName} scheduled for dispatch.`})}c(!1),h(null)},b=D=>{window.confirm("Are you sure you want to delete this equipment?")&&(t(C=>C.filter(T=>T.id!==D)),j({title:"Equipment Deleted",variant:"destructive"}))},N=D=>{window.confirm("Are you sure you want to delete this dispatch record?")&&(s(C=>C.filter(T=>T.dispatchId!==D)),j({title:"Dispatch Record Deleted",variant:"destructive"}))},M=D=>{h(D),a(!0)},S=D=>{h(D),c(!0)},k=D=>{if(D.status!=="Available"){j({variant:"destructive",title:"Equipment Not Available",description:`${D.name} is currently ${D.status}.`});return}h({...D,equipmentId:D.id}),c(!0)},R=f.useMemo(()=>e.filter(D=>(D.name.toLowerCase().includes(u.toLowerCase())||D.identifier.toLowerCase().includes(u.toLowerCase()))&&(p==="All Types"||D.type===p)&&(g==="All Statuses"||D.status===g)),[e,u,p,g]),P=f.useMemo(()=>n.filter(D=>{var C,T;return(D.equipmentName.toLowerCase().includes(u.toLowerCase())||(((C=i.find(I=>I.id===D.projectId))==null?void 0:C.projectName)||"").toLowerCase().includes(u.toLowerCase()))&&(p==="All Types"||((T=e.find(I=>I.id===D.equipmentId))==null?void 0:T.type)===p)&&(g==="All Statuses"||D.dispatchStatus===g)}).sort((D,C)=>new Date(C.dispatchDate)-new Date(D.dispatchDate)),[n,u,p,g,e,i]);return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-primary",children:[r.jsxs(G,{className:"bg-gradient-to-r from-primary/10 to-accent/10",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold text-primary flex items-center",children:[r.jsx(hr,{className:"mr-3 h-7 w-7"}),"Equipment Inventory & Dispatch"]}),r.jsx(pe,{children:"Manage construction equipment and their dispatch logistics."})]}),r.jsx("div",{className:"mt-4 md:mt-0 flex space-x-2",children:r.jsxs(O,{onClick:()=>{h(null),a(!0)},className:"bg-primary hover:bg-primary/90",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," Add Equipment"]})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx($,{placeholder:"Search equipment or project...",className:"pl-10 w-full",value:u,onChange:D=>m(D.target.value)})]}),r.jsxs(te,{value:p,onValueChange:v,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{placeholder:"Filter by Type"})]})}),r.jsx(ee,{children:["All Types",...r9].map(D=>r.jsx(_,{value:D,children:D},D))})]}),r.jsxs(te,{value:g,onValueChange:w,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{placeholder:"Filter by Status"})]})}),r.jsx(ee,{children:["All Statuses",...s9,...i9].map(D=>r.jsx(_,{value:D,children:D},D))})]})]})]}),r.jsx(Q,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Name"}),r.jsx(K,{children:"Identifier"}),r.jsx(K,{children:"Type"}),r.jsx(K,{children:"Status"}),r.jsx(K,{children:"Last Maintenance"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsxs($t,{children:[R.length===0&&r.jsx(De,{children:r.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No equipment found."})}),R.map(D=>r.jsxs(De,{className:"hover:bg-muted/50",children:[r.jsx(Y,{className:"font-medium",children:D.name}),r.jsx(Y,{children:D.identifier}),r.jsx(Y,{children:D.type}),r.jsx(Y,{children:r.jsx(Kf,{status:D.status,type:"equipment"})}),r.jsx(Y,{children:D.lastMaintenance?Pe(new Date(D.lastMaintenance),"dd MMM yyyy"):"N/A"}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"outline",size:"sm",onClick:()=>k(D),disabled:D.status!=="Available",className:"text-xs",children:"Dispatch"}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>M(D),title:"Edit",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>b(D.id),title:"Delete",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},D.id))]})]})})})]}),r.jsxs(B,{className:"shadow-xl border-t-4 border-blue-500",children:[r.jsxs(G,{className:"bg-gradient-to-r from-blue-500/10 to-sky-500/10",children:[r.jsxs(z,{className:"text-2xl font-bold text-blue-600 flex items-center",children:[r.jsx(Vn,{className:"mr-3 h-7 w-7"}),"Dispatch Log"]}),r.jsx(pe,{children:"Track all equipment dispatch activities."})]}),r.jsx(Q,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Equipment"}),r.jsx(K,{children:"Project"}),r.jsx(K,{children:"Dispatch Date"}),r.jsx(K,{children:"Return Date"}),r.jsx(K,{children:"Status"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsxs($t,{children:[P.length===0&&r.jsx(De,{children:r.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No dispatch records found."})}),P.map(D=>{var C;return r.jsxs(De,{className:"hover:bg-muted/50",children:[r.jsxs(Y,{className:"font-medium",children:[D.equipmentName," (",D.equipmentId,")"]}),r.jsx(Y,{children:((C=i.find(T=>T.id===D.projectId))==null?void 0:C.projectName)||D.projectId}),r.jsx(Y,{children:Pe(new Date(D.dispatchDate),"dd MMM yyyy")}),r.jsx(Y,{children:D.expectedReturnDate?Pe(new Date(D.expectedReturnDate),"dd MMM yyyy"):"N/A"}),r.jsx(Y,{children:r.jsx(Kf,{status:D.dispatchStatus,type:"dispatch"})}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>S(D),title:"Edit Dispatch",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>N(D.dispatchId),title:"Delete Dispatch",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},D.dispatchId)})]})]})})})]}),r.jsx(tt,{open:o,onOpenChange:D=>{D||h(null),a(D)},children:r.jsxs(Ke,{className:"sm:max-w-lg",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:d?"Edit Equipment":"Add New Equipment"}),r.jsx(ut,{children:d?"Update details for this equipment.":"Enter details for the new equipment."})]}),r.jsx(Ld,{onSubmit:y,initialData:d||{},onCancel:()=>{a(!1),h(null)},projectList:i})]})}),r.jsx(tt,{open:l,onOpenChange:D=>{D||h(null),c(D)},children:r.jsxs(Ke,{className:"sm:max-w-lg",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:d!=null&&d.dispatchId?"Edit Dispatch":"Create New Dispatch"}),r.jsx(ut,{children:d!=null&&d.dispatchId?`Update dispatch for ${d.name}.`:`Dispatch ${(d==null?void 0:d.name)||"equipment"} to a project.`})]}),r.jsx(Ld,{onSubmit:x,initialData:d||{},onCancel:()=>{c(!1),h(null)},isDispatchForm:!0,projectList:i})]})})]})},a9=["Excavator","Bulldozer","Crane","Loader","Dump Truck","Concrete Mixer","Generator","Scaffolding","Splicing Machine","OTDR","Cable Puller"],l9=["Available","In Use","Maintenance","Unavailable"],c9=()=>{const{user:e}=bl(),{toast:t}=fe(),n=Cn(Fe.equipment.listEquipment)||[],s=Cn(Fe.equipment.listDispatches)||[],i=Cn(Fe.projects.listProjects)||[],o=xt(Fe.equipment.createEquipment),a=xt(Fe.equipment.updateEquipment),l=xt(Fe.equipment.deleteEquipment),c=xt(Fe.equipment.createDispatch),d=xt(Fe.equipment.updateDispatch),h=xt(Fe.equipment.deleteDispatch),[u,m]=f.useState(!1),[p,v]=f.useState(!1),[g,w]=f.useState(null),[j,y]=f.useState(""),[x,b]=f.useState("All Types"),[N,M]=f.useState("All Statuses"),S=async L=>{try{g&&g._id&&!g.dispatchId?(await a({equipmentId:L._id,...L}),t({title:"Equipment Updated",description:`${L.name} details saved.`})):(await o({...L,createdBy:(e==null?void 0:e.userId)||"anonymous"}),t({title:"Equipment Added",description:`${L.name} added to inventory.`})),m(!1),w(null)}catch{t({variant:"destructive",title:"Save Failed",description:"Could not save equipment. Please try again."})}},k=async L=>{try{if(g&&g.dispatchId)await d({dispatchId:L.dispatchId,...L}),t({title:"Dispatch Updated",description:`Dispatch for ${L.equipmentName} updated.`});else{const V={...L,createdBy:(e==null?void 0:e.userId)||"anonymous"};await c(V);const A=n.find(F=>F._id===L.equipmentId);A&&A.status==="Available"&&(L.dispatchStatus==="Approved"||L.dispatchStatus==="Dispatched")&&await a({equipmentId:L.equipmentId,status:"In Use"}),t({title:"Equipment Dispatched",description:`${L.equipmentName} scheduled for dispatch.`})}v(!1),w(null)}catch{t({variant:"destructive",title:"Dispatch Failed",description:"Could not process dispatch. Please try again."})}},R=async L=>{if(window.confirm("Are you sure you want to delete this equipment?"))try{await l({equipmentId:L}),t({title:"Equipment Deleted",variant:"destructive"})}catch{t({variant:"destructive",title:"Delete Failed",description:"Could not delete equipment. Please try again."})}},P=async L=>{if(window.confirm("Are you sure you want to delete this dispatch record?"))try{await h({dispatchId:L}),t({title:"Dispatch Record Deleted",variant:"destructive"})}catch{t({variant:"destructive",title:"Delete Failed",description:"Could not delete dispatch record. Please try again."})}},D=L=>{w(L),m(!0)},C=L=>{w(L),v(!0)},T=L=>{w({equipmentId:L._id,equipmentName:L.name,equipmentType:L.equipmentType}),v(!0)},I=f.useMemo(()=>n.filter(L=>{const V=L.name.toLowerCase().includes(j.toLowerCase())||L.equipmentType.toLowerCase().includes(j.toLowerCase())||L.serialNumber&&L.serialNumber.toLowerCase().includes(j.toLowerCase()),A=x==="All Types"||L.equipmentType===x,F=N==="All Statuses"||L.status===N;return V&&A&&F}),[n,j,x,N]),W=L=>{if(!L)return"Not set";try{return Pe(new Date(L),"MMM dd, yyyy")}catch{return"Invalid date"}};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-orange-500",children:[r.jsxs(G,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold text-orange-700 flex items-center",children:[r.jsx(hr,{className:"mr-3 h-7 w-7"}),"Equipment Dispatch Management"]}),r.jsx(pe,{children:"Manage equipment inventory and dispatch operations for construction projects."})]}),r.jsx("div",{className:"flex space-x-2 mt-4 md:mt-0",children:r.jsxs(O,{onClick:()=>m(!0),className:"bg-orange-600 hover:bg-orange-700",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Equipment"]})})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx($,{placeholder:"Search equipment...",className:"pl-10 w-full",value:j,onChange:L=>y(L.target.value)})]}),r.jsxs(te,{value:x,onValueChange:b,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx(ne,{placeholder:"Filter by Type"})]})}),r.jsxs(ee,{children:[r.jsx(_,{value:"All Types",children:"All Types"}),a9.map(L=>r.jsx(_,{value:L,children:L},L))]})]}),r.jsxs(te,{value:N,onValueChange:M,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"}),r.jsx(ne,{placeholder:"Filter by Status"})]})}),r.jsxs(ee,{children:[r.jsx(_,{value:"All Statuses",children:"All Statuses"}),l9.map(L=>r.jsx(_,{value:L,children:L},L))]})]})]})]}),r.jsx(Q,{children:I.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No Equipment Found"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n.length===0?"Start by adding your first equipment item.":"Try adjusting your search or filter criteria."}),n.length===0&&r.jsxs(O,{onClick:()=>m(!0),children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add First Equipment"]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Equipment Name"}),r.jsx(K,{children:"Type"}),r.jsx(K,{children:"Serial Number"}),r.jsx(K,{children:"Status"}),r.jsx(K,{children:"Location"}),r.jsx(K,{children:"Last Maintained"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:I.map(L=>r.jsxs(De,{children:[r.jsx(Y,{className:"font-medium",children:L.name}),r.jsx(Y,{children:L.equipmentType}),r.jsx(Y,{children:L.serialNumber||"N/A"}),r.jsx(Y,{children:r.jsx(Kf,{status:L.status})}),r.jsx(Y,{children:L.currentLocation||"Warehouse"}),r.jsx(Y,{children:W(L.lastMaintenance)}),r.jsx(Y,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[L.status==="Available"&&r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>T(L),className:"text-green-600 hover:text-green-800",children:"Dispatch"}),r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>D(L),children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>R(L._id),className:"text-red-600 hover:text-red-800",children:r.jsx(Re,{className:"h-4 w-4"})})]})})]},L._id))})]})})})]}),s.length>0&&r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(Vn,{className:"mr-2 h-5 w-5"}),"Recent Dispatches"]})}),r.jsx(Q,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Equipment"}),r.jsx(K,{children:"Project"}),r.jsx(K,{children:"Dispatch Date"}),r.jsx(K,{children:"Status"}),r.jsx(K,{children:"Operator"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:s.slice(0,10).map(L=>r.jsxs(De,{children:[r.jsx(Y,{className:"font-medium",children:L.equipmentName}),r.jsx(Y,{children:L.projectName||"N/A"}),r.jsx(Y,{children:W(L.dispatchDate)}),r.jsx(Y,{children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.dispatchStatus==="Dispatched"?"bg-green-100 text-green-800":L.dispatchStatus==="Pending"?"bg-yellow-100 text-yellow-800":L.dispatchStatus==="Returned"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:L.dispatchStatus})}),r.jsx(Y,{children:L.operatorName||"N/A"}),r.jsx(Y,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>C(L),children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"sm",onClick:()=>P(L._id),className:"text-red-600 hover:text-red-800",children:r.jsx(Re,{className:"h-4 w-4"})})]})})]},L._id))})]})})})]}),r.jsx(tt,{open:u,onOpenChange:m,children:r.jsxs(Ke,{className:"sm:max-w-[600px]",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:g!=null&&g._id?"Edit Equipment":"Add New Equipment"}),r.jsx(ut,{children:g!=null&&g._id?"Update equipment information":"Add a new piece of equipment to the inventory"})]}),r.jsx(Ld,{equipment:g,onSave:S,onCancel:()=>{m(!1),w(null)}})]})}),r.jsx(tt,{open:p,onOpenChange:v,children:r.jsxs(Ke,{className:"sm:max-w-[600px]",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:g!=null&&g.dispatchId?"Edit Dispatch":"New Equipment Dispatch"}),r.jsx(ut,{children:g!=null&&g.dispatchId?"Update dispatch information":"Schedule equipment for dispatch to a project site"})]}),r.jsx(Ld,{equipment:g,projects:i,isDispatchMode:!0,onSave:k,onCancel:()=>{v(!1),w(null)}})]})})]})},yj=["Pending","In Progress","Completed","Blocked","On Hold"],jj=["Low","Medium","High","Urgent"],d9=({onSubmit:e,initialData:t={},onCancel:n,projectList:s=[],personnelList:i=[]})=>{const[o,a]=f.useState(t.taskName||""),[l,c]=f.useState(t.projectId||""),[d,h]=f.useState(t.assigneeId||""),[u,m]=f.useState(t.description||""),[p,v]=f.useState(t.startDate?new Date(t.startDate):null),[g,w]=f.useState(t.dueDate?new Date(t.dueDate):null),[j,y]=f.useState(t.status||yj[0]),[x,b]=f.useState(t.priority||jj[1]),{toast:N}=fe(),M=S=>{if(S.preventDefault(),!o||!l||!g){N({variant:"destructive",title:"Missing Information",description:"Task name, project, and due date are required."});return}if(p&&g&&new Date(g)<new Date(p)){N({variant:"destructive",title:"Invalid Dates",description:"Due date cannot be before start date."});return}e({id:t.id||`TASK-${Date.now().toString().slice(-5)}`,taskName:o,projectId:l,assigneeId:d,description:u,startDate:p?p.toISOString():null,dueDate:g.toISOString(),status:j,priority:x})};return r.jsxs("form",{onSubmit:M,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"taskName-taskform",children:"Task Name"}),r.jsx($,{id:"taskName-taskform",value:o,onChange:S=>a(S.target.value),placeholder:"e.g., Foundation Pouring"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"projectId-taskform",children:"Project"}),r.jsxs(te,{value:l,onValueChange:c,children:[r.jsx(Z,{id:"projectId-taskform",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:s.map(S=>r.jsxs(_,{value:S.id,children:[S.projectName," (",S.projectCode||S.id,")"]},S.id))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"assigneeId-taskform",children:"Assignee (Optional)"}),r.jsxs(te,{value:d,onValueChange:h,children:[r.jsx(Z,{id:"assigneeId-taskform",children:r.jsx(ne,{placeholder:"Select Assignee"})}),r.jsx(ee,{children:i.map(S=>r.jsxs(_,{value:S.id,children:[S.name," (",S.staffId||S.id,")"]},S.id))})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"description-taskform",children:"Description"}),r.jsx(we,{id:"description-taskform",value:u,onChange:S=>m(S.target.value),placeholder:"Task details..."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"startDate-taskform",children:"Start Date (Optional)"}),r.jsx(ke,{id:"startDate-taskform",date:p,setDate:v})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"dueDate-taskform",children:"Due Date"}),r.jsx(ke,{id:"dueDate-taskform",date:g,setDate:w})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"status-taskform",children:"Status"}),r.jsxs(te,{value:j,onValueChange:y,children:[r.jsx(Z,{id:"status-taskform",children:r.jsx(ne,{placeholder:"Select Status"})}),r.jsx(ee,{children:yj.map(S=>r.jsx(_,{value:S,children:S},S))})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"priority-taskform",children:"Priority"}),r.jsxs(te,{value:x,onValueChange:b,children:[r.jsx(Z,{id:"priority-taskform",children:r.jsx(ne,{placeholder:"Select Priority"})}),r.jsx(ee,{children:jj.map(S=>r.jsx(_,{value:S,children:S},S))})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[n&&r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Task":"Add Task"})]})]})},u9=({status:e})=>{let t="bg-gray-100 text-gray-700",n=Pn;return e==="Pending"?(t="bg-yellow-100 text-yellow-700",n=Pn):e==="In Progress"?(t="bg-blue-100 text-blue-700",n=Pn):e==="Completed"?(t="bg-green-100 text-green-700",n=ar):e==="Blocked"?(t="bg-red-100 text-red-700",n=ai):e==="On Hold"&&(t="bg-orange-100 text-orange-700",n=be),r.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium inline-flex items-center ${t}`,children:[r.jsx(n,{className:"h-3 w-3 mr-1.5"}),e||"N/A"]})},h9=["Pending","In Progress","Completed","Blocked","On Hold"],wj=()=>{const[e,t]=je("cmsTasks",[]),[n]=je("projects",[]),[s]=je("staff",[]),[i,o]=f.useState(!1),[a,l]=f.useState(null),[c,d]=f.useState(""),[h,u]=f.useState("All Projects"),[m,p]=f.useState("All Statuses"),{toast:v}=fe(),g=x=>{a?(t(b=>b.map(N=>N.id===x.id?x:N)),v({title:"Task Updated"})):(t(b=>[x,...b].sort((N,M)=>new Date(N.dueDate)-new Date(M.dueDate))),v({title:"Task Added"})),o(!1),l(null)},w=x=>{window.confirm("Delete this task?")&&(t(b=>b.filter(N=>N.id!==x)),v({title:"Task Deleted",variant:"destructive"}))},j=x=>{l(x),o(!0)},y=f.useMemo(()=>e.filter(x=>x.taskName.toLowerCase().includes(c.toLowerCase())&&(h==="All Projects"||x.projectId===h)&&(m==="All Statuses"||x.status===m)).sort((x,b)=>new Date(x.dueDate)-new Date(b.dueDate)),[e,c,h,m]);return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-purple-600",children:[r.jsxs(G,{className:"bg-gradient-to-r from-purple-600/10 to-indigo-600/10",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold text-purple-700 flex items-center",children:[r.jsx(Ba,{className:"mr-3 h-7 w-7"}),"Schedules & Tasks"]}),r.jsx(pe,{children:"Manage project timelines, tasks, and assignments."})]}),r.jsxs(O,{onClick:()=>{l(null),o(!0)},className:"mt-4 md:mt-0 bg-purple-600 hover:bg-purple-700",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," Add New Task"]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx($,{placeholder:"Search by task name...",className:"pl-10 w-full",value:c,onChange:x=>d(x.target.value)})]}),r.jsxs(te,{value:h,onValueChange:u,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{placeholder:"Filter by Project"})]})}),r.jsx(ee,{children:["All Projects",...n.map(x=>({value:x.id,label:`${x.projectName} (${x.projectCode||x.id})`}))].map(x=>r.jsx(_,{value:x.value,children:x.label||x.value},x.value))})]}),r.jsxs(te,{value:m,onValueChange:p,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{placeholder:"Filter by Status"})]})}),r.jsx(ee,{children:["All Statuses",...h9].map(x=>r.jsx(_,{value:x,children:x},x))})]})]})]}),r.jsx(Q,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Task Name"}),r.jsx(K,{children:"Project"}),r.jsx(K,{children:"Assignee"}),r.jsx(K,{children:"Due Date"}),r.jsx(K,{children:"Priority"}),r.jsx(K,{children:"Status"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsxs($t,{children:[y.length===0&&r.jsx(De,{children:r.jsx(Y,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No tasks found."})}),y.map(x=>{var N,M;const b=new Date(x.dueDate)<new Date&&x.status!=="Completed";return r.jsxs(De,{className:`hover:bg-muted/50 ${b?"bg-red-500/10":""}`,children:[r.jsx(Y,{className:"font-medium",children:x.taskName}),r.jsx(Y,{children:((N=n.find(S=>S.id===x.projectId))==null?void 0:N.projectName)||"N/A"}),r.jsx(Y,{children:((M=s.find(S=>S.id===x.assigneeId))==null?void 0:M.name)||"Unassigned"}),r.jsxs(Y,{className:b?"font-bold text-red-600":"",children:[Pe(new Date(x.dueDate),"dd MMM yyyy"),b&&r.jsx(be,{className:"inline ml-1 h-4 w-4"})]}),r.jsx(Y,{children:r.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${x.priority==="Urgent"?"bg-red-500 text-white":x.priority==="High"?"bg-orange-400 text-white":x.priority==="Medium"?"bg-yellow-400 text-gray-800":"bg-blue-400 text-white"}`,children:x.priority})}),r.jsx(Y,{children:r.jsx(u9,{status:x.status})}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>j(x),title:"Edit",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>w(x.id),title:"Delete",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},x.id)})]})]})})})]}),r.jsx(tt,{open:i,onOpenChange:x=>{x||l(null),o(x)},children:r.jsxs(Ke,{className:"sm:max-w-lg",children:[r.jsx(Xe,{children:r.jsx(Je,{children:a?"Edit Task":"Add New Task"})}),r.jsx(d9,{onSubmit:g,initialData:a||{},onCancel:()=>{o(!1),l(null)},projectList:n,personnelList:s})]})})]})},m9=["Sunny","Partly Cloudy","Cloudy","Overcast","Light Rain","Heavy Rain","Windy","Foggy","Snow","Hail"],f9=[{id:"EQ001",name:"Excavator"},{id:"EQ002",name:"Splicing Machine"},{id:"EQ003",name:"OTDR"},{id:"EQ004",name:"Crane"},{id:"EQ005",name:"Concrete Mixer"},{id:"EQ006",name:"Compactor"},{id:"EQ007",name:"Dump Truck"},{id:"EQ008",name:"Cable Puller"}],bj=[{id:"MAT001",name:"Fiber Optic Cable (meters)"},{id:"MAT002",name:"Splice Closures (units)"},{id:"MAT003",name:"Concrete Bags (units)"},{id:"MAT004",name:"Conduit Pipes (meters)"},{id:"MAT005",name:"Gravel (cu.m)"},{id:"MAT006",name:"Rebar (kg)"}],Xn=({id:e,label:t,children:n})=>r.jsxs("div",{children:[r.jsx(E,{htmlFor:e,children:t}),n]}),Ls=({title:e,icon:t,children:n,iconColor:s="text-gray-600"})=>r.jsxs(B,{className:"p-4 bg-slate-50",children:[r.jsx(G,{className:"p-0 pb-2",children:r.jsxs(z,{className:"text-md flex items-center",children:[r.jsx(t,{className:`mr-2 h-5 w-5 ${s}`}),e]})}),r.jsx(Q,{className:"p-0 space-y-3",children:n})]}),p9=({onSubmit:e,initialData:t={},onCancel:n,projects:s})=>{var he;const[i,o]=f.useState(t.logDate?new Date(t.logDate):new Date),[a,l]=f.useState(t.projectId||""),[c,d]=f.useState(t.siteLocation||""),[h,u]=f.useState(t.weather||""),[m,p]=f.useState(t.temperature||""),[v,g]=f.useState(t.windSpeed||""),[w,j]=f.useState(((he=t.manpowerCount)==null?void 0:he.toString())||""),[y,x]=f.useState(t.teamsOnSite||""),[b,N]=f.useState(t.equipmentUsed||[{equipmentId:"",hours:"",notes:""}]),[M,S]=f.useState(t.workAccomplished||""),[k,R]=f.useState(t.materialsConsumed||[{materialId:"",quantity:"",unit:""}]),[P,D]=f.useState(t.safetyObservations||""),[C,T]=f.useState(t.delaysOrIssues||""),[I,W]=f.useState(t.attachments||[]),{toast:L}=fe(),V=(q,me,oe,ae,Me)=>{var Ne;const Ee=[...q];if(Ee[oe][ae]=Me,ae==="materialId"&&q===k){const Ce=bj.find(Le=>Le.id===Me);Ee[oe].unit=Ce&&((Ne=Ce.name.split("(")[1])==null?void 0:Ne.replace(")",""))||""}me(Ee)},A=(q,me,oe)=>me([...q,oe]),F=(q,me,oe)=>me(q.filter((ae,Me)=>Me!==oe)),J=q=>{if(q.target.files){const me=Array.from(q.target.files).map(oe=>({name:oe.name,type:oe.type,size:oe.size,id:`FILE-${Date.now()}-${Math.random().toString(36).substr(2,5)}`}));W(oe=>[...oe,...me].slice(0,5)),I.length+me.length>5&&L({variant:"warning",title:"File Limit",description:"Maximum 5 attachments allowed."})}},H=q=>W(I.filter(me=>me.id!==q)),re=q=>{if(q.preventDefault(),!a||!M){L({variant:"destructive",title:"Missing Fields",description:"Project and Work Accomplished are required."});return}e({id:t.id||`LOG-${Date.now().toString().slice(-5)}`,logDate:i.toISOString(),projectId:a,siteLocation:c,weather:h,temperature:m,windSpeed:v,manpowerCount:parseInt(w)||0,teamsOnSite:y,equipmentUsed:b.filter(me=>me.equipmentId&&me.hours),workAccomplished:M,materialsConsumed:k.filter(me=>me.materialId&&me.quantity),safetyObservations:P,delaysOrIssues:C,attachments:I})};return r.jsxs("form",{onSubmit:re,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Xn,{id:"logDate-dlform",label:"Log Date",children:r.jsx(ke,{id:"logDate-dlform",date:i,setDate:o})}),r.jsx(Xn,{id:"projectId-dlform",label:"Project",children:r.jsxs(te,{value:a,onValueChange:l,children:[r.jsx(Z,{id:"projectId-dlform",children:r.jsx(ne,{placeholder:"Select Project"})}),r.jsx(ee,{children:(s||[]).map(q=>r.jsxs(_,{value:q.id,children:[q.projectName," (",q.projectCode||q.id,")"]},q.id))})]})})]}),r.jsx(Xn,{id:"siteLocation-dlform",label:"Site Location/Area",children:r.jsx($,{id:"siteLocation-dlform",value:c,onChange:q=>d(q.target.value),placeholder:"e.g., Sector C, Manhole MH-105, Fiber Route KM 5.5"})}),r.jsx(Ls,{title:"Weather Conditions",icon:RA,iconColor:"text-orange-500",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Xn,{id:"weather-dlform",label:"General Condition",children:r.jsxs(te,{value:h,onValueChange:u,children:[r.jsx(Z,{id:"weather-dlform",children:r.jsx(ne,{placeholder:"Select Condition"})}),r.jsx(ee,{children:m9.map(q=>r.jsx(_,{value:q,children:q},q))})]})}),r.jsx(Xn,{id:"temperature-dlform",label:"Temperature (C)",children:r.jsx($,{id:"temperature-dlform",value:m,onChange:q=>p(q.target.value),placeholder:"e.g., 28"})}),r.jsx(Xn,{id:"windSpeed-dlform",label:"Wind Speed (km/h)",children:r.jsx($,{id:"windSpeed-dlform",value:v,onChange:q=>g(q.target.value),placeholder:"e.g., 15"})})]})}),r.jsx(Ls,{title:"Manpower",icon:Ot,iconColor:"text-blue-500",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Xn,{id:"manpowerCount-dlform",label:"Total on Site",children:r.jsx($,{id:"manpowerCount-dlform",type:"number",value:w,onChange:q=>j(q.target.value),placeholder:"e.g., 15"})}),r.jsx(Xn,{id:"teamsOnSite-dlform",label:"Teams Present (e.g., Civil, Splicing)",children:r.jsx($,{id:"teamsOnSite-dlform",value:y,onChange:q=>x(q.target.value),placeholder:"Civil Team A, Splicing Team B, QA/QC"})})]})}),r.jsxs(Ls,{title:"Equipment Usage",icon:vb,iconColor:"text-gray-600",children:[b.map((q,me)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 items-end",children:[r.jsxs("div",{className:"col-span-12 md:col-span-4",children:[r.jsx(E,{className:"text-xs",children:"Equipment"}),r.jsxs(te,{value:q.equipmentId,onValueChange:oe=>V(b,N,me,"equipmentId",oe),children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Select Equipment"})}),r.jsx(ee,{children:f9.map(oe=>r.jsx(_,{value:oe.id,children:oe.name},oe.id))})]})]}),r.jsxs("div",{className:"col-span-6 md:col-span-2",children:[r.jsx(E,{className:"text-xs",children:"Hours Used"}),r.jsx($,{type:"number",value:q.hours,onChange:oe=>V(b,N,me,"hours",oe.target.value),placeholder:"e.g., 8"})]}),r.jsxs("div",{className:"col-span-6 md:col-span-4",children:[r.jsx(E,{className:"text-xs",children:"Notes"}),r.jsx($,{value:q.notes,onChange:oe=>V(b,N,me,"notes",oe.target.value),placeholder:"e.g. Standby, Minor issue"})]}),r.jsx("div",{className:"col-span-12 md:col-span-2",children:r.jsx(O,{type:"button",variant:"destructive",size:"sm",onClick:()=>F(b,N,me),className:"w-full",children:r.jsx(Re,{className:"h-4 w-4"})})})]},me)),r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>A(b,N,{equipmentId:"",hours:"",notes:""}),children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Equipment"]})]}),r.jsx(Ls,{title:"Work Accomplished",icon:ur,iconColor:"text-green-600",children:r.jsx(we,{value:M,onChange:q=>S(q.target.value),placeholder:"Detail tasks like: Trenching 100m (Location X to Y), Cable Pulling 500m (MH-1 to MH-2), Spliced 24 fibers (Closure Z), Concrete poured for Foundation A...",rows:4})}),r.jsxs(Ls,{title:"Materials Consumed",icon:uo,iconColor:"text-indigo-500",children:[k.map((q,me)=>r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[r.jsxs("div",{className:"col-span-12 md:col-span-5",children:[r.jsx(E,{className:"text-xs",children:"Material"}),r.jsxs(te,{value:q.materialId,onValueChange:oe=>V(k,R,me,"materialId",oe),children:[r.jsx(Z,{children:r.jsx(ne,{placeholder:"Select Material"})}),r.jsx(ee,{children:bj.map(oe=>r.jsx(_,{value:oe.id,children:oe.name},oe.id))})]})]}),r.jsxs("div",{className:"col-span-4 md:col-span-3",children:[r.jsx(E,{className:"text-xs",children:"Quantity"}),r.jsx($,{type:"number",value:q.quantity,onChange:oe=>V(k,R,me,"quantity",oe.target.value),placeholder:"e.g., 100"})]}),r.jsxs("div",{className:"col-span-4 md:col-span-2",children:[r.jsx(E,{className:"text-xs",children:"Unit"}),r.jsx($,{value:q.unit,disabled:!0,placeholder:"Unit"})]}),r.jsx("div",{className:"col-span-4 md:col-span-2",children:r.jsx(O,{type:"button",variant:"destructive",size:"sm",onClick:()=>F(k,R,me),className:"w-full",children:r.jsx(Re,{className:"h-4 w-4"})})})]},me)),r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>A(k,R,{materialId:"",quantity:"",unit:""}),children:[r.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Material"]})]}),r.jsxs(Ls,{title:"Safety & Issues",icon:be,iconColor:"text-red-500",children:[r.jsx(Xn,{id:"safetyObservations-dlform",label:"Safety Observations/Incidents",children:r.jsx(we,{id:"safetyObservations-dlform",value:P,onChange:q=>D(q.target.value),placeholder:"Toolbox talks, PPE compliance, near misses, incidents, good practices..."})}),r.jsx(Xn,{id:"delaysOrIssues-dlform",label:"Delays or Issues Encountered",children:r.jsx(we,{id:"delaysOrIssues-dlform",value:C,onChange:q=>T(q.target.value),placeholder:"Access problems, equipment breakdown, material shortage, RFI raised..."})})]}),r.jsxs(Ls,{title:"Attachments (Max 5)",icon:tn,iconColor:"text-purple-500",children:[r.jsx($,{id:"attachments-dlform",type:"file",multiple:!0,onChange:J,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx"}),I.length>0&&r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1 mt-2",children:I.map(q=>r.jsxs("li",{className:"flex justify-between items-center",children:[r.jsxs("span",{children:[r.jsx(vi,{className:"inline mr-1 h-3 w-3"}),q.name," (",(q.size/1024).toFixed(1)," KB)"]}),r.jsx(O,{type:"button",variant:"ghost",size:"xs",onClick:()=>H(q.id||q.name),children:r.jsx(Re,{className:"h-3 w-3 text-destructive"})})]},q.id||q.name))}),I.length>=5&&r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Maximum 5 attachments reached."})]}),r.jsxs(wt,{className:"pt-4",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",children:t.id?"Update Log":"Submit Log"})]})]})},Hr=({icon:e,label:t,value:n,isHtml:s=!1})=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 py-1.5 border-b border-slate-100 last:border-b-0",children:[r.jsxs("dt",{className:"text-sm font-medium text-slate-600 flex items-center col-span-1",children:[r.jsx(e,{className:"w-4 h-4 mr-2 text-slate-500"}),t,":"]}),s?r.jsx("dd",{className:"text-sm text-slate-800 col-span-2",dangerouslySetInnerHTML:{__html:n||"N/A"}}):r.jsx("dd",{className:"text-sm text-slate-800 col-span-2",children:n||"N/A"})]}),g9=({isOpen:e,onClose:t,log:n,projectDetails:s})=>{var i,o,a,l,c,d;return n?r.jsx(tt,{open:e,onOpenChange:t,children:r.jsxs(Ke,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto custom-scrollbar",children:[r.jsxs(Xe,{className:"pb-4 border-b",children:[r.jsxs(Je,{className:"text-xl font-semibold text-teal-700 flex items-center",children:[r.jsx(Pn,{className:"mr-2 h-6 w-6"}),"Daily Log Details"]}),r.jsxs(ut,{children:["Log for: ",(s==null?void 0:s.projectName)||n.projectId," on ",Pe(new Date(n.logDate),"PPP")]})]}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("dl",{className:"divide-y divide-slate-100",children:[r.jsx(Hr,{icon:ii,label:"Site Location",value:n.siteLocation}),r.jsx(Hr,{icon:Pn,label:"Weather",value:n.weather}),r.jsx(Hr,{icon:Ot,label:"Manpower Count",value:(i=n.manpowerCount)==null?void 0:i.toString()}),r.jsx(Hr,{icon:yt,label:"Work Accomplished",value:(o=n.workAccomplished)==null?void 0:o.replace(/\n/g,"<br />"),isHtml:!0}),r.jsx(Hr,{icon:si,label:"Equipment Used",value:(a=n.equipmentUsed)==null?void 0:a.replace(/\n/g,"<br />"),isHtml:!0}),r.jsx(Hr,{icon:ho,label:"Safety Observations",value:(l=n.safetyObservations)==null?void 0:l.replace(/\n/g,"<br />"),isHtml:!0}),r.jsx(Hr,{icon:lo,label:"Issues/Delays",value:(c=n.issuesEncountered)==null?void 0:c.replace(/\n/g,"<br />"),isHtml:!0}),r.jsx(Hr,{icon:st,label:"General Notes",value:(d=n.generalNotes)==null?void 0:d.replace(/\n/g,"<br />"),isHtml:!0})]}),n.attachments&&n.attachments.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium text-slate-600 flex items-center mb-1",children:[r.jsx(vi,{className:"w-4 h-4 mr-2 text-slate-500"}),"Attachments:"]}),r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:n.attachments.map((h,u)=>r.jsxs("li",{className:"text-blue-600 hover:underline cursor-pointer",onClick:()=>alert(`Simulating download/view of ${h.name}`),children:[h.name," (",(h.size/1024).toFixed(1)," KB)"]},u))})]})]}),r.jsx("div",{className:"pt-4 border-t flex justify-end",children:r.jsx(O,{variant:"outline",onClick:t,children:"Close"})})]})}):null},x9=()=>{var k;const[e,t]=je("cmsDailyLogs",[]),[n]=je("projects",[]),[s,i]=f.useState(!1),[o,a]=f.useState(!1),[l,c]=f.useState(null),[d,h]=f.useState(null),[u,m]=f.useState(""),[p,v]=f.useState("All Projects"),[g,w]=f.useState(null),{toast:j}=fe(),y=R=>{l?(t(P=>P.map(D=>D.id===R.id?R:D)),j({title:"Daily Log Updated"})):(t(P=>[R,...P].sort((D,C)=>new Date(C.logDate)-new Date(D.logDate))),j({title:"Daily Log Submitted"})),i(!1),c(null)},x=R=>{window.confirm("Delete this daily log? This action cannot be undone.")&&(t(P=>P.filter(D=>D.id!==R)),j({title:"Daily Log Deleted",variant:"destructive"}))},b=R=>{c(R),h(null),i(!0)},N=R=>{h(R),c(null),a(!0)},M=()=>{c(null),h(null),i(!0)},S=f.useMemo(()=>e.filter(R=>{var I,W,L;const P=n.find(V=>V.id===R.projectId),D=u===""||(P==null?void 0:P.projectName.toLowerCase().includes(u.toLowerCase()))||((I=P==null?void 0:P.projectCode)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))||((W=R.siteLocation)==null?void 0:W.toLowerCase().includes(u.toLowerCase()))||((L=R.workAccomplished)==null?void 0:L.toLowerCase().includes(u.toLowerCase())),C=p==="All Projects"||R.projectId===p,T=!g||Pe(new Date(R.logDate),"yyyy-MM-dd")===Pe(g,"yyyy-MM-dd");return D&&C&&T}).sort((R,P)=>new Date(P.logDate)-new Date(R.logDate)),[e,n,u,p,g]);return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8 p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-teal-600",children:[r.jsxs(G,{className:"bg-gradient-to-r from-teal-600/10 to-cyan-600/10",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold text-teal-700 flex items-center",children:[r.jsx(Pn,{className:"mr-3 h-7 w-7"}),"Daily Construction Logs"]}),r.jsx(pe,{children:"Record and manage daily site activities, progress, and issues for Civil & Telecom projects."})]}),r.jsxs(O,{onClick:M,className:"mt-4 md:mt-0 bg-teal-600 hover:bg-teal-700",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," Create New Log"]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx($,{placeholder:"Search project, location, activity...",className:"pl-10 w-full",value:u,onChange:R=>m(R.target.value)})]}),r.jsxs(te,{value:p,onValueChange:v,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{placeholder:"Filter by Project"})]})}),r.jsx(ee,{children:["All Projects",...(n||[]).map(R=>({value:R.id,label:`${R.projectName} (${R.projectCode||R.id})`}))].map(R=>r.jsx(_,{value:R.value||R,children:R.label||R},R.value||R))})]}),r.jsx("div",{children:r.jsx(ke,{date:g,setDate:w,placeholder:"Filter by Date"})})]})]}),r.jsx(Q,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Date"}),r.jsx(K,{children:"Project"}),r.jsx(K,{children:"Site Location"}),r.jsx(K,{children:"Manpower"}),r.jsx(K,{children:"Key Activities"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsxs($t,{children:[S.length===0&&r.jsx(De,{children:r.jsx(Y,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No daily logs found. Try adjusting filters or creating a new log."})}),S.map(R=>{const P=n.find(D=>D.id===R.projectId);return r.jsxs(De,{className:"hover:bg-muted/50",children:[r.jsx(Y,{children:Pe(new Date(R.logDate),"dd MMM yyyy")}),r.jsx(Y,{className:"font-medium",children:(P==null?void 0:P.projectName)||R.projectId}),r.jsx(Y,{children:R.siteLocation||"N/A"}),r.jsx(Y,{children:R.manpowerCount}),r.jsxs(Y,{className:"max-w-xs truncate",title:R.workAccomplished,children:[R.workAccomplished.substring(0,50),"..."]}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>N(R),title:"View Log Details",children:r.jsx(dl,{className:"h-4 w-4 text-blue-600"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>b(R),title:"Edit Log",children:r.jsx(Ts,{className:"h-4 w-4 text-yellow-600"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>x(R.id),title:"Delete Log",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},R.id)})]})]})})}),S.length>0&&r.jsxs(ct,{className:"p-4 border-t text-sm text-muted-foreground",children:["Showing ",S.length," of ",e.length," total logs."]})]}),r.jsx(tt,{open:s,onOpenChange:R=>{R||c(null),i(R)},children:r.jsxs(Ke,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto custom-scrollbar",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:l?"Edit Daily Log":"Create New Daily Log"}),r.jsx(ut,{children:l?`Updating log for ${((k=n.find(R=>R.id===l.projectId))==null?void 0:k.projectName)||""} on ${Pe(new Date(l.logDate),"PPP")}`:"Fill in the details for today's site activities."})]}),r.jsx(p9,{onSubmit:y,initialData:l||{},onCancel:()=>{i(!1),c(null)},projects:n})]})}),d&&r.jsx(g9,{isOpen:o,onClose:()=>{a(!1),h(null)},log:d,projectDetails:n.find(R=>R.id===d.projectId)})]})},v9=({onSubmit:e,initialData:t={},onCancel:n})=>{const[s,i]=f.useState(t.title||""),[o,a]=f.useState(t.message||""),[l,c]=f.useState(t.severity||"Medium"),[d,h]=f.useState(t.target||"All Sites"),{toast:u}=fe(),m=p=>{if(p.preventDefault(),!s||!o){u({variant:"destructive",title:"Missing Fields",description:"Title and Message are required."});return}e({id:t.id||`ALERT-${Date.now()}`,title:s,message:o,severity:l,target:d,timestamp:t.timestamp||new Date().toISOString(),status:t.status||"Active"})};return r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"ua-title",children:"Alert Title"}),r.jsx($,{id:"ua-title",value:s,onChange:p=>i(p.target.value)})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"ua-message",children:"Message"}),r.jsx(we,{id:"ua-message",value:o,onChange:p=>a(p.target.value),rows:4})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"ua-severity",children:"Severity"}),r.jsxs(te,{value:l,onValueChange:c,children:[r.jsx(Z,{id:"ua-severity",children:r.jsx(ne,{placeholder:"Select Severity"})}),r.jsxs(ee,{children:[r.jsxs(_,{value:"Critical",children:[r.jsx(ys,{className:"inline h-4 w-4 mr-2 text-red-600"}),"Critical"]}),r.jsxs(_,{value:"High",children:[r.jsx(be,{className:"inline h-4 w-4 mr-2 text-orange-500"}),"High"]}),r.jsxs(_,{value:"Medium",children:[r.jsx(su,{className:"inline h-4 w-4 mr-2 text-yellow-500"}),"Medium"]}),r.jsx(_,{value:"Low",children:"Low"})]})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"ua-target",children:"Target Audience/Sites"}),r.jsx($,{id:"ua-target",value:d,onChange:p=>h(p.target.value)})]})]}),r.jsxs(wt,{className:"pt-2",children:[r.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:t.id?"Update Alert":"Send Alert"})]})]})},y9=()=>{const[e,t]=je("cmsUrgentAlerts",[]),[n,s]=f.useState(!1),[i,o]=f.useState(null),[a,l]=f.useState(null),[c,d]=f.useState(""),[h,u]=f.useState("All Severities"),{toast:m}=fe(),p=x=>{i?(t(b=>b.map(N=>N.id===x.id?{...x,timestamp:new Date().toISOString()}:N)),m({title:"Alert Updated"})):(t(b=>[x,...b].sort((N,M)=>new Date(M.timestamp)-new Date(N.timestamp))),m({title:"Alert Created & Sent",variant:x.severity==="Critical"?"destructive":"default"})),s(!1),o(null)},v=x=>{window.confirm("Are you sure you want to delete this alert?")&&(t(b=>b.filter(N=>N.id!==x)),m({title:"Alert Deleted",variant:"destructive"}))},g=x=>{o(x),s(!0)},w=x=>{l(x)},j=x=>{switch(x==null?void 0:x.toLowerCase()){case"critical":return r.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-700 border border-red-300 flex items-center",children:[r.jsx(ys,{className:"h-3 w-3 mr-1"}),"Critical"]});case"high":return r.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-700 border border-orange-300 flex items-center",children:[r.jsx(be,{className:"h-3 w-3 mr-1"}),"High"]});case"medium":return r.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-700 border border-yellow-300 flex items-center",children:[r.jsx(su,{className:"h-3 w-3 mr-1"}),"Medium"]});default:return r.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-300",children:"Low"})}},y=f.useMemo(()=>e.filter(x=>(x.title.toLowerCase().includes(c.toLowerCase())||x.message.toLowerCase().includes(c.toLowerCase())||x.target.toLowerCase().includes(c.toLowerCase()))&&(h==="All Severities"||x.severity===h)).sort((x,b)=>new Date(b.timestamp)-new Date(x.timestamp)),[e,c,h]);return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsxs(B,{className:"shadow-xl border-t-4 border-red-600",children:[r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold text-red-700 flex items-center",children:[r.jsx(ys,{className:"mr-3 h-7 w-7"}),"Urgent Alerts Management"]}),r.jsx(pe,{children:"View, create, and manage critical system-wide alerts."})]}),r.jsxs(O,{onClick:()=>{o(null),s(!0)},className:"mt-4 md:mt-0 bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(ze,{className:"mr-2 h-4 w-4"})," Create New Alert"]})]}),r.jsxs(Q,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 items-end",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),r.jsx($,{placeholder:"Search alerts...",className:"pl-10 w-full",value:c,onChange:x=>d(x.target.value)})]}),r.jsxs(te,{value:h,onValueChange:u,children:[r.jsx(Z,{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(It,{className:"mr-2 h-4 w-4 text-muted-foreground"})," ",r.jsx(ne,{placeholder:"Filter by Severity"})]})}),r.jsx(ee,{children:["All Severities","Critical","High","Medium","Low"].map(x=>r.jsx(_,{value:x,children:x},x))})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs(Ft,{children:[r.jsx(_t,{children:r.jsxs(De,{children:[r.jsx(K,{children:"Title"}),r.jsx(K,{children:"Severity"}),r.jsx(K,{children:"Target"}),r.jsx(K,{children:"Timestamp"}),r.jsx(K,{className:"text-right",children:"Actions"})]})}),r.jsx($t,{children:y.length===0?r.jsx(De,{children:r.jsx(Y,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No alerts match your criteria."})}):y.map(x=>r.jsxs(De,{className:"hover:bg-muted/50",children:[r.jsx(Y,{className:"font-medium",children:x.title}),r.jsx(Y,{children:j(x.severity)}),r.jsx(Y,{children:x.target}),r.jsx(Y,{children:Pe(zs(x.timestamp),"dd MMM yyyy, HH:mm")}),r.jsxs(Y,{className:"text-right space-x-1",children:[r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>w(x),title:"View Details",children:r.jsx(dl,{className:"h-4 w-4 text-blue-600"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>g(x),title:"Edit Alert",children:r.jsx(mn,{className:"h-4 w-4"})}),r.jsx(O,{variant:"ghost",size:"icon",onClick:()=>v(x.id),title:"Delete Alert",children:r.jsx(Re,{className:"h-4 w-4 text-destructive"})})]})]},x.id))})]})})]}),r.jsxs(ct,{className:"text-sm text-muted-foreground pt-4 border-t",children:["Total alerts: ",e.length,"."]})]}),r.jsx(tt,{open:n,onOpenChange:x=>{x||o(null),s(x)},children:r.jsxs(Ke,{className:"sm:max-w-lg",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:i?"Edit Alert":"Create New Alert"}),r.jsx(ut,{children:"Use alerts for critical information only."})]}),r.jsx(v9,{onSubmit:p,initialData:i||{},onCancel:()=>s(!1)})]})}),r.jsx(tt,{open:!!a,onOpenChange:x=>{x||l(null)},children:r.jsx(Ke,{className:"sm:max-w-lg",children:a&&r.jsxs(r.Fragment,{children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:a.title}),r.jsxs(ut,{className:"flex items-center gap-2",children:[j(a.severity)," ",r.jsxs("span",{className:"text-xs",children:["Target: ",a.target," | ",Pe(zs(a.timestamp),"PPPp")]})]})]}),r.jsx("div",{className:"py-4 prose prose-sm max-w-none dark:prose-invert whitespace-pre-wrap break-words",children:a.message}),r.jsx(wt,{children:r.jsx(O,{onClick:()=>l(null),children:"Close"})})]})})})]})},Fd=[{id:"FOT1M",name:"Fiber Optics Technician (1 Month)",duration:"1 Month"},{id:"AFS2M",name:"Advanced Fiber Splicing (2 Months)",duration:"2 Months"},{id:"FND4M",name:"Fiber Network Design (4 Months)",duration:"4 Months"},{id:"MFP6M",name:"Master Fiber Optic Professional (6 Months)",duration:"6 Months"}],j9=({onSubmit:e,onCancel:t})=>{const[n,s]=f.useState(""),[i,o]=f.useState(""),[a,l]=f.useState(""),[c,d]=f.useState(""),[h,u]=f.useState(""),[m,p]=f.useState(Fd[0].id),[v,g]=f.useState(null),{toast:w}=fe(),j=x=>{if(x.target.files&&x.target.files[0]){const b=x.target.files[0];if(b.size>5*1024*1024){w({variant:"destructive",title:"File too large",description:"ID proof max size is 5MB."});return}g(b)}},y=x=>{if(x.preventDefault(),!n||!i||!a||!m){w({variant:"destructive",title:"Missing Fields",description:"Name, Email, Phone, and Training Type are required."});return}e({id:`FIBER-CAND-${Date.now()}`,candidateName:n,email:i,phone:a,address:c,previousExperience:h,trainingTypeId:m,idProofName:v?v.name:null,registrationDate:new Date().toISOString(),status:"Pending Payment"})};return r.jsxs("form",{onSubmit:y,className:"space-y-4 max-h-[75vh] overflow-y-auto p-1 custom-scrollbar",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"candidateName",children:"Full Name"}),r.jsx($,{id:"candidateName",value:n,onChange:x=>s(x.target.value),placeholder:"Enter candidate's full name"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"email",children:"Email Address"}),r.jsx($,{id:"email",type:"email",value:i,onChange:x=>o(x.target.value),placeholder:"candidate@example.com"})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"phone",children:"Phone Number"}),r.jsx($,{id:"phone",type:"tel",value:a,onChange:x=>l(x.target.value),placeholder:"+91 XXXXX XXXXX"})]})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"address",children:"Full Address"}),r.jsx(we,{id:"address",value:c,onChange:x=>d(x.target.value),placeholder:"Enter full residential address",rows:2})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"experience",children:"Previous Experience (Optional)"}),r.jsx(we,{id:"experience",value:h,onChange:x=>u(x.target.value),placeholder:"Briefly describe any relevant experience",rows:2})]}),r.jsxs("div",{children:[r.jsx(E,{htmlFor:"trainingType",children:"Select Training Program"}),r.jsxs(te,{value:m,onValueChange:p,children:[r.jsx(Z,{id:"trainingType",children:r.jsx(ne,{placeholder:"Select Training"})}),r.jsx(ee,{children:Fd.map(x=>r.jsxs(_,{value:x.id,children:[x.name," (",x.duration,")"]},x.id))})]})]}),r.jsxs("div",{children:[r.jsxs(E,{htmlFor:"idProof",className:"flex items-center",children:[r.jsx(tn,{className:"mr-2 h-4 w-4"}),"Upload ID Proof (PDF/JPG, Max 5MB)"]}),r.jsx($,{id:"idProof",type:"file",onChange:j,accept:".pdf,.jpg,.jpeg,.png"}),v&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center",children:[r.jsx(vi,{className:"h-3 w-3 mr-1"}),v.name," ",r.jsx(O,{type:"button",variant:"ghost",size:"xs",onClick:()=>g(null),className:"ml-2 text-destructive",children:r.jsx(Re,{className:"h-3 w-3"})})]})]}),r.jsxs(B,{className:"mt-4 bg-slate-50 border-slate-200",children:[r.jsx(G,{className:"pb-2",children:r.jsxs(z,{className:"text-md flex items-center text-slate-700",children:[r.jsx(Qe,{className:"mr-2 h-5 w-5"}),"Payment Information"]})}),r.jsxs(Q,{className:"text-sm text-slate-600 space-y-1",children:[r.jsx("p",{children:"Course fees vary by program. Upon submission, you will receive an email with detailed payment instructions."}),r.jsx("p",{children:"Accepted methods: Bank Transfer, Online Payment Gateway (Details will be provided)."}),r.jsx("p",{className:"font-semibold",children:"All programs include a certificate from our 33-year experienced company upon successful completion."})]})]}),r.jsxs(DialogFooter,{className:"pt-4",children:[r.jsx(O,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(O,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",children:"Register Candidate"})]})]})},w9=()=>{const[e,t]=je("cmsFiberTrainingRegistrations",[]),[n,s]=f.useState(!1),{toast:i}=fe(),o=a=>{var l;t(c=>[a,...c]),i({title:"Candidate Registration Submitted",description:`${a.candidateName} is pending payment for ${(l=Fd.find(c=>c.id===a.trainingTypeId))==null?void 0:l.name}.`}),s(!1)};return r.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 md:p-6 lg:p-8",children:[r.jsx(B,{className:"shadow-xl border-t-4 border-purple-600 mb-8",children:r.jsxs(G,{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{children:[r.jsxs(z,{className:"text-2xl font-bold text-purple-700 flex items-center",children:[r.jsx(co,{className:"mr-3 h-7 w-7"}),"Fiber Handon Training Program"]}),r.jsx(pe,{children:"Register candidates for specialized fiber optics training courses. Certified by a 33-year experienced company."})]}),r.jsxs(O,{onClick:()=>s(!0),className:"mt-4 md:mt-0 bg-purple-600 hover:bg-purple-700",children:[r.jsx(iu,{className:"mr-2 h-4 w-4"}),"Register New Candidate"]})]})}),r.jsxs(B,{children:[r.jsx(G,{children:r.jsxs(z,{className:"flex items-center",children:[r.jsx(Rr,{className:"mr-2 h-5 w-5"}),"Registered Candidates (",e.length,")"]})}),r.jsx(Q,{children:e.length===0?r.jsx("p",{className:"text-muted-foreground text-center py-8",children:'No candidates registered yet. Click "Register New Candidate" to begin.'}):r.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto custom-scrollbar",children:e.map(a=>{var l;return r.jsxs(B,{className:"bg-slate-50/70",children:[r.jsxs(G,{className:"flex flex-row justify-between items-start p-4",children:[r.jsxs("div",{children:[r.jsx(z,{className:"text-md",children:a.candidateName}),r.jsxs(pe,{className:"text-xs",children:[a.email," | ",a.phone]})]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.status==="Paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.status})]}),r.jsxs(Q,{className:"p-4 pt-0 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Training:"})," ",((l=Fd.find(c=>c.id===a.trainingTypeId))==null?void 0:l.name)||"N/A"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Registered On:"})," ",new Date(a.registrationDate).toLocaleDateString()]}),a.idProofName&&r.jsxs("p",{className:"flex items-center text-xs text-muted-foreground",children:[r.jsx(vi,{className:"h-3 w-3 mr-1"}),"ID Proof: ",a.idProofName]})]})]},a.id)})})})]}),r.jsx(tt,{open:n,onOpenChange:s,children:r.jsxs(Ke,{className:"sm:max-w-2xl",children:[r.jsxs(Xe,{children:[r.jsx(Je,{children:"New Candidate Registration"}),r.jsx(ut,{children:"Fill in the details for the new training candidate."})]}),r.jsx(j9,{onSubmit:o,onCancel:()=>s(!1)})]})})]})},b9=({title:e,description:t})=>r.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center h-full",children:r.jsxs(B,{className:"w-full max-w-md text-center shadow-xl border-t-4 border-accent",children:[r.jsxs(G,{className:"bg-gradient-to-r from-accent/10 to-primary/5 p-6 rounded-t-lg",children:[r.jsx(si,{className:"mx-auto h-16 w-16 text-accent mb-4"}),r.jsx(z,{className:"text-2xl font-bold text-accent",children:e||"Module Under Construction"}),r.jsx(pe,{children:t||"This feature is currently in development. Please check back later!"})]}),r.jsx(Q,{className:"p-6",children:r.jsx("p",{className:"text-muted-foreground",children:"We are working hard to bring you this functionality. Thank you for your patience."})})]})});function S9(){return r.jsx(h$,{children:r.jsxs(fE,{children:[r.jsx(aE,{children:r.jsxs(se,{path:"/",element:r.jsx(F6,{}),children:[r.jsx(se,{index:!0,element:r.jsx(c8,{})}),r.jsx(se,{path:"dashboard-legacy",element:r.jsx(a8,{})}),r.jsx(se,{path:"project-setup",element:r.jsx(eB,{})}),r.jsx(se,{path:"project-setup-legacy",element:r.jsx(Zq,{})}),r.jsx(se,{path:"projects",element:r.jsx(lB,{})}),r.jsx(se,{path:"projects-legacy",element:r.jsx(iB,{})}),r.jsx(se,{path:"projects/:projectId",element:r.jsx(NB,{})}),r.jsx(se,{path:"live-map-dashboard",element:r.jsx(CB,{})}),r.jsx(se,{path:"schedules-tasks",element:r.jsx(wj,{})}),r.jsx(se,{path:"daily-logs",element:r.jsx(x9,{})}),r.jsx(se,{path:"forms-documents",element:r.jsx(kB,{})}),r.jsx(se,{path:"forms/purchase-request",element:r.jsx(DB,{})}),r.jsx(se,{path:"forms/purchase-request-legacy",element:r.jsx(PB,{})}),r.jsx(se,{path:"forms/work-completion-report",element:r.jsx(TB,{})}),r.jsx(se,{path:"forms/site-inspection-checklist",element:r.jsx(IB,{})}),r.jsx(se,{path:"forms/expense-claim",element:r.jsx(LB,{})}),r.jsx(se,{path:"forms/contract-variation",element:r.jsx(_B,{})}),r.jsx(se,{path:"forms/inventory-transfer",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/leave-request",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/incident-report",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/ai-risk-assessment",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/ocr-note-form",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/medical-prescription-upload",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/engineer-sketch-upload",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/material-receiving-report",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/ai-cash-flow",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/pnl-sheet",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/budget-revision",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/vendor-payment",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/vendor-completion",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/invoice-submission",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/medical-insurance-upload",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/id-card-generator",element:r.jsx($B,{})}),r.jsx(se,{path:"forms/staff-exit-clearance",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/timesheet-submission",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/dpr-submission",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/training-request",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/fiber-training-request",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/eng-training-request",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/telecom-training-request",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/civil-eng-training-request",element:r.jsx(Ze,{})}),r.jsx(se,{path:"forms/placeholder/:formId",element:r.jsx(Ze,{})}),r.jsx(se,{path:"reports",element:r.jsx(JU,{})}),r.jsx(se,{path:"hr-dashboard",element:r.jsx(J0,{})}),r.jsx(se,{path:"hr-staff-registration",element:r.jsx(em,{})}),r.jsx(se,{path:"hr-attendance",element:r.jsx(UB,{})}),r.jsx(se,{path:"hr-attendance-legacy",element:r.jsx(VB,{})}),r.jsx(se,{path:"hr-shifts",element:r.jsx(WB,{})}),r.jsx(se,{path:"hr-safety",element:r.jsx(sj,{})}),r.jsx(se,{path:"inventory-dashboard",element:r.jsx(aj,{})}),r.jsx(se,{path:"equipment-dispatch",element:r.jsx(c9,{})}),r.jsx(se,{path:"equipment-dispatch-legacy",element:r.jsx(o9,{})}),r.jsx(se,{path:"inventory-procurement-log",element:r.jsx(KB,{})}),r.jsx(se,{path:"stakeholder-dashboard",element:r.jsx(tm,{})}),r.jsx(se,{path:"stakeholder-contractor-registration",element:r.jsx(eU,{})}),r.jsx(se,{path:"stakeholder-supplier-portal",element:r.jsx(tU,{})}),r.jsx(se,{path:"legal-agreements",element:r.jsx(vU,{})}),r.jsx(se,{path:"fiber-handon-training",element:r.jsx(w9,{})}),r.jsx(se,{path:"quality-control",element:r.jsx(e9,{})}),r.jsx(se,{path:"communication",element:r.jsx(n9,{})}),r.jsx(se,{path:"dashboard-sitemanager",element:r.jsx(fj,{})}),r.jsx(se,{path:"dashboard-contractor",element:r.jsx(YU,{})}),r.jsx(se,{path:"dashboard-finance",element:r.jsx(pj,{})}),r.jsx(se,{path:"dashboard-admin",element:r.jsx(KU,{})}),r.jsx(se,{path:"ai-tools",element:r.jsx(BU,{})}),r.jsx(se,{path:"security-settings",element:r.jsx(hj,{})})," ",r.jsx(se,{path:"urgent-alerts",element:r.jsx(y9,{})}),r.jsx(se,{path:"site-manager-dashboard",element:r.jsx(fj,{})}),r.jsx(se,{path:"materials-inventory",element:r.jsx(aj,{})}),r.jsx(se,{path:"schedules",element:r.jsx(wj,{})}),r.jsx(se,{path:"safety-compliance",element:r.jsx(sj,{})}),r.jsx(se,{path:"personnel-dashboard",element:r.jsx(J0,{})}),r.jsx(se,{path:"personnel-registration",element:r.jsx(em,{})}),r.jsx(se,{path:"personnel-registration/:staffId",element:r.jsx(em,{})}),r.jsx(se,{path:"contractors",element:r.jsx(tm,{})}),r.jsx(se,{path:"partners",element:r.jsx(tm,{})}),r.jsx(se,{path:"project-financials",element:r.jsx(pj,{})}),r.jsx(se,{path:"settings",element:r.jsx(hj,{})}),r.jsx(se,{path:"*",element:r.jsx(b9,{title:"Page Not Found",description:"The page you are looking for does not exist."})})]})}),r.jsx(c2,{})]})})}const N9=new n$("https://doting-corgi-73.convex.cloud");function C9({children:e}){return r.jsx(s$,{client:N9,children:e})}hm.createRoot(document.getElementById("root")).render(r.jsx(ce.StrictMode,{children:r.jsx(C9,{children:r.jsx(S9,{})})}));
